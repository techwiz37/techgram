// @ts-nocheck
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod2) => __copyProps(__defProp({}, "__esModule", { value: true }), mod2);

// mod.ts
var mod_exports = {};
__export(mod_exports, {
  APP_VERSION: () => APP_VERSION,
  Api: () => telegram_exports,
  BOOL_FALSE: () => BOOL_FALSE,
  BOOL_TRUE: () => BOOL_TRUE,
  Client: () => Client,
  ClientDispatcher: () => ClientDispatcher,
  ClientEncrypted: () => ClientEncrypted,
  ClientPlain: () => ClientPlain,
  ClientWorker: () => ClientWorker,
  Composer: () => Composer,
  ConnectionWebSocket: () => ConnectionWebSocket,
  DEVICE_MODEL: () => DEVICE_MODEL,
  FileType: () => FileType,
  INITIAL_DC: () => INITIAL_DC,
  LANG_CODE: () => LANG_CODE,
  LANG_PACK: () => LANG_PACK,
  MSG_CONTAINER_CONSTRUCTOR: () => MSG_CONTAINER_CONSTRUCTOR,
  Mtproto: () => mtproto_exports,
  PhotoSourceType: () => PhotoSourceType,
  SYSTEM_LANG_CODE: () => SYSTEM_LANG_CODE,
  SYSTEM_VERSION: () => SYSTEM_VERSION,
  StorageIndexedDB: () => StorageIndexedDB,
  StorageLocalStorage: () => StorageLocalStorage,
  StorageMemory: () => StorageMemory,
  StorageSessionStorage: () => StorageSessionStorage,
  TLReader: () => TLReader,
  TLWriter: () => TLWriter,
  Transport: () => Transport,
  TransportAbridged: () => TransportAbridged,
  TransportIntermediate: () => TransportIntermediate,
  VECTOR: () => VECTOR,
  ValueType: () => ValueType,
  X: () => X,
  analyzeOptionalParam: () => analyzeOptionalParam,
  assertMessageType: () => assertMessageType,
  birthdayToTlObject: () => birthdayToTlObject,
  botCommandScopeToTlObject: () => botCommandScopeToTlObject,
  chatAdministratorRightsToTlObject: () => chatAdministratorRightsToTlObject,
  chatMemberRightsToTlObject: () => chatMemberRightsToTlObject,
  checkPassword: () => checkPassword,
  concat: () => concat2,
  constructAnimation: () => constructAnimation,
  constructAudio: () => constructAudio,
  constructBirthday: () => constructBirthday,
  constructBusinessConnection: () => constructBusinessConnection,
  constructCallbackQuery: () => constructCallbackQuery,
  constructCallbackQueryAnswer: () => constructCallbackQueryAnswer,
  constructChat: () => constructChat,
  constructChatAdministratorRights: () => constructChatAdministratorRights,
  constructChatListItem: () => constructChatListItem,
  constructChatListItem2: () => constructChatListItem2,
  constructChatListItem3: () => constructChatListItem3,
  constructChatListItem4: () => constructChatListItem4,
  constructChatMember: () => constructChatMember,
  constructChatMemberRights: () => constructChatMemberRights,
  constructChatMemberUpdated: () => constructChatMemberUpdated,
  constructChatP: () => constructChatP,
  constructChatPhoto: () => constructChatPhoto,
  constructChatSettings: () => constructChatSettings,
  constructChosenInlineResult: () => constructChosenInlineResult,
  constructClaimedGift: () => constructClaimedGift,
  constructClaimedGifts: () => constructClaimedGifts,
  constructContact: () => constructContact,
  constructDice: () => constructDice,
  constructDocument: () => constructDocument,
  constructFailedInvitation: () => constructFailedInvitation,
  constructForwardHeader: () => constructForwardHeader,
  constructGame: () => constructGame,
  constructGift: () => constructGift,
  constructGiftNonUpgraded: () => constructGiftNonUpgraded,
  constructGiftUpgraded: () => constructGiftUpgraded,
  constructGiftUpgradedComponent: () => constructGiftUpgradedComponent,
  constructGiveaway: () => constructGiveaway,
  constructGiveawayParameters: () => constructGiveawayParameters,
  constructInactiveChat: () => constructInactiveChat,
  constructInlineKeyboardButton: () => constructInlineKeyboardButton,
  constructInlineQuery: () => constructInlineQuery,
  constructInlineQueryAnswer: () => constructInlineQueryAnswer,
  constructInlineQueryResult: () => constructInlineQueryResult,
  constructInviteLink: () => constructInviteLink,
  constructInvoice: () => constructInvoice,
  constructJoinRequest: () => constructJoinRequest,
  constructJoinRequest2: () => constructJoinRequest2,
  constructKeyboardButton: () => constructKeyboardButton,
  constructLinkPreview: () => constructLinkPreview,
  constructLiveStreamChannel: () => constructLiveStreamChannel,
  constructLocation: () => constructLocation,
  constructMaskPosition: () => constructMaskPosition,
  constructMessage: () => constructMessage,
  constructMessageEntity: () => constructMessageEntity,
  constructMessageReaction: () => constructMessageReaction,
  constructMessageReactionCount: () => constructMessageReactionCount,
  constructMessageReactionList: () => constructMessageReactionList,
  constructMessageReactionListItem: () => constructMessageReactionListItem,
  constructMessageReactions: () => constructMessageReactions,
  constructMiniAppButtonInfo: () => constructMiniAppButtonInfo,
  constructMiniAppInfo: () => constructMiniAppInfo,
  constructOpeningHours: () => constructOpeningHours,
  constructOrderInfo: () => constructOrderInfo,
  constructPhoto: () => constructPhoto,
  constructPoll: () => constructPoll,
  constructPollAnswer: () => constructPollAnswer,
  constructPollOption: () => constructPollOption,
  constructPreCheckoutQuery: () => constructPreCheckoutQuery,
  constructReaction: () => constructReaction,
  constructReactionCount: () => constructReactionCount,
  constructRefundedPayment: () => constructRefundedPayment,
  constructReplyMarkup: () => constructReplyMarkup,
  constructReplyQuote: () => constructReplyQuote,
  constructRestrictionReason: () => constructRestrictionReason,
  constructSavedChat: () => constructSavedChat,
  constructSavedChats: () => constructSavedChats,
  constructSelfDestructOption: () => constructSelfDestructOption,
  constructShippingAddress: () => constructShippingAddress,
  constructSticker: () => constructSticker,
  constructSticker2: () => constructSticker2,
  constructStickerSet: () => constructStickerSet,
  constructStory: () => constructStory,
  constructStoryContent: () => constructStoryContent,
  constructStoryInteractions: () => constructStoryInteractions,
  constructStoryInteractiveArea: () => constructStoryInteractiveArea,
  constructStoryPrivacy: () => constructStoryPrivacy,
  constructStoryReaction: () => constructStoryReaction,
  constructSuccessfulPayment: () => constructSuccessfulPayment,
  constructThumbnail: () => constructThumbnail,
  constructTopic: () => constructTopic,
  constructTranslation: () => constructTranslation,
  constructUser: () => constructUser,
  constructUser2: () => constructUser2,
  constructVenue: () => constructVenue,
  constructVideo: () => constructVideo,
  constructVideoChat: () => constructVideoChat,
  constructVideoNote: () => constructVideoNote,
  constructVoice: () => constructVoice,
  constructVoiceTranscription: () => constructVoiceTranscription,
  constructorIdToHex: () => constructorIdToHex,
  deserializeFileId: () => deserializeFileId,
  deserializeInlineMessageId: () => deserializeInlineMessageId,
  deserializeMessage: () => deserializeMessage,
  deserializeMsgContainer: () => deserializeMsgContainer,
  errors: () => errors_exports,
  fixKey: () => fixKey,
  flatten: () => flatten,
  fromString: () => fromString,
  getChatListItemOrder: () => getChatListItemOrder,
  getColorFromPeerId: () => getColorFromPeerId,
  getColorName: () => getColorName,
  getDc: () => getDc,
  getDcId: () => getDcId,
  getDcIps: () => getDcIps,
  getOptionalParamInnerType: () => getOptionalParamInnerType,
  getPhotoFileId: () => getPhotoFileId,
  getPhotoSizes: () => getPhotoSizes,
  getPrefixKeyRange: () => getPrefixKeyRange,
  getRandomId: () => getRandomId,
  getVectorItemType: () => getVectorItemType,
  handleMigrationError: () => handleMigrationError,
  inlineKeyboardButtonToTlObject: () => inlineKeyboardButtonToTlObject,
  inlineQueryResultToTlObject: () => inlineQueryResultToTlObject,
  isChatPUser: () => isChatPUser,
  isInRange: () => isInRange,
  isMessageType: () => isMessageType,
  isOptionalParam: () => isOptionalParam,
  keyboardButtonToTlObject: () => keyboardButtonToTlObject,
  messageEntityToTlObject: () => messageEntityToTlObject,
  messageSearchFilterToTlObject: () => messageSearchFilterToTlObject,
  reactionEqual: () => reactionEqual,
  reactionToTlObject: () => reactionToTlObject,
  replyMarkupToTlObject: () => replyMarkupToTlObject,
  repr: () => repr,
  restartAuth: () => restartAuth,
  restoreKey: () => restoreKey,
  selfDestructOptionToInt: () => selfDestructOptionToInt,
  serializeFileId: () => serializeFileId,
  serializeMessage: () => serializeMessage,
  serializeMsgContainer: () => serializeMsgContainer,
  setLogFilter: () => setLogFilter,
  setLogVerbosity: () => setLogVerbosity,
  setLoggingProvider: () => setLoggingProvider,
  skip: () => skip,
  slowModeDurationToSeconds: () => slowModeDurationToSeconds,
  sortMessageEntities: () => sortMessageEntities,
  storyInteractiveAreaToTlObject: () => storyInteractiveAreaToTlObject,
  storyPrivacyToTlObject: () => storyPrivacyToTlObject,
  toJSON: () => toJSON,
  toString: () => toString,
  toUniqueFileId: () => toUniqueFileId,
  transportProviderTcp: () => transportProviderTcp,
  transportProviderWebSocket: () => transportProviderWebSocket,
  validateCallbackQueryQuestion: () => validateCallbackQueryQuestion
});
module.exports = __toCommonJS(mod_exports);

// 0_errors.ts
var TechgramError = class extends Error {
};
var ConnectionError = class extends TechgramError {
  constructor(...args) {
    super(...args);
    this.name = "ConnectionError";
  }
};
var AccessError = class extends TechgramError {
  constructor(...args) {
    super(...args);
    this.name = "AccessError";
  }
};
var InputError = class extends TechgramError {
  constructor(...args) {
    super(...args);
    this.name = "InputError";
  }
};
var TransportError = class extends TechgramError {
  constructor(code) {
    super(`Transport error: ${code}`);
    this.code = code;
    this.name = "TransportError";
  }
};
var TLError = class extends TechgramError {
  name = "TLError";
  #originalMessage;
  #path;
  constructor(message, path) {
    super(`${message}${path.length ? ` at ${path.join(" ")}` : ""}`);
    this.#originalMessage = message;
    this.#path = path;
  }
  get originalMessage() {
    return this.#originalMessage;
  }
  get path() {
    return this.#path;
  }
};

// utilities/0_int.ts
function modExp(a, b, n) {
  a %= n;
  let result = 1n;
  let x = a;
  while (b > 0n) {
    const leastSignificantBit = b % 2n;
    b /= 2n;
    if (leastSignificantBit === 1n) {
      result *= x;
      result %= n;
    }
    x *= x;
    x %= n;
  }
  return result;
}
function mod(n, m) {
  return (n % m + m) % m;
}
function intFromBytes(bytes, { byteOrder = "little", isSigned = true } = {}) {
  const bytesLength = bytes.length;
  if (byteOrder === "little") {
    bytes = bytes.toReversed();
  }
  let bigIntVar = BigInt("0x" + [...bytes].map((v) => v.toString(16).padStart(2, "0")).join(""));
  if (isSigned && Math.floor(bigIntVar.toString(2).length / 8) >= bytesLength) {
    bigIntVar = bigIntVar - 2n ** BigInt(bytesLength * 8);
  }
  return bigIntVar;
}
function getRandomInt(byteLength, isSigned = true) {
  const randomBytes = new Uint8Array(byteLength);
  crypto.getRandomValues(randomBytes);
  return intFromBytes(randomBytes, { isSigned });
}
function getRandomId(isNumber) {
  if (isNumber) {
    return Number(getRandomInt(4, true));
  } else {
    return getRandomInt(8, true);
  }
}
function gcd(a, b) {
  if (a === 0n) {
    return b;
  }
  while ((a & 1n) === 0n) {
    a >>= 1n;
  }
  while (true) {
    if (a > b) {
      a = a - b >> 1n;
      while ((a & 1n) === 0n) {
        a >>= 1n;
      }
    } else if (b > a) {
      b = b - a >> 1n;
      while ((b & 1n) === 0n) {
        b >>= 1n;
      }
    } else {
      return a;
    }
  }
}
var bufferFromHexString = (hexString) => Uint8Array.from(hexString.match(/.{1,2}/g).map((byte2) => parseInt(byte2, 16)));
function intToBytes(int, byteCount, {
  byteOrder = "little",
  isSigned = true,
  path = []
} = {}) {
  const actualByteCount = Math.ceil(int.toString(2).length / 8);
  if (byteCount < actualByteCount) {
    throw new TLError(`The provided integer is too big for int${byteCount * 8}`, path);
  }
  if (byteCount === 4 || byteCount === 2) {
    const buffer2 = new Uint8Array(byteCount);
    const dataView = new DataView(buffer2.buffer);
    (byteCount === 2 ? isSigned ? dataView.setInt16 : dataView.setUint16 : isSigned ? dataView.setInt32 : dataView.setUint32).call(dataView, 0, Number(int), byteOrder === "little");
    return buffer2;
  }
  int = BigInt(typeof int === "number" ? Math.ceil(int) : int);
  if (byteCount === 8) {
    const buffer2 = new Uint8Array(byteCount);
    const dataView = new DataView(buffer2.buffer);
    (isSigned ? dataView.setBigInt64 : dataView.setBigUint64).call(dataView, 0, int, byteOrder === "little");
    return buffer2;
  }
  if (!isSigned && int < 0n) {
    throw new TLError("Received a signed integer while an unsigned one was expected", path);
  }
  if (isSigned && int < 0n) {
    int = 2n ** BigInt(byteCount * 8) + int;
  }
  const hex = int.toString(16).padStart(byteCount * 2, "0");
  const buffer = bufferFromHexString(hex);
  if (byteOrder === "little") {
    buffer.reverse();
  }
  return buffer;
}

// utilities/0_color.ts
function getColorFromPeerId(id5) {
  id5 = Number(String(id5).replaceAll("-100", "-"));
  if (id5 < 0) {
    id5 = -id5;
  }
  return Math.floor(id5 % 7);
}
function getColorName(id5) {
  switch (id5) {
    case 0:
      return "red";
    case 1:
      return "orange";
    case 2:
      return "violet";
    case 3:
      return "green";
    case 4:
      return "cyan";
    case 5:
      return "blue";
    case 6:
      return "pink";
    case 7:
      return "combination 1";
    case 8:
      return "combination 2";
    case 9:
      return "combination 3";
    case 10:
      return "combination 4";
    case 11:
      return "combination 5";
    case 12:
      return "combination 6";
    case 13:
      return "combination 7";
    case 14:
      return "combination 8";
    case 15:
      return "combination 9";
    case 16:
      return "combination 10";
    case 17:
      return "combination 11";
    case 18:
      return "combination 12";
    case 19:
      return "combination 13";
    case 20:
      return "combination 14";
    default:
      return "blue";
  }
}

// 0_deps_node.ts
var import_node_path = require("node:path");
var import_mime_types = require("mime-types");
var import_mime_types2 = require("mime-types");
var import_lru_cache = require("lru-cache");
var import_node_crypto = require("node:crypto");
function assert(condition, message) {
  if (!condition) {
    throw new Error(message || "Assertion failed");
  }
}
function assertFalse(condition, message) {
  if (condition) {
    throw new Error(message || "Assertion failed");
  }
}
function assertEquals(actual, expected, message) {
  if (actual !== expected) {
    throw new Error(message || `Expected ${expected}, but got ${actual}`);
  }
}
function unreachable(message) {
  throw new Error(message || "Unreachable code executed");
}
var AssertionError = class extends Error {
  constructor(message) {
    super(message || "Assertion failed");
    this.name = "AssertionError";
  }
};
function toFileUrl(path) {
  if (path.startsWith("file://")) {
    return new URL(path);
  }
  return new URL(`file://${path.replace(/\\/g, "/")}`);
}
function delay(ms) {
  return new Promise((resolve) => setTimeout(resolve, ms));
}
async function* pooledMap(poolLimit, iterable, iteratorFn) {
  const executing = [];
  const results = [];
  for (const item of iterable) {
    const promise = Promise.resolve(iteratorFn(item));
    results.push(promise);
    const execute = promise.then(() => {
      executing.splice(executing.indexOf(execute), 1);
    });
    executing.push(execute);
    if (executing.length >= poolLimit) {
      await Promise.race(executing);
    }
  }
  for (const result of results) {
    yield await result;
  }
}
function concat(...arrays) {
  const totalLength = arrays.reduce((sum, arr) => sum + arr.length, 0);
  const result = new Uint8Array(totalLength);
  let offset = 0;
  for (const arr of arrays) {
    result.set(arr, offset);
    offset += arr.length;
  }
  return result;
}
var LruCache = class {
  cache;
  constructor(max) {
    let config;
    if (typeof max === "number") {
      config = { max };
    } else {
      config = {};
      if (max.max !== void 0) {
        config.max = max.max;
      }
      if (max.maxSize !== void 0) {
        config.maxSize = max.maxSize;
      }
      if (max.ttl !== void 0) {
        config.ttl = max.ttl;
      }
      if (config.max === void 0 && config.maxSize === void 0 && config.ttl === void 0) {
        config.max = 1e3;
      }
    }
    this.cache = new import_lru_cache.LRUCache(config);
  }
  get(key) {
    return this.cache.get(key);
  }
  set(key, value) {
    this.cache.set(key, value);
  }
  delete(key) {
    return this.cache.delete(key);
  }
  clear() {
    this.cache.clear();
  }
};
async function* iterateReader(reader) {
  const reader_ = reader.getReader();
  try {
    while (true) {
      const { done, value } = await reader_.read();
      if (done)
        break;
      yield value;
    }
  } finally {
    reader_.releaseLock();
  }
}
function format(date, formatString) {
  const year = date.getFullYear();
  const month = String(date.getMonth() + 1).padStart(2, "0");
  const day = String(date.getDate()).padStart(2, "0");
  const hours = String(date.getHours()).padStart(2, "0");
  const minutes = String(date.getMinutes()).padStart(2, "0");
  const seconds = String(date.getSeconds()).padStart(2, "0");
  return formatString.replace("YYYY", String(year)).replace("MM", month).replace("DD", day).replace("HH", hours).replace("mm", minutes).replace("ss", seconds);
}
var MINUTE = 60 * 1e3;
var SECOND = 1e3;
async function toArrayBuffer(stream) {
  const chunks = [];
  for await (const chunk of iterateReader(stream)) {
    chunks.push(chunk);
  }
  const totalLength = chunks.reduce((sum, chunk) => sum + chunk.length, 0);
  const result = new Uint8Array(totalLength);
  let offset = 0;
  for (const chunk of chunks) {
    result.set(chunk, offset);
    offset += chunk.length;
  }
  return result.buffer;
}
function decodeBase64(input) {
  return new Uint8Array(Buffer.from(input, "base64"));
}
function encodeBase64(input) {
  const buffer = input instanceof ArrayBuffer ? new Uint8Array(input) : input;
  return Buffer.from(buffer).toString("base64");
}
function encodeHex(input) {
  const buffer = input instanceof ArrayBuffer ? new Uint8Array(input) : input;
  return Buffer.from(buffer).toString("hex");
}
var contentType = (extensionOrType) => {
  if (extensionOrType === "tgs") {
    return "application/x-tgsticker";
  } else {
    return (0, import_mime_types.contentType)(extensionOrType) || "application/octet-stream";
  }
};
function extension(mimeType) {
  if (mimeType === "application/x-tgsticker") {
    return "tgs";
  } else {
    return (0, import_mime_types2.extension)(mimeType) || "unknown";
  }
}
var tgCryptoInitialized = false;
async function initTgCrypto() {
  tgCryptoInitialized = true;
}
function ige256EncryptInternal(data, key, iv) {
  const cipher = (0, import_node_crypto.createCipheriv)("aes-256-cbc", key, iv);
  cipher.setAutoPadding(false);
  const encrypted = Buffer.concat([cipher.update(data), cipher.final()]);
  return new Uint8Array(encrypted);
}
function ige256DecryptInternal(data, key, iv) {
  const decipher = (0, import_node_crypto.createDecipheriv)("aes-256-cbc", key, iv);
  decipher.setAutoPadding(false);
  const decrypted = Buffer.concat([decipher.update(data), decipher.final()]);
  return new Uint8Array(decrypted);
}
function ige256Encrypt(data, key, iv) {
  if (!tgCryptoInitialized) {
    initTgCrypto();
  }
  const result = new Uint8Array(data.length);
  const prevCiphertext = new Uint8Array(iv);
  const prevPlaintext = new Uint8Array(data);
  for (let i = 0; i < data.length; i += 16) {
    const block = data.slice(i, i + 16);
    const xorBlock = new Uint8Array(16);
    for (let j = 0; j < 16; j++) {
      xorBlock[j] = block[j] ^ prevCiphertext[j];
    }
    const encrypted = ige256EncryptInternal(xorBlock, key, iv);
    for (let j = 0; j < 16; j++) {
      result[i + j] = encrypted[j] ^ prevPlaintext[j];
      prevCiphertext[j] = result[i + j];
      prevPlaintext[j] = block[j];
    }
  }
  return result;
}
function ige256Decrypt(data, key, iv) {
  if (!tgCryptoInitialized) {
    initTgCrypto();
  }
  const result = new Uint8Array(data.length);
  const prevCiphertext = new Uint8Array(iv);
  const prevDecrypted = new Uint8Array(data.length);
  for (let i = 0; i < data.length; i += 16) {
    const block = data.slice(i, i + 16);
    const xorBlock = new Uint8Array(16);
    for (let j = 0; j < 16; j++) {
      xorBlock[j] = block[j] ^ prevDecrypted[j];
    }
    const decrypted = ige256DecryptInternal(xorBlock, key, iv);
    for (let j = 0; j < 16; j++) {
      result[i + j] = decrypted[j] ^ prevCiphertext[j];
      prevCiphertext[j] = block[j];
      prevDecrypted[j] = result[i + j];
    }
  }
  return result;
}

// utilities/0_gzip.ts
function gunzip(buffer) {
  return inner(buffer, new DecompressionStream("gzip"));
}
async function inner(buffer, transformStream) {
  let readable;
  if (ReadableStream.from) {
    readable = ReadableStream.from([buffer]);
  } else {
    readable = new ReadableStream({
      pull(controller) {
        controller.enqueue(buffer);
        controller.close();
      }
    });
  }
  readable = readable.pipeThrough(transformStream);
  return new Uint8Array(await toArrayBuffer(readable));
}

// utilities/0_hash.ts
async function sha256(payload) {
  return new Uint8Array(await crypto.subtle.digest("SHA-256", payload));
}
async function sha1(payload) {
  return new Uint8Array(await crypto.subtle.digest("SHA-1", payload));
}

// utilities/0_mutex.ts
var Mutex = class {
  #untilUnlock = Promise.resolve();
  async lock() {
    await this.#untilUnlock;
    return new Promise((resolve0) => {
      this.#untilUnlock = new Promise((resolve1) => {
        resolve0(resolve1);
      });
    });
  }
};

// utilities/0_object.ts
function cleanObject(object) {
  for (const [k, v] of Object.entries(object)) {
    switch (typeof v) {
      case "undefined":
        delete object[k];
        break;
    }
  }
  return object;
}

// utilities/0_part_stream.ts
var PartStream = class extends TransformStream {
  #buffer = new Uint8Array();
  #totalRead = 0;
  #part = 0;
  constructor(chunkSize) {
    super({
      transform: (chunk, controller) => {
        this.#totalRead += chunk.byteLength;
        chunk = concat([this.#buffer, chunk]);
        while (chunk.byteLength > chunkSize) {
          controller.enqueue({
            small: false,
            part: this.#part++,
            totalParts: -1,
            bytes: chunk.slice(0, chunkSize)
          });
          chunk = chunk.slice(chunkSize);
        }
        this.#buffer = chunk;
      },
      flush: (controller) => {
        controller.enqueue({
          small: this.#totalRead <= chunkSize,
          part: this.#part,
          totalParts: Math.ceil(this.#totalRead / chunkSize),
          bytes: this.#buffer
        });
      }
    });
  }
};

// utilities/0_rle.ts
function rleEncode(s) {
  const r = new Array();
  let n = 0;
  for (const b of s) {
    if (!b) {
      if (n === 255) {
        r.push(0);
        r.push(n);
        n = 1;
      } else {
        n++;
      }
    } else {
      if (n) {
        r.push(0);
        r.push(n);
        n = 0;
      }
      r.push(b);
    }
  }
  if (n) {
    r.push(0);
    r.push(n);
  }
  return new Uint8Array(r);
}
function rleDecode(s) {
  const r = new Array();
  let z = false;
  for (const b of s) {
    if (!b) {
      z = true;
      continue;
    }
    if (z) {
      for (let i = 0; i < b; i++) {
        r.push(0);
      }
      z = false;
    } else {
      r.push(b);
    }
  }
  return new Uint8Array(r);
}

// utilities/0_text.ts
var encoder = new TextEncoder();
var decoder = new TextDecoder();
function encodeText(decoded) {
  return encoder.encode(decoded);
}
function decodeText(encoded) {
  return decoder.decode(encoded);
}

// utilities/0_units.ts
var byte = 1;
var kilobyte = 1024 * byte;
var megabyte = 1024 * kilobyte;

// utilities/1_auth.ts
async function rsaPad(data, [serverKey, exponent]) {
  assert(data.length <= 144);
  let keyAesEncryptedInt;
  let tries = 0;
  do {
    if (++tries === 10) {
      throw new Error("Out of tries");
    }
    const dataWithPadding = concat([data, new Uint8Array(192 - data.length)]);
    const dataPadReversed = new Uint8Array(dataWithPadding).reverse();
    const tempKey = crypto.getRandomValues(new Uint8Array(32));
    const dataWithHash = concat([dataPadReversed, await sha256(concat([tempKey, dataWithPadding]))]);
    const aesEncrypted = ige256Encrypt(dataWithHash, tempKey, new Uint8Array(32));
    const aesEncryptedSha256 = await sha256(aesEncrypted);
    const tempKeyXor = tempKey.map((v, i) => v ^ aesEncryptedSha256[i]);
    const keyAesEncrypted = concat([tempKeyXor, aesEncrypted]);
    assertEquals(keyAesEncrypted.length, 256);
    keyAesEncryptedInt = intFromBytes(keyAesEncrypted, { byteOrder: "big", isSigned: false });
  } while (keyAesEncryptedInt >= serverKey);
  const encryptedDataInt = modExp(keyAesEncryptedInt, exponent, serverKey);
  const encryptedData = intToBytes(encryptedDataInt, 256, { byteOrder: "big", isSigned: false });
  assertEquals(encryptedData.length, 256);
  return encryptedData;
}

// utilities/1_base64.ts
function base64EncodeUrlSafe(data) {
  return encodeBase64(data).replace(/=*$/, "").replaceAll("+", "-").replaceAll("/", "_");
}
function base64DecodeUrlSafe(data) {
  data = data.replaceAll("_", "/").replaceAll("-", "+");
  if (data.length !== 4) {
    data += "=".repeat(mod(-data.length, 4));
  }
  return decodeBase64(data);
}

// utilities/1_crypto.ts
var CTR = class {
  #key;
  #iv;
  #bytesUntilNextBlock = 0;
  #promise;
  get _state() {
    return { iv: new Uint8Array(this.#iv), state: this.#bytesUntilNextBlock };
  }
  constructor(key, iv) {
    this.#key = key;
    this.#iv = iv;
  }
  static async importKey(key) {
    return await crypto.subtle.importKey("raw", key, "AES-CTR", false, ["encrypt"]);
  }
  async call(data) {
    if (this.#promise) {
      await Promise.allSettled([this.#promise]);
    }
    return await (this.#promise = this.#call(data));
  }
  async #call(data) {
    let header;
    if (this.#bytesUntilNextBlock) {
      const headerLength = Math.min(data.length, this.#iv.length - this.#bytesUntilNextBlock);
      const encrypted2 = await this.#encrypt(concat([new Uint8Array(this.#bytesUntilNextBlock), data.subarray(0, headerLength)]));
      header = encrypted2.subarray(this.#bytesUntilNextBlock);
      data = data.subarray(headerLength);
      if (encrypted2.length === this.#iv.length) {
        this.#increaseIv(1);
        this.#bytesUntilNextBlock = 0;
      } else {
        this.#bytesUntilNextBlock += headerLength;
      }
    }
    if (!data.length && header) {
      return header;
    }
    const encrypted = await this.#encrypt(data);
    this.#bytesUntilNextBlock = encrypted.length % this.#iv.length;
    this.#increaseIv((encrypted.length - this.#bytesUntilNextBlock) / this.#iv.length);
    return header ? concat([header, encrypted]) : encrypted;
  }
  async #encrypt(data) {
    return new Uint8Array(
      await crypto.subtle.encrypt(
        {
          name: "AES-CTR",
          counter: new Uint8Array(this.#iv),
          length: this.#iv.length * 8
        },
        this.#key,
        data
      )
    );
  }
  #increaseIv(amount) {
    if (amount < 1) {
      return;
    }
    this.#iv = intToBytes(intFromBytes(this.#iv, { byteOrder: "big", isSigned: false }) + BigInt(amount), this.#iv.length, { byteOrder: "big", isSigned: false });
  }
};

// utilities/0_env.ts
var prefix = "TECHGRAM__";
var global_ = globalThis;
function getString(name) {
  const globalName = prefix + name;
  if (globalName in global_) {
    const value = global_[globalName];
    if (value) {
      const string = value + "";
      if (string) {
        return string;
      }
    }
    return null;
  } else if ("Deno" in global_) {
    return global_.Deno.env.get(name) ?? null;
  } else if ("process" in global_) {
    return global_.process.env[name] ?? null;
  } else {
    return null;
  }
}
function getNumber(name) {
  const value = getString(name);
  if (value === null) {
    return null;
  }
  const number = Number(value);
  if (isNaN(number)) {
    return null;
  } else {
    return number;
  }
}

// utilities/1_logger.ts
var verbosity = getNumber("LOG_VERBOSITY") || 0;
function setLogVerbosity(verbosity_) {
  verbosity = verbosity_;
}
var LOG_FILTER = getString("LOG_FILTER");
var filter = LOG_FILTER === null ? null : new RegExp(LOG_FILTER);
function setLogFilter(filter_) {
  filter = filter_;
}
var provider = console;
function setLoggingProvider(provider_) {
  provider = provider_;
}
var ERROR = 1;
var WARNING = 2;
var INFO = 3;
var DEBUG = 4;
var TRACE = 5;
var IN = 10;
var OUT = 10;
var IN_BIN = 20;
var OUT_BIN = 20;
var INA = ">".repeat(6);
var OUTA = "<".repeat(6);
function toHex(p) {
  let s = "";
  for (const b of p) {
    s += b.toString(16).toUpperCase().padStart(2, "0");
  }
  return s;
}
function getLogger(scope) {
  return {
    client(id5) {
      return getLogger(`${id5.toString().padStart(2)} ${scope}`);
    },
    branch(name) {
      return getLogger(`${scope}::${name}`);
    },
    error(...args) {
      this.log(ERROR, ...args);
    },
    warning(...args) {
      this.log(WARNING, ...args);
    },
    info(...args) {
      this.log(INFO, ...args);
    },
    debug(...args) {
      this.log(DEBUG, ...args);
    },
    trace(...args) {
      this.log(TRACE, ...args);
    },
    in(...args) {
      this.log(IN, INA, ...args);
    },
    out(...args) {
      this.log(OUT, OUTA, ...args);
    },
    inBin(p) {
      if (verbosity < IN_BIN) {
        return;
      }
      this.log(IN_BIN, INA, toHex(p));
    },
    outBin(p) {
      if (verbosity < OUT_BIN) {
        return;
      }
      this.log(OUT_BIN, OUTA, toHex(p));
    },
    log(verbosity_, ...args) {
      if (verbosity < verbosity_) {
        return;
      }
      if (filter !== null && !filter.test(scope)) {
        return;
      }
      let fn;
      switch (verbosity_) {
        case ERROR:
          fn = provider.error;
          break;
        case WARNING:
          fn = provider.warn;
          break;
        case INFO:
          fn = provider.info;
          break;
        case DEBUG:
          fn = provider.debug;
          break;
        default:
          fn = provider.log;
      }
      fn(`[${format(/* @__PURE__ */ new Date(), "yyyy.MM.dd HH:mm:ss.SSS")} ${verbosity_} ${scope}]`, ...args);
    }
  };
}

// utilities/1_math.ts
function getRandomNumberInRange(min, max) {
  return Math.floor(Math.random() * (max - min) + min);
}
function factorize(pq) {
  let a;
  let b;
  let p = 0n;
  let q;
  const one = 1n;
  let found = false;
  for (let i = 0, iter = 0; !found && (i < 3 || iter < 1e3); i++) {
    const t = BigInt(getRandomNumberInRange(17, 32)) % (pq - 1n);
    a = getRandomId();
    b = a;
    const lim = 1 << i + 23;
    for (let j = 1; j < lim; j++) {
      iter++;
      a = mod(a * a, pq);
      a += t;
      if (a >= pq) {
        a = a - pq;
      }
      if (a > b) {
        q = a - b;
      } else {
        q = b - a;
      }
      p = gcd(q, pq);
      if (p !== one) {
        found = true;
        break;
      }
      if ((j & j - 1) === 0) {
        b = a;
      }
    }
  }
  if (found) {
    q = pq / p;
    if (p > q) {
      return [q, p];
    } else {
      return [p, q];
    }
  }
  unreachable();
}

// utilities/0_misc.ts
function drop(maybePromise) {
  if (maybePromise !== void 0 && maybePromise !== null && typeof maybePromise === "object" && maybePromise instanceof Promise) {
    maybePromise.catch(() => {
    });
  }
}
var ZERO_CHANNEL_ID = -1e12;
function toUnixTimestamp(date) {
  return Math.floor(date.getTime() / SECOND);
}
function fromUnixTimestamp(date) {
  return new Date(date * SECOND);
}
async function* iterateReadableStream(stream) {
  const reader = stream.getReader();
  try {
    while (true) {
      const { done, value } = await reader.read();
      if (done)
        return;
      yield value;
    }
  } finally {
    reader.releaseLock();
  }
}
async function awaitablePooledMap(poolLimit, array, iteratorFn) {
  const iterable = pooledMap(poolLimit, array, iteratorFn);
  if (Array.fromAsync !== void 0) {
    return await Array.fromAsync(iterable);
  } else {
    const values = new Array();
    for await (const value of iterable) {
      values.push(value);
    }
    return values;
  }
}

// utilities/2_queue.ts
var Queue = class {
  #logger;
  functions = new Array();
  #throw;
  constructor(name, throw_ = false) {
    this.#logger = getLogger(`q/${name}`);
    this.#throw = throw_;
  }
  add(fn) {
    this.functions.push(fn);
    this.#check();
  }
  #busy = false;
  #check() {
    if (this.#busy) {
      return;
    } else {
      this.#busy = true;
    }
    const fn = this.functions.shift();
    if (fn !== void 0) {
      const promise = fn().finally(() => {
        this.#busy = false;
        this.#check();
      });
      if (!this.#throw) {
        promise.catch((err) => {
          this.#logger.error(typeof err === "object" && err !== null && "stack" in err ? err.stack : err);
        });
      }
    } else {
      this.#busy = false;
    }
  }
};

// tl/0_utilities.ts
function isOptionalParam(ntype) {
  return ntype.includes("?");
}
function getOptionalParamInnerType(ntype) {
  return ntype.split("?")[1];
}
function analyzeOptionalParam(ntype) {
  if (!isOptionalParam(ntype)) {
    throw new Error("Parameter not optional");
  }
  const flagField = ntype.split(".")[0];
  assertEquals(typeof flagField, "string");
  const bitIndex = Number(ntype.split("?")[0].split(".")[1]);
  assertFalse(isNaN(bitIndex));
  return { flagField, bitIndex };
}
function repr(value) {
  return value === void 0 ? "undefined" : value === null ? null : typeof value === "object" && "_" in value ? value._ : value.constructor.name;
}
function toJSON(object) {
  if (typeof object === "bigint") {
    return { _: "bigint", bigint: String(object) };
  } else if (object instanceof Uint8Array) {
    return { _: "buffer", buffer: encodeHex(object) };
  } else if (object === null) {
    return null;
  } else if (Array.isArray(object)) {
    return object.map(toJSON);
  } else if (typeof object === "object") {
    const newObject = {};
    for (const [key, value] of Object.entries(object)) {
      newObject[key] = toJSON(value);
    }
    return newObject;
  } else {
    return object;
  }
}
function getVectorItemType(type) {
  if (!type.startsWith(VECTOR_PREFIX) || !type.endsWith(VECTOR_SUFFIX)) {
    return null;
  }
  return type.slice(VECTOR_PREFIX.length).slice(0, -1 * VECTOR_SUFFIX.length);
}
var VECTOR_PREFIX = "Vector<";
var VECTOR_SUFFIX = ">";
var X = "X";
var VECTOR = 481674261;
var BOOL_TRUE = 2574415285;
var BOOL_FALSE = 3162085175;
function constructorIdToHex(constructorId) {
  return constructorId.toString(16);
}

// tl/1_tl_reader.ts
var TLReader = class {
  constructor(_buffer) {
    this._buffer = _buffer;
  }
  #path = new Array();
  get buffer() {
    return this._buffer;
  }
  read(byteCount) {
    if (this._buffer.byteLength < byteCount) {
      throw new TLError("No data remaining", this.#path);
    }
    const buffer = this._buffer.slice(0, byteCount);
    this._buffer = this._buffer.subarray(byteCount);
    return buffer;
  }
  unread(count) {
    const newOffest = this._buffer.byteOffset - count;
    if (newOffest < 0) {
      throw new TLError("No data has been read", this.#path);
    }
    this._buffer = new Uint8Array(this._buffer.buffer, newOffest);
  }
  readInt24(isSigned = true) {
    const buffer = this.read(24 / 8);
    return Number(intFromBytes(buffer, { isSigned }));
  }
  readInt32(isSigned = true) {
    const buffer = this.read(32 / 8);
    return Number(intFromBytes(buffer, { isSigned }));
  }
  unreadInt32() {
    this.unread(32 / 8);
  }
  readInt64(isSigned = true) {
    const buffer = this.read(64 / 8);
    return intFromBytes(buffer, { isSigned });
  }
  readDouble() {
    const buffer = this.read(8);
    return new DataView(buffer.buffer, buffer.byteOffset, buffer.byteLength).getFloat64(0, true);
  }
  readInt128(isSigned = true) {
    const buffer = this.read(128 / 8);
    return intFromBytes(buffer, { isSigned });
  }
  readInt256(isSigned = true) {
    const buffer = this.read(256 / 8);
    return intFromBytes(buffer, { isSigned });
  }
  readBytes() {
    let L5 = this.read(1)[0];
    let padding;
    if (L5 > 253) {
      L5 = this.readInt24();
      padding = L5 % 4;
    } else {
      padding = (L5 + 1) % 4;
    }
    const bytes = this.read(L5);
    if (padding > 0) {
      padding = 4 - padding;
      this.read(padding);
    }
    return bytes;
  }
  readString() {
    return decodeText(this.readBytes());
  }
  async readType(name, schema3) {
    if (isOptionalParam(name)) {
      name = getOptionalParamInnerType(name);
    }
    const primitive = this.#deserializePrimitive(name);
    if (primitive !== void 0) {
      return primitive;
    }
    const id5 = this.readInt32(false);
    if (name === X) {
      const typeName = schema3.identifierToName[id5];
      if (!typeName) {
        throw new TLError(`Unknown constructor ID: ${constructorIdToHex(id5)}`, this.#path);
      }
      this.unreadInt32();
      return await this.readType(typeName, schema3);
    }
    if (id5 === VECTOR) {
      return await this.#deserializeVector(name, schema3);
    }
    const definition = schema3.definitions[name];
    if (definition) {
      return await this.#deserializeType(name, definition, id5, schema3);
    }
    const deserializedEnum = await this.#deserializeEnum(name, id5, schema3);
    if (deserializedEnum !== void 0) {
      return deserializedEnum;
    }
    throw new TLError(`Unknown type: ${name}#${constructorIdToHex(id5)}`, this.#path);
  }
  async #deserializeEnum(type, id5, schema3) {
    const name = schema3.identifierToName[id5];
    if (!name) {
      return;
    }
    const definition = schema3.definitions[name];
    if (definition[2] !== type) {
      return;
    }
    return await this.#deserializeType(name, definition, id5, schema3);
  }
  async #deserializeType(type, desc, id5, schema3) {
    if (desc[0] !== id5) {
      throw new TLError(`Expected constructor with ID ${constructorIdToHex(desc[0])} but received ${constructorIdToHex(id5)}`, this.#path);
    }
    let isFirstPathElementExisting = false;
    const type_ = { _: type };
    const flagFields = {};
    for (const [name, fieldType] of desc[1]) {
      if (isOptionalParam(fieldType)) {
        const { flagField, bitIndex } = analyzeOptionalParam(fieldType);
        const bits = flagFields[flagField];
        if ((bits & 1 << bitIndex) === 0) {
          continue;
        }
      }
      if (fieldType === "#") {
        flagFields[name] = this.readInt32();
        continue;
      }
      const pathElement = `[${type}.]${name}`;
      if (isFirstPathElementExisting) {
        this.#path[this.#path.length - 1] = pathElement;
      } else {
        this.#path.push(pathElement);
        isFirstPathElementExisting = true;
      }
      const value = await this.readType(fieldType, schema3);
      if (typeof value !== "boolean" || value) {
        type_[name] = value;
      }
    }
    return type_;
  }
  async #deserializeVector(type, schema3) {
    const itemType = getVectorItemType(type);
    if (!itemType) {
      throw new TLError(`Expected Vector but received ${type}`, this.#path);
    }
    const size = this.readInt32();
    const array = new Array();
    for (let i = 0; i < size; ++i) {
      array.push(await this.readType(itemType, schema3));
    }
    return array;
  }
  #deserializePrimitive(type) {
    switch (type) {
      case "bytes":
        return this.readBytes();
      case "int128":
        return this.readInt128();
      case "int256":
        return this.readInt256();
      case "double":
        return this.readDouble();
      case "long":
        return this.readInt64();
      case "true":
        return true;
      case "int":
        return this.readInt32();
      case "Bool": {
        const id5 = this.readInt32(false);
        if (id5 === BOOL_TRUE) {
          return true;
        } else if (id5 === BOOL_FALSE) {
          return false;
        } else {
          throw new TLError(`Expected boolTrue or boolFalse but received ${constructorIdToHex(id5)}`, this.#path);
        }
      }
      case "string":
        return this.readString();
    }
  }
};

// tl/1_tl_writer.ts
var TLWriter = class {
  _buffer = new Uint8Array();
  #path = new Array();
  constructor() {
  }
  get buffer() {
    return this._buffer;
  }
  write(buffer) {
    this._buffer = concat([this._buffer, buffer]);
    return this;
  }
  writeInt24(int, isSigned = true) {
    this.write(intToBytes(int, 24 / 8, { isSigned, path: this.#path }));
    return this;
  }
  writeInt32(int, isSigned = true) {
    this.write(intToBytes(int, 32 / 8, { isSigned, path: this.#path }));
    return this;
  }
  writeInt64(int, isSigned = true) {
    this.write(intToBytes(int, 64 / 8, { isSigned, path: this.#path }));
    return this;
  }
  writeDouble(double) {
    const buffer = new Uint8Array(8);
    new DataView(buffer.buffer, buffer.byteOffset, buffer.byteLength).setFloat64(0, double, true);
    this.write(buffer);
    return this;
  }
  writeInt128(int, isSigned = true) {
    this.write(intToBytes(int, 128 / 8, { isSigned, path: this.#path }));
    return this;
  }
  writeInt256(int, isSigned = true) {
    this.write(intToBytes(int, 256 / 8, { isSigned, path: this.#path }));
    return this;
  }
  writeBytes(bytes) {
    let padding;
    if (bytes.length > 253) {
      this.write(new Uint8Array([254]));
      this.writeInt24(bytes.length);
      padding = bytes.length % 4;
    } else {
      this.write(new Uint8Array([bytes.length]));
      padding = (bytes.length + 1) % 4;
    }
    this.write(bytes);
    if (padding > 0) {
      padding = 4 - padding;
      this.write(new Uint8Array(padding));
    }
    return this;
  }
  writeString(string) {
    this.writeBytes(encodeText(string));
    return this;
  }
  writeObject(value, schema3) {
    this.#serialize(value._, value, schema3);
    return this;
  }
  #serialize(type, value, schema3) {
    if (this.#serializePrimitive(type, value)) {
      return;
    }
    if (this.#serializeVector(type, value, schema3)) {
      return;
    }
    const maybeDefinition = schema3.definitions[value._];
    if (!maybeDefinition) {
      throw new TLError(`Unknown constructor: ${value._}`, this.#path);
    }
    if (type !== "!X" && !this.#isTypeValid(type, value, schema3)) {
      throw new TLError(`Expected ${type} but instead got ${value._}`, this.#path);
    }
    const type__ = value;
    const [id5, parameters_] = maybeDefinition;
    this.writeInt32(id5, false);
    let isFirstPathElementExisting = false;
    for (let [name, type2] of parameters_.values()) {
      if (isOptionalParam(type2) && type__[name] === void 0) {
        continue;
      }
      if (type2 === "#") {
        let flags = 0;
        const flagField_ = name;
        for (const [name2, type3] of parameters_) {
          if (isOptionalParam(type3)) {
            const { flagField, bitIndex } = analyzeOptionalParam(type3);
            if (flagField === flagField_) {
              if (type__[name2] !== void 0) {
                flags |= 1 << bitIndex;
              }
            }
          }
        }
        this.writeInt32(flags);
        continue;
      }
      const pathElement = `[${value._}.]${name}`;
      if (isFirstPathElementExisting) {
        this.#path[this.#path.length - 1] = pathElement;
      } else {
        this.#path.push(pathElement);
        isFirstPathElementExisting = true;
      }
      if (type__[name] === void 0 && !isOptionalParam(type2)) {
        throw new TLError("Missing required field", this.#path);
      }
      if (isOptionalParam(type2)) {
        type2 = getOptionalParamInnerType(type2);
      }
      this.#serialize(type2, type__[name], schema3);
    }
    return;
  }
  #serializeVector(type, value, schema3) {
    const itemType = getVectorItemType(type);
    if (!itemType) {
      return false;
    }
    if (!Array.isArray(value)) {
      throw new TLError(`Expected an array but received ${repr(value)}`, this.#path);
    }
    this.writeInt32(VECTOR, false);
    this.writeInt32(value.length);
    for (const item of value) {
      this.#serialize(itemType, item, schema3);
    }
    return true;
  }
  #serializePrimitive(type, value) {
    const valueRepr = repr(value);
    switch (type) {
      case "bytes":
        if (value instanceof Uint8Array) {
          this.writeBytes(value);
        } else {
          throw new TLError(`Expected Uint8Array but received ${valueRepr}`, this.#path);
        }
        return true;
      case "int128":
        if (typeof value === "bigint") {
          this.writeInt128(value);
        } else {
          throw new TLError(`Expected bigint but received ${valueRepr}`, this.#path);
        }
        return true;
      case "int256":
        if (typeof value === "bigint") {
          this.writeInt256(value);
        } else {
          throw new TLError(`Expected bigint but received ${valueRepr}`, this.#path);
        }
        return true;
      case "long":
        if (typeof value === "bigint") {
          this.writeInt64(value);
        } else {
          throw new TLError(`Expected bigint but received ${valueRepr}`, this.#path);
        }
        return true;
      case "Bool":
        if (typeof value === "boolean") {
          if (value) {
            this.writeInt32(BOOL_TRUE);
          } else {
            this.writeInt32(BOOL_FALSE);
          }
        } else {
          throw new TLError(`Expected boolean but received ${valueRepr}`, this.#path);
        }
        return true;
      case "int":
        if (value === null) {
          value = 0;
        }
        if (typeof value === "number") {
          if (value % 1 === 0) {
            this.writeInt32(value);
          } else {
            throw new TLError("Expected an integer value but received a floating point", this.#path);
          }
        } else {
          throw new TLError(`Expected number but received ${valueRepr}`, this.#path);
        }
        return true;
      case "double":
        if (value === null) {
          value = 0;
        }
        if (typeof value === "number") {
          this.writeDouble(value);
        } else {
          throw new TLError(`Expected number but received ${valueRepr}`, this.#path);
        }
        return true;
      case "string":
        if (typeof value === "string") {
          this.writeString(value);
        } else if (value instanceof Uint8Array) {
          this.writeBytes(value);
        } else {
          this.writeString("");
        }
        return true;
      case "true":
        if (value !== true) {
          throw new TLError(`Expected \`true\` but received ${valueRepr}`, this.#path);
        }
        return true;
      default:
        return false;
    }
  }
  #isTypeValid(type, value, schema3) {
    if (type === value._) {
      return true;
    }
    return schema3.definitions[value._]?.[2] === type;
  }
};

// tl/2_message.ts
async function serializeMessage(message) {
  let body;
  if (message.body instanceof Uint8Array) {
    body = message.body;
  } else {
    body = await serializeMsgContainer(message.body);
  }
  const writer = new TLWriter().writeInt64(message.msg_id).writeInt32(message.seqno).writeInt32(body.length).write(body);
  return writer.buffer;
}
async function deserializeMessage(reader) {
  const id_ = reader.readInt64();
  const seqno = reader.readInt32();
  const length = reader.readInt32();
  reader = new TLReader(reader.read(length));
  const reader2 = new TLReader(reader.buffer);
  const id5 = reader2.readInt32(false);
  let body;
  {
    if (id5 === MSG_CONTAINER_CONSTRUCTOR) {
      body = await deserializeMsgContainer(reader2.buffer);
    } else {
      body = reader.buffer;
    }
  }
  return { _: "message", msg_id: id_, seqno, body };
}
var MSG_CONTAINER_CONSTRUCTOR = 1945237724;
async function serializeMsgContainer(msgContainer) {
  const writer = new TLWriter();
  writer.writeInt32(MSG_CONTAINER_CONSTRUCTOR, false);
  writer.writeInt32(msgContainer.messages.length);
  for (const message of msgContainer.messages) {
    writer.write(await serializeMessage(message));
  }
  return writer.buffer;
}
async function deserializeMsgContainer(buffer) {
  const reader = new TLReader(buffer);
  const length = reader.readInt32();
  const messages = new Array();
  for (let i = 0; i < length; i++) {
    messages.push(await deserializeMessage(reader));
  }
  return { _: "msg_container", messages };
}

// tl/2_mtproto.ts
var mtproto_exports = {};
__export(mtproto_exports, {
  as: () => as2,
  assertIsValidObject: () => assertIsValidObject2,
  deserializeType: () => deserializeType,
  is: () => is2,
  isOfEnum: () => isOfEnum2,
  isOneOf: () => isOneOf2,
  isValidObject: () => isValidObject2,
  mustGetReturnType: () => mustGetReturnType2,
  schema: () => schema,
  serializeObject: () => serializeObject
});

// tl/1_mtproto_api.ts
var schema = Object.freeze({
  definitions: {
    resPQ: [
      85337187,
      [
        ["nonce", "int128"],
        ["server_nonce", "int128"],
        ["pq", "bytes"],
        ["server_public_key_fingerprints", "Vector<long>"]
      ],
      "ResPQ"
    ],
    p_q_inner_data_dc: [
      2851430293,
      [
        ["pq", "bytes"],
        ["p", "bytes"],
        ["q", "bytes"],
        ["nonce", "int128"],
        ["server_nonce", "int128"],
        ["new_nonce", "int256"],
        ["dc", "int"]
      ],
      "P_Q_inner_data"
    ],
    p_q_inner_data_temp_dc: [
      1459478408,
      [
        ["pq", "bytes"],
        ["p", "bytes"],
        ["q", "bytes"],
        ["nonce", "int128"],
        ["server_nonce", "int128"],
        ["new_nonce", "int256"],
        ["dc", "int"],
        ["expires_in", "int"]
      ],
      "P_Q_inner_data"
    ],
    server_DH_params_ok: [
      3504867164,
      [
        ["nonce", "int128"],
        ["server_nonce", "int128"],
        ["encrypted_answer", "bytes"]
      ],
      "Server_DH_Params"
    ],
    server_DH_inner_data: [
      3045658042,
      [
        ["nonce", "int128"],
        ["server_nonce", "int128"],
        ["g", "int"],
        ["dh_prime", "bytes"],
        ["g_a", "bytes"],
        ["server_time", "int"]
      ],
      "Server_DH_inner_data"
    ],
    client_DH_inner_data: [
      1715713620,
      [
        ["nonce", "int128"],
        ["server_nonce", "int128"],
        ["retry_id", "long"],
        ["g_b", "bytes"]
      ],
      "Client_DH_Inner_Data"
    ],
    dh_gen_ok: [
      1003222836,
      [
        ["nonce", "int128"],
        ["server_nonce", "int128"],
        ["new_nonce_hash1", "int128"]
      ],
      "Set_client_DH_params_answer"
    ],
    dh_gen_retry: [
      1188831161,
      [
        ["nonce", "int128"],
        ["server_nonce", "int128"],
        ["new_nonce_hash2", "int128"]
      ],
      "Set_client_DH_params_answer"
    ],
    dh_gen_fail: [
      2795351554,
      [
        ["nonce", "int128"],
        ["server_nonce", "int128"],
        ["new_nonce_hash3", "int128"]
      ],
      "Set_client_DH_params_answer"
    ],
    bind_auth_key_inner: [
      1973679973,
      [
        ["nonce", "long"],
        ["temp_auth_key_id", "long"],
        ["perm_auth_key_id", "long"],
        ["temp_session_id", "long"],
        ["expires_at", "int"]
      ],
      "BindAuthKeyInner"
    ],
    rpc_error: [
      558156313,
      [
        ["error_code", "int"],
        ["error_message", "string"]
      ],
      "RpcError"
    ],
    rpc_answer_unknown: [
      1579864942,
      [],
      "RpcDropAnswer"
    ],
    rpc_answer_dropped_running: [
      3447252358,
      [],
      "RpcDropAnswer"
    ],
    rpc_answer_dropped: [
      2755319991,
      [
        ["msg_id", "long"],
        ["seq_no", "int"],
        ["bytes", "int"]
      ],
      "RpcDropAnswer"
    ],
    future_salt: [
      155834844,
      [
        ["valid_since", "int"],
        ["valid_until", "int"],
        ["salt", "long"]
      ],
      "FutureSalt"
    ],
    future_salts: [
      2924480661,
      [
        ["req_msg_id", "long"],
        ["now", "int"],
        ["salts", "vector<FutureSalt>"]
      ],
      "FutureSalts"
    ],
    pong: [
      880243653,
      [
        ["msg_id", "long"],
        ["ping_id", "long"]
      ],
      "Pong"
    ],
    destroy_session_ok: [
      3793765884,
      [
        ["session_id", "long"]
      ],
      "DestroySessionRes"
    ],
    destroy_session_none: [
      1658015945,
      [
        ["session_id", "long"]
      ],
      "DestroySessionRes"
    ],
    new_session_created: [
      2663516424,
      [
        ["first_msg_id", "long"],
        ["unique_id", "long"],
        ["server_salt", "long"]
      ],
      "NewSession"
    ],
    gzip_packed: [
      812830625,
      [
        ["packed_data", "bytes"]
      ],
      "Object"
    ],
    msgs_ack: [
      1658238041,
      [
        ["msg_ids", "Vector<long>"]
      ],
      "MsgsAck"
    ],
    bad_msg_notification: [
      2817521681,
      [
        ["bad_msg_id", "long"],
        ["bad_msg_seqno", "int"],
        ["error_code", "int"]
      ],
      "BadMsgNotification"
    ],
    bad_server_salt: [
      3987424379,
      [
        ["bad_msg_id", "long"],
        ["bad_msg_seqno", "int"],
        ["error_code", "int"],
        ["new_server_salt", "long"]
      ],
      "BadMsgNotification"
    ],
    msg_resend_req: [
      2105940488,
      [
        ["msg_ids", "Vector<long>"]
      ],
      "MsgResendReq"
    ],
    msgs_state_req: [
      3664378706,
      [
        ["msg_ids", "Vector<long>"]
      ],
      "MsgsStateReq"
    ],
    msgs_state_info: [
      81704317,
      [
        ["req_msg_id", "long"],
        ["info", "bytes"]
      ],
      "MsgsStateInfo"
    ],
    msgs_all_info: [
      2361446705,
      [
        ["msg_ids", "Vector<long>"],
        ["info", "bytes"]
      ],
      "MsgsAllInfo"
    ],
    msg_detailed_info: [
      661470918,
      [
        ["msg_id", "long"],
        ["answer_msg_id", "long"],
        ["bytes", "int"],
        ["status", "int"]
      ],
      "MsgDetailedInfo"
    ],
    msg_new_detailed_info: [
      2157819615,
      [
        ["answer_msg_id", "long"],
        ["bytes", "int"],
        ["status", "int"]
      ],
      "MsgDetailedInfo"
    ],
    destroy_auth_key_ok: [
      4133544404,
      [],
      "DestroyAuthKeyRes"
    ],
    destroy_auth_key_none: [
      178201177,
      [],
      "DestroyAuthKeyRes"
    ],
    destroy_auth_key_fail: [
      3926956819,
      [],
      "DestroyAuthKeyRes"
    ],
    http_wait: [
      2459514271,
      [
        ["max_delay", "int"],
        ["wait_after", "int"],
        ["max_wait", "int"]
      ],
      "HttpWait"
    ],
    req_pq_multi: [
      3195965169,
      [
        ["nonce", "int128"]
      ],
      "ResPQ"
    ],
    req_DH_params: [
      3608339646,
      [
        ["nonce", "int128"],
        ["server_nonce", "int128"],
        ["p", "bytes"],
        ["q", "bytes"],
        ["public_key_fingerprint", "long"],
        ["encrypted_data", "bytes"]
      ],
      "Server_DH_Params"
    ],
    set_client_DH_params: [
      4110704415,
      [
        ["nonce", "int128"],
        ["server_nonce", "int128"],
        ["encrypted_data", "bytes"]
      ],
      "Set_client_DH_params_answer"
    ],
    rpc_drop_answer: [
      1491380032,
      [
        ["req_msg_id", "long"]
      ],
      "RpcDropAnswer"
    ],
    get_future_salts: [
      3105996036,
      [
        ["num", "int"]
      ],
      "FutureSalts"
    ],
    ping: [
      2059302892,
      [
        ["ping_id", "long"]
      ],
      "Pong"
    ],
    ping_delay_disconnect: [
      4081220492,
      [
        ["ping_id", "long"],
        ["disconnect_delay", "int"]
      ],
      "Pong"
    ],
    destroy_session: [
      3880853798,
      [
        ["session_id", "long"]
      ],
      "DestroySessionRes"
    ],
    destroy_auth_key: [
      3510849888,
      [],
      "DestroyAuthKeyRes"
    ]
  },
  identifierToName: {
    [85337187]: "resPQ",
    [2851430293]: "p_q_inner_data_dc",
    [1459478408]: "p_q_inner_data_temp_dc",
    [3504867164]: "server_DH_params_ok",
    [3045658042]: "server_DH_inner_data",
    [1715713620]: "client_DH_inner_data",
    [1003222836]: "dh_gen_ok",
    [1188831161]: "dh_gen_retry",
    [2795351554]: "dh_gen_fail",
    [1973679973]: "bind_auth_key_inner",
    [558156313]: "rpc_error",
    [1579864942]: "rpc_answer_unknown",
    [3447252358]: "rpc_answer_dropped_running",
    [2755319991]: "rpc_answer_dropped",
    [155834844]: "future_salt",
    [2924480661]: "future_salts",
    [880243653]: "pong",
    [3793765884]: "destroy_session_ok",
    [1658015945]: "destroy_session_none",
    [2663516424]: "new_session_created",
    [812830625]: "gzip_packed",
    [1658238041]: "msgs_ack",
    [2817521681]: "bad_msg_notification",
    [3987424379]: "bad_server_salt",
    [2105940488]: "msg_resend_req",
    [3664378706]: "msgs_state_req",
    [81704317]: "msgs_state_info",
    [2361446705]: "msgs_all_info",
    [661470918]: "msg_detailed_info",
    [2157819615]: "msg_new_detailed_info",
    [4133544404]: "destroy_auth_key_ok",
    [178201177]: "destroy_auth_key_none",
    [3926956819]: "destroy_auth_key_fail",
    [2459514271]: "http_wait"
  }
});

// tl/1_utilities.ts
function isValidObject(object, schema3) {
  return object !== null && typeof object === "object" && typeof object._ === "string" && schema3.definitions[object._] !== void 0;
}
function assertIsValidObject(object, schema3) {
  if (!isValidObject(object, schema3)) {
    unreachable();
  }
}
function is(typeName, value, schema3) {
  if (!isValidObject(value, schema3)) {
    return false;
  } else {
    return value._ === typeName;
  }
}
function isOneOf(names, value, schema3) {
  return names.some((v) => is(v, value, schema3));
}
function isOfEnum(name, value, schema3) {
  return isValidObject(value, schema3) && schema3.definitions[value._][2] === name;
}
function as(name, value, schema3) {
  if (is(name, value, schema3)) {
    return value;
  } else {
    unreachable();
  }
}
function mustGetReturnType(name, schema3) {
  const type = schema3.definitions[name];
  if (!type || !type[2]) {
    unreachable();
  }
  return type[2];
}

// tl/2_mtproto.ts
async function deserializeType(name, bufferOrReader) {
  const reader = bufferOrReader instanceof Uint8Array ? new TLReader(bufferOrReader) : bufferOrReader;
  return await reader.readType(name, schema);
}
function serializeObject(object) {
  return new TLWriter().writeObject(object, schema).buffer;
}
function isValidObject2(object) {
  return isValidObject(object, schema);
}
function assertIsValidObject2(object) {
  return assertIsValidObject(object, schema);
}
function is2(name, value) {
  return is(name, value, schema);
}
function isOneOf2(names, value) {
  return isOneOf(names, value, schema);
}
function isOfEnum2(name, value) {
  return isOfEnum(name, value, schema);
}
function as2(name, value) {
  return as(name, value, schema);
}
function mustGetReturnType2(name) {
  return mustGetReturnType(name, schema);
}

// tl/2_telegram.ts
var telegram_exports = {};
__export(telegram_exports, {
  LAYER: () => LAYER,
  as: () => as3,
  assertIsValidObject: () => assertIsValidObject3,
  chatIdToPeer: () => chatIdToPeer,
  chatIdToPeerId: () => chatIdToPeerId,
  deserializeType: () => deserializeType2,
  getChannelChatId: () => getChannelChatId,
  getChatIdPeerType: () => getChatIdPeerType,
  inputPeerToPeer: () => inputPeerToPeer,
  is: () => is3,
  isGenericFunction: () => isGenericFunction,
  isOfEnum: () => isOfEnum3,
  isOneOf: () => isOneOf3,
  isValidObject: () => isValidObject3,
  mustGetReturnType: () => mustGetReturnType3,
  peerToChatId: () => peerToChatId,
  schema: () => schema2,
  serializeObject: () => serializeObject2
});

// tl/1_telegram_api.ts
var schema2 = Object.freeze({
  definitions: {
    true: [
      1072550713,
      [],
      "True"
    ],
    error: [
      3300522427,
      [
        ["code", "int"],
        ["text", "string"]
      ],
      "Error"
    ],
    ipPort: [
      3560156531,
      [
        ["ipv4", "int"],
        ["port", "int"]
      ],
      "IpPort"
    ],
    ipPortSecret: [
      932718150,
      [
        ["ipv4", "int"],
        ["port", "int"],
        ["secret", "bytes"]
      ],
      "IpPort"
    ],
    accessPointRule: [
      1182381663,
      [
        ["phone_prefix_rules", "string"],
        ["dc_id", "int"],
        ["ips", "vector<IpPort>"]
      ],
      "AccessPointRule"
    ],
    "help.configSimple": [
      1515793004,
      [
        ["date", "int"],
        ["expires", "int"],
        ["rules", "vector<AccessPointRule>"]
      ],
      "help.ConfigSimple"
    ],
    inputPeerPhotoFileLocationLegacy: [
      668375447,
      [
        ["flags", "#"],
        ["big", "flags.0?true"],
        ["peer", "InputPeer"],
        ["volume_id", "long"],
        ["local_id", "int"]
      ],
      "InputFileLocation"
    ],
    inputStickerSetThumbLegacy: [
      230353641,
      [
        ["stickerset", "InputStickerSet"],
        ["volume_id", "long"],
        ["local_id", "int"]
      ],
      "InputFileLocation"
    ],
    inputPeerEmpty: [
      2134579434,
      [],
      "InputPeer"
    ],
    inputPeerSelf: [
      2107670217,
      [],
      "InputPeer"
    ],
    inputPeerChat: [
      900291769,
      [
        ["chat_id", "long"]
      ],
      "InputPeer"
    ],
    inputPeerUser: [
      3723011404,
      [
        ["user_id", "long"],
        ["access_hash", "long"]
      ],
      "InputPeer"
    ],
    inputPeerChannel: [
      666680316,
      [
        ["channel_id", "long"],
        ["access_hash", "long"]
      ],
      "InputPeer"
    ],
    inputPeerUserFromMessage: [
      2826635804,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["user_id", "long"]
      ],
      "InputPeer"
    ],
    inputPeerChannelFromMessage: [
      3173648448,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["channel_id", "long"]
      ],
      "InputPeer"
    ],
    inputUserEmpty: [
      3112732367,
      [],
      "InputUser"
    ],
    inputUserSelf: [
      4156666175,
      [],
      "InputUser"
    ],
    inputUser: [
      4061223110,
      [
        ["user_id", "long"],
        ["access_hash", "long"]
      ],
      "InputUser"
    ],
    inputUserFromMessage: [
      497305826,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["user_id", "long"]
      ],
      "InputUser"
    ],
    inputPhoneContact: [
      1780335806,
      [
        ["flags", "#"],
        ["client_id", "long"],
        ["phone", "string"],
        ["first_name", "string"],
        ["last_name", "string"],
        ["note", "flags.0?TextWithEntities"]
      ],
      "InputContact"
    ],
    inputFile: [
      4113560191,
      [
        ["id", "long"],
        ["parts", "int"],
        ["name", "string"],
        ["md5_checksum", "string"]
      ],
      "InputFile"
    ],
    inputFileBig: [
      4199484341,
      [
        ["id", "long"],
        ["parts", "int"],
        ["name", "string"]
      ],
      "InputFile"
    ],
    inputFileStoryDocument: [
      1658620744,
      [
        ["id", "InputDocument"]
      ],
      "InputFile"
    ],
    inputMediaEmpty: [
      2523198847,
      [],
      "InputMedia"
    ],
    inputMediaUploadedPhoto: [
      505969924,
      [
        ["flags", "#"],
        ["spoiler", "flags.2?true"],
        ["file", "InputFile"],
        ["stickers", "flags.0?Vector<InputDocument>"],
        ["ttl_seconds", "flags.1?int"]
      ],
      "InputMedia"
    ],
    inputMediaPhoto: [
      3015312949,
      [
        ["flags", "#"],
        ["spoiler", "flags.1?true"],
        ["id", "InputPhoto"],
        ["ttl_seconds", "flags.0?int"]
      ],
      "InputMedia"
    ],
    inputMediaGeoPoint: [
      4190388548,
      [
        ["geo_point", "InputGeoPoint"]
      ],
      "InputMedia"
    ],
    inputMediaContact: [
      4171988475,
      [
        ["phone_number", "string"],
        ["first_name", "string"],
        ["last_name", "string"],
        ["vcard", "string"]
      ],
      "InputMedia"
    ],
    inputMediaUploadedDocument: [
      58495792,
      [
        ["flags", "#"],
        ["nosound_video", "flags.3?true"],
        ["force_file", "flags.4?true"],
        ["spoiler", "flags.5?true"],
        ["file", "InputFile"],
        ["thumb", "flags.2?InputFile"],
        ["mime_type", "string"],
        ["attributes", "Vector<DocumentAttribute>"],
        ["stickers", "flags.0?Vector<InputDocument>"],
        ["video_cover", "flags.6?InputPhoto"],
        ["video_timestamp", "flags.7?int"],
        ["ttl_seconds", "flags.1?int"]
      ],
      "InputMedia"
    ],
    inputMediaDocument: [
      2826320565,
      [
        ["flags", "#"],
        ["spoiler", "flags.2?true"],
        ["id", "InputDocument"],
        ["video_cover", "flags.3?InputPhoto"],
        ["video_timestamp", "flags.4?int"],
        ["ttl_seconds", "flags.0?int"],
        ["query", "flags.1?string"]
      ],
      "InputMedia"
    ],
    inputMediaVenue: [
      3242007569,
      [
        ["geo_point", "InputGeoPoint"],
        ["title", "string"],
        ["address", "string"],
        ["provider", "string"],
        ["venue_id", "string"],
        ["venue_type", "string"]
      ],
      "InputMedia"
    ],
    inputMediaPhotoExternal: [
      3854302746,
      [
        ["flags", "#"],
        ["spoiler", "flags.1?true"],
        ["url", "string"],
        ["ttl_seconds", "flags.0?int"]
      ],
      "InputMedia"
    ],
    inputMediaDocumentExternal: [
      2006319353,
      [
        ["flags", "#"],
        ["spoiler", "flags.1?true"],
        ["url", "string"],
        ["ttl_seconds", "flags.0?int"],
        ["video_cover", "flags.2?InputPhoto"],
        ["video_timestamp", "flags.3?int"]
      ],
      "InputMedia"
    ],
    inputMediaGame: [
      3544138739,
      [
        ["id", "InputGame"]
      ],
      "InputMedia"
    ],
    inputMediaInvoice: [
      1080028941,
      [
        ["flags", "#"],
        ["title", "string"],
        ["description", "string"],
        ["photo", "flags.0?InputWebDocument"],
        ["invoice", "Invoice"],
        ["payload", "bytes"],
        ["provider", "flags.3?string"],
        ["provider_data", "DataJSON"],
        ["start_param", "flags.1?string"],
        ["extended_media", "flags.2?InputMedia"]
      ],
      "InputMedia"
    ],
    inputMediaGeoLive: [
      2535434307,
      [
        ["flags", "#"],
        ["stopped", "flags.0?true"],
        ["geo_point", "InputGeoPoint"],
        ["heading", "flags.2?int"],
        ["period", "flags.1?int"],
        ["proximity_notification_radius", "flags.3?int"]
      ],
      "InputMedia"
    ],
    inputMediaPoll: [
      261416433,
      [
        ["flags", "#"],
        ["poll", "Poll"],
        ["correct_answers", "flags.0?Vector<bytes>"],
        ["solution", "flags.1?string"],
        ["solution_entities", "flags.1?Vector<MessageEntity>"]
      ],
      "InputMedia"
    ],
    inputMediaDice: [
      3866083195,
      [
        ["emoticon", "string"]
      ],
      "InputMedia"
    ],
    inputMediaStory: [
      2315114360,
      [
        ["peer", "InputPeer"],
        ["id", "int"]
      ],
      "InputMedia"
    ],
    inputMediaWebPage: [
      3256584265,
      [
        ["flags", "#"],
        ["force_large_media", "flags.0?true"],
        ["force_small_media", "flags.1?true"],
        ["optional", "flags.2?true"],
        ["url", "string"]
      ],
      "InputMedia"
    ],
    inputMediaPaidMedia: [
      3289396102,
      [
        ["flags", "#"],
        ["stars_amount", "long"],
        ["extended_media", "Vector<InputMedia>"],
        ["payload", "flags.0?string"]
      ],
      "InputMedia"
    ],
    inputMediaTodo: [
      2680512478,
      [
        ["todo", "TodoList"]
      ],
      "InputMedia"
    ],
    inputMediaStakeDice: [
      4087948362,
      [
        ["game_hash", "string"],
        ["ton_amount", "long"],
        ["client_seed", "bytes"]
      ],
      "InputMedia"
    ],
    inputChatPhotoEmpty: [
      480546647,
      [],
      "InputChatPhoto"
    ],
    inputChatUploadedPhoto: [
      3184373440,
      [
        ["flags", "#"],
        ["file", "flags.0?InputFile"],
        ["video", "flags.1?InputFile"],
        ["video_start_ts", "flags.2?double"],
        ["video_emoji_markup", "flags.3?VideoSize"]
      ],
      "InputChatPhoto"
    ],
    inputChatPhoto: [
      2303962423,
      [
        ["id", "InputPhoto"]
      ],
      "InputChatPhoto"
    ],
    inputGeoPointEmpty: [
      3837862870,
      [],
      "InputGeoPoint"
    ],
    inputGeoPoint: [
      1210199983,
      [
        ["flags", "#"],
        ["lat", "double"],
        ["long", "double"],
        ["accuracy_radius", "flags.0?int"]
      ],
      "InputGeoPoint"
    ],
    inputPhotoEmpty: [
      483901197,
      [],
      "InputPhoto"
    ],
    inputPhoto: [
      1001634122,
      [
        ["id", "long"],
        ["access_hash", "long"],
        ["file_reference", "bytes"]
      ],
      "InputPhoto"
    ],
    inputFileLocation: [
      3755650017,
      [
        ["volume_id", "long"],
        ["local_id", "int"],
        ["secret", "long"],
        ["file_reference", "bytes"]
      ],
      "InputFileLocation"
    ],
    inputEncryptedFileLocation: [
      4112735573,
      [
        ["id", "long"],
        ["access_hash", "long"]
      ],
      "InputFileLocation"
    ],
    inputDocumentFileLocation: [
      3134223748,
      [
        ["id", "long"],
        ["access_hash", "long"],
        ["file_reference", "bytes"],
        ["thumb_size", "string"]
      ],
      "InputFileLocation"
    ],
    inputSecureFileLocation: [
      3418877480,
      [
        ["id", "long"],
        ["access_hash", "long"]
      ],
      "InputFileLocation"
    ],
    inputTakeoutFileLocation: [
      700340377,
      [],
      "InputFileLocation"
    ],
    inputPhotoFileLocation: [
      1075322878,
      [
        ["id", "long"],
        ["access_hash", "long"],
        ["file_reference", "bytes"],
        ["thumb_size", "string"]
      ],
      "InputFileLocation"
    ],
    inputPhotoLegacyFileLocation: [
      3627312883,
      [
        ["id", "long"],
        ["access_hash", "long"],
        ["file_reference", "bytes"],
        ["volume_id", "long"],
        ["local_id", "int"],
        ["secret", "long"]
      ],
      "InputFileLocation"
    ],
    inputPeerPhotoFileLocation: [
      925204121,
      [
        ["flags", "#"],
        ["big", "flags.0?true"],
        ["peer", "InputPeer"],
        ["photo_id", "long"]
      ],
      "InputFileLocation"
    ],
    inputStickerSetThumb: [
      2642736091,
      [
        ["stickerset", "InputStickerSet"],
        ["thumb_version", "int"]
      ],
      "InputFileLocation"
    ],
    inputGroupCallStream: [
      93890858,
      [
        ["flags", "#"],
        ["call", "InputGroupCall"],
        ["time_ms", "long"],
        ["scale", "int"],
        ["video_channel", "flags.0?int"],
        ["video_quality", "flags.0?int"]
      ],
      "InputFileLocation"
    ],
    peerUser: [
      1498486562,
      [
        ["user_id", "long"]
      ],
      "Peer"
    ],
    peerChat: [
      918946202,
      [
        ["chat_id", "long"]
      ],
      "Peer"
    ],
    peerChannel: [
      2728736542,
      [
        ["channel_id", "long"]
      ],
      "Peer"
    ],
    "storage.fileUnknown": [
      2861972229,
      [],
      "storage.FileType"
    ],
    "storage.filePartial": [
      1086091090,
      [],
      "storage.FileType"
    ],
    "storage.fileJpeg": [
      8322574,
      [],
      "storage.FileType"
    ],
    "storage.fileGif": [
      3403786975,
      [],
      "storage.FileType"
    ],
    "storage.filePng": [
      172975040,
      [],
      "storage.FileType"
    ],
    "storage.filePdf": [
      2921222285,
      [],
      "storage.FileType"
    ],
    "storage.fileMp3": [
      1384777335,
      [],
      "storage.FileType"
    ],
    "storage.fileMov": [
      1258941372,
      [],
      "storage.FileType"
    ],
    "storage.fileMp4": [
      3016663268,
      [],
      "storage.FileType"
    ],
    "storage.fileWebp": [
      276907596,
      [],
      "storage.FileType"
    ],
    userEmpty: [
      3552332666,
      [
        ["id", "long"]
      ],
      "User"
    ],
    user: [
      829899656,
      [
        ["flags", "#"],
        ["self", "flags.10?true"],
        ["contact", "flags.11?true"],
        ["mutual_contact", "flags.12?true"],
        ["deleted", "flags.13?true"],
        ["bot", "flags.14?true"],
        ["bot_chat_history", "flags.15?true"],
        ["bot_nochats", "flags.16?true"],
        ["verified", "flags.17?true"],
        ["restricted", "flags.18?true"],
        ["min", "flags.20?true"],
        ["bot_inline_geo", "flags.21?true"],
        ["support", "flags.23?true"],
        ["scam", "flags.24?true"],
        ["apply_min_photo", "flags.25?true"],
        ["fake", "flags.26?true"],
        ["bot_attach_menu", "flags.27?true"],
        ["premium", "flags.28?true"],
        ["attach_menu_enabled", "flags.29?true"],
        ["flags2", "#"],
        ["bot_can_edit", "flags2.1?true"],
        ["close_friend", "flags2.2?true"],
        ["stories_hidden", "flags2.3?true"],
        ["stories_unavailable", "flags2.4?true"],
        ["contact_require_premium", "flags2.10?true"],
        ["bot_business", "flags2.11?true"],
        ["bot_has_main_app", "flags2.13?true"],
        ["bot_forum_view", "flags2.16?true"],
        ["id", "long"],
        ["access_hash", "flags.0?long"],
        ["first_name", "flags.1?string"],
        ["last_name", "flags.2?string"],
        ["username", "flags.3?string"],
        ["phone", "flags.4?string"],
        ["photo", "flags.5?UserProfilePhoto"],
        ["status", "flags.6?UserStatus"],
        ["bot_info_version", "flags.14?int"],
        ["restriction_reason", "flags.18?Vector<RestrictionReason>"],
        ["bot_inline_placeholder", "flags.19?string"],
        ["lang_code", "flags.22?string"],
        ["emoji_status", "flags.30?EmojiStatus"],
        ["usernames", "flags2.0?Vector<Username>"],
        ["stories_max_id", "flags2.5?RecentStory"],
        ["color", "flags2.8?PeerColor"],
        ["profile_color", "flags2.9?PeerColor"],
        ["bot_active_users", "flags2.12?int"],
        ["bot_verification_icon", "flags2.14?long"],
        ["send_paid_messages_stars", "flags2.15?long"]
      ],
      "User"
    ],
    userProfilePhotoEmpty: [
      1326562017,
      [],
      "UserProfilePhoto"
    ],
    userProfilePhoto: [
      2194798342,
      [
        ["flags", "#"],
        ["has_video", "flags.0?true"],
        ["personal", "flags.2?true"],
        ["photo_id", "long"],
        ["stripped_thumb", "flags.1?bytes"],
        ["dc_id", "int"]
      ],
      "UserProfilePhoto"
    ],
    userStatusEmpty: [
      164646985,
      [],
      "UserStatus"
    ],
    userStatusOnline: [
      3988339017,
      [
        ["expires", "int"]
      ],
      "UserStatus"
    ],
    userStatusOffline: [
      9203775,
      [
        ["was_online", "int"]
      ],
      "UserStatus"
    ],
    userStatusRecently: [
      2065268168,
      [
        ["flags", "#"],
        ["by_me", "flags.0?true"]
      ],
      "UserStatus"
    ],
    userStatusLastWeek: [
      1410997530,
      [
        ["flags", "#"],
        ["by_me", "flags.0?true"]
      ],
      "UserStatus"
    ],
    userStatusLastMonth: [
      1703516023,
      [
        ["flags", "#"],
        ["by_me", "flags.0?true"]
      ],
      "UserStatus"
    ],
    chatEmpty: [
      693512293,
      [
        ["id", "long"]
      ],
      "Chat"
    ],
    chat: [
      1103884886,
      [
        ["flags", "#"],
        ["creator", "flags.0?true"],
        ["left", "flags.2?true"],
        ["deactivated", "flags.5?true"],
        ["call_active", "flags.23?true"],
        ["call_not_empty", "flags.24?true"],
        ["noforwards", "flags.25?true"],
        ["id", "long"],
        ["title", "string"],
        ["photo", "ChatPhoto"],
        ["participants_count", "int"],
        ["date", "int"],
        ["version", "int"],
        ["migrated_to", "flags.6?InputChannel"],
        ["admin_rights", "flags.14?ChatAdminRights"],
        ["default_banned_rights", "flags.18?ChatBannedRights"]
      ],
      "Chat"
    ],
    chatForbidden: [
      1704108455,
      [
        ["id", "long"],
        ["title", "string"]
      ],
      "Chat"
    ],
    channel: [
      473084188,
      [
        ["flags", "#"],
        ["creator", "flags.0?true"],
        ["left", "flags.2?true"],
        ["broadcast", "flags.5?true"],
        ["verified", "flags.7?true"],
        ["megagroup", "flags.8?true"],
        ["restricted", "flags.9?true"],
        ["signatures", "flags.11?true"],
        ["min", "flags.12?true"],
        ["scam", "flags.19?true"],
        ["has_link", "flags.20?true"],
        ["has_geo", "flags.21?true"],
        ["slowmode_enabled", "flags.22?true"],
        ["call_active", "flags.23?true"],
        ["call_not_empty", "flags.24?true"],
        ["fake", "flags.25?true"],
        ["gigagroup", "flags.26?true"],
        ["noforwards", "flags.27?true"],
        ["join_to_send", "flags.28?true"],
        ["join_request", "flags.29?true"],
        ["forum", "flags.30?true"],
        ["flags2", "#"],
        ["stories_hidden", "flags2.1?true"],
        ["stories_hidden_min", "flags2.2?true"],
        ["stories_unavailable", "flags2.3?true"],
        ["signature_profiles", "flags2.12?true"],
        ["autotranslation", "flags2.15?true"],
        ["broadcast_messages_allowed", "flags2.16?true"],
        ["monoforum", "flags2.17?true"],
        ["forum_tabs", "flags2.19?true"],
        ["id", "long"],
        ["access_hash", "flags.13?long"],
        ["title", "string"],
        ["username", "flags.6?string"],
        ["photo", "ChatPhoto"],
        ["date", "int"],
        ["restriction_reason", "flags.9?Vector<RestrictionReason>"],
        ["admin_rights", "flags.14?ChatAdminRights"],
        ["banned_rights", "flags.15?ChatBannedRights"],
        ["default_banned_rights", "flags.18?ChatBannedRights"],
        ["participants_count", "flags.17?int"],
        ["usernames", "flags2.0?Vector<Username>"],
        ["stories_max_id", "flags2.4?RecentStory"],
        ["color", "flags2.7?PeerColor"],
        ["profile_color", "flags2.8?PeerColor"],
        ["emoji_status", "flags2.9?EmojiStatus"],
        ["level", "flags2.10?int"],
        ["subscription_until_date", "flags2.11?int"],
        ["bot_verification_icon", "flags2.13?long"],
        ["send_paid_messages_stars", "flags2.14?long"],
        ["linked_monoforum_id", "flags2.18?long"]
      ],
      "Chat"
    ],
    channelForbidden: [
      399807445,
      [
        ["flags", "#"],
        ["broadcast", "flags.5?true"],
        ["megagroup", "flags.8?true"],
        ["id", "long"],
        ["access_hash", "long"],
        ["title", "string"],
        ["until_date", "flags.16?int"]
      ],
      "Chat"
    ],
    chatFull: [
      640893467,
      [
        ["flags", "#"],
        ["can_set_username", "flags.7?true"],
        ["has_scheduled", "flags.8?true"],
        ["translations_disabled", "flags.19?true"],
        ["id", "long"],
        ["about", "string"],
        ["participants", "ChatParticipants"],
        ["chat_photo", "flags.2?Photo"],
        ["notify_settings", "PeerNotifySettings"],
        ["exported_invite", "flags.13?ExportedChatInvite"],
        ["bot_info", "flags.3?Vector<BotInfo>"],
        ["pinned_msg_id", "flags.6?int"],
        ["folder_id", "flags.11?int"],
        ["call", "flags.12?InputGroupCall"],
        ["ttl_period", "flags.14?int"],
        ["groupcall_default_join_as", "flags.15?Peer"],
        ["theme_emoticon", "flags.16?string"],
        ["requests_pending", "flags.17?int"],
        ["recent_requesters", "flags.17?Vector<long>"],
        ["available_reactions", "flags.18?ChatReactions"],
        ["reactions_limit", "flags.20?int"]
      ],
      "ChatFull"
    ],
    channelFull: [
      3839931037,
      [
        ["flags", "#"],
        ["can_view_participants", "flags.3?true"],
        ["can_set_username", "flags.6?true"],
        ["can_set_stickers", "flags.7?true"],
        ["hidden_prehistory", "flags.10?true"],
        ["can_set_location", "flags.16?true"],
        ["has_scheduled", "flags.19?true"],
        ["can_view_stats", "flags.20?true"],
        ["blocked", "flags.22?true"],
        ["flags2", "#"],
        ["can_delete_channel", "flags2.0?true"],
        ["antispam", "flags2.1?true"],
        ["participants_hidden", "flags2.2?true"],
        ["translations_disabled", "flags2.3?true"],
        ["stories_pinned_available", "flags2.5?true"],
        ["view_forum_as_messages", "flags2.6?true"],
        ["restricted_sponsored", "flags2.11?true"],
        ["can_view_revenue", "flags2.12?true"],
        ["paid_media_allowed", "flags2.14?true"],
        ["can_view_stars_revenue", "flags2.15?true"],
        ["paid_reactions_available", "flags2.16?true"],
        ["stargifts_available", "flags2.19?true"],
        ["paid_messages_available", "flags2.20?true"],
        ["id", "long"],
        ["about", "string"],
        ["participants_count", "flags.0?int"],
        ["admins_count", "flags.1?int"],
        ["kicked_count", "flags.2?int"],
        ["banned_count", "flags.2?int"],
        ["online_count", "flags.13?int"],
        ["read_inbox_max_id", "int"],
        ["read_outbox_max_id", "int"],
        ["unread_count", "int"],
        ["chat_photo", "Photo"],
        ["notify_settings", "PeerNotifySettings"],
        ["exported_invite", "flags.23?ExportedChatInvite"],
        ["bot_info", "Vector<BotInfo>"],
        ["migrated_from_chat_id", "flags.4?long"],
        ["migrated_from_max_id", "flags.4?int"],
        ["pinned_msg_id", "flags.5?int"],
        ["stickerset", "flags.8?StickerSet"],
        ["available_min_id", "flags.9?int"],
        ["folder_id", "flags.11?int"],
        ["linked_chat_id", "flags.14?long"],
        ["location", "flags.15?ChannelLocation"],
        ["slowmode_seconds", "flags.17?int"],
        ["slowmode_next_send_date", "flags.18?int"],
        ["stats_dc", "flags.12?int"],
        ["pts", "int"],
        ["call", "flags.21?InputGroupCall"],
        ["ttl_period", "flags.24?int"],
        ["pending_suggestions", "flags.25?Vector<string>"],
        ["groupcall_default_join_as", "flags.26?Peer"],
        ["theme_emoticon", "flags.27?string"],
        ["requests_pending", "flags.28?int"],
        ["recent_requesters", "flags.28?Vector<long>"],
        ["default_send_as", "flags.29?Peer"],
        ["available_reactions", "flags.30?ChatReactions"],
        ["reactions_limit", "flags2.13?int"],
        ["stories", "flags2.4?PeerStories"],
        ["wallpaper", "flags2.7?WallPaper"],
        ["boosts_applied", "flags2.8?int"],
        ["boosts_unrestrict", "flags2.9?int"],
        ["emojiset", "flags2.10?StickerSet"],
        ["bot_verification", "flags2.17?BotVerification"],
        ["stargifts_count", "flags2.18?int"],
        ["send_paid_messages_stars", "flags2.21?long"],
        ["main_tab", "flags2.22?ProfileTab"]
      ],
      "ChatFull"
    ],
    chatParticipant: [
      3224190983,
      [
        ["user_id", "long"],
        ["inviter_id", "long"],
        ["date", "int"]
      ],
      "ChatParticipant"
    ],
    chatParticipantCreator: [
      3832270564,
      [
        ["user_id", "long"]
      ],
      "ChatParticipant"
    ],
    chatParticipantAdmin: [
      2694004571,
      [
        ["user_id", "long"],
        ["inviter_id", "long"],
        ["date", "int"]
      ],
      "ChatParticipant"
    ],
    chatParticipantsForbidden: [
      2271466465,
      [
        ["flags", "#"],
        ["chat_id", "long"],
        ["self_participant", "flags.0?ChatParticipant"]
      ],
      "ChatParticipants"
    ],
    chatParticipants: [
      1018991608,
      [
        ["chat_id", "long"],
        ["participants", "Vector<ChatParticipant>"],
        ["version", "int"]
      ],
      "ChatParticipants"
    ],
    chatPhotoEmpty: [
      935395612,
      [],
      "ChatPhoto"
    ],
    chatPhoto: [
      476978193,
      [
        ["flags", "#"],
        ["has_video", "flags.0?true"],
        ["photo_id", "long"],
        ["stripped_thumb", "flags.1?bytes"],
        ["dc_id", "int"]
      ],
      "ChatPhoto"
    ],
    messageEmpty: [
      2426849924,
      [
        ["flags", "#"],
        ["id", "int"],
        ["peer_id", "flags.0?Peer"]
      ],
      "Message"
    ],
    message: [
      2629079273,
      [
        ["flags", "#"],
        ["out", "flags.1?true"],
        ["mentioned", "flags.4?true"],
        ["media_unread", "flags.5?true"],
        ["silent", "flags.13?true"],
        ["post", "flags.14?true"],
        ["from_scheduled", "flags.18?true"],
        ["legacy", "flags.19?true"],
        ["edit_hide", "flags.21?true"],
        ["pinned", "flags.24?true"],
        ["noforwards", "flags.26?true"],
        ["invert_media", "flags.27?true"],
        ["flags2", "#"],
        ["offline", "flags2.1?true"],
        ["video_processing_pending", "flags2.4?true"],
        ["paid_suggested_post_stars", "flags2.8?true"],
        ["paid_suggested_post_ton", "flags2.9?true"],
        ["id", "int"],
        ["from_id", "flags.8?Peer"],
        ["from_boosts_applied", "flags.29?int"],
        ["peer_id", "Peer"],
        ["saved_peer_id", "flags.28?Peer"],
        ["fwd_from", "flags.2?MessageFwdHeader"],
        ["via_bot_id", "flags.11?long"],
        ["via_business_bot_id", "flags2.0?long"],
        ["reply_to", "flags.3?MessageReplyHeader"],
        ["date", "int"],
        ["message", "string"],
        ["media", "flags.9?MessageMedia"],
        ["reply_markup", "flags.6?ReplyMarkup"],
        ["entities", "flags.7?Vector<MessageEntity>"],
        ["views", "flags.10?int"],
        ["forwards", "flags.10?int"],
        ["replies", "flags.23?MessageReplies"],
        ["edit_date", "flags.15?int"],
        ["post_author", "flags.16?string"],
        ["grouped_id", "flags.17?long"],
        ["reactions", "flags.20?MessageReactions"],
        ["restriction_reason", "flags.22?Vector<RestrictionReason>"],
        ["ttl_period", "flags.25?int"],
        ["quick_reply_shortcut_id", "flags.30?int"],
        ["effect", "flags2.2?long"],
        ["factcheck", "flags2.3?FactCheck"],
        ["report_delivery_until_date", "flags2.5?int"],
        ["paid_message_stars", "flags2.6?long"],
        ["suggested_post", "flags2.7?SuggestedPost"],
        ["schedule_repeat_period", "flags2.10?int"],
        ["summary_from_language", "flags2.11?string"]
      ],
      "Message"
    ],
    messageService: [
      2055212554,
      [
        ["flags", "#"],
        ["out", "flags.1?true"],
        ["mentioned", "flags.4?true"],
        ["media_unread", "flags.5?true"],
        ["reactions_are_possible", "flags.9?true"],
        ["silent", "flags.13?true"],
        ["post", "flags.14?true"],
        ["legacy", "flags.19?true"],
        ["id", "int"],
        ["from_id", "flags.8?Peer"],
        ["peer_id", "Peer"],
        ["saved_peer_id", "flags.28?Peer"],
        ["reply_to", "flags.3?MessageReplyHeader"],
        ["date", "int"],
        ["action", "MessageAction"],
        ["reactions", "flags.20?MessageReactions"],
        ["ttl_period", "flags.25?int"]
      ],
      "Message"
    ],
    messageMediaEmpty: [
      1038967584,
      [],
      "MessageMedia"
    ],
    messageMediaPhoto: [
      1766936791,
      [
        ["flags", "#"],
        ["spoiler", "flags.3?true"],
        ["photo", "flags.0?Photo"],
        ["ttl_seconds", "flags.2?int"]
      ],
      "MessageMedia"
    ],
    messageMediaGeo: [
      1457575028,
      [
        ["geo", "GeoPoint"]
      ],
      "MessageMedia"
    ],
    messageMediaContact: [
      1882335561,
      [
        ["phone_number", "string"],
        ["first_name", "string"],
        ["last_name", "string"],
        ["vcard", "string"],
        ["user_id", "long"]
      ],
      "MessageMedia"
    ],
    messageMediaUnsupported: [
      2676290718,
      [],
      "MessageMedia"
    ],
    messageMediaDocument: [
      1389939929,
      [
        ["flags", "#"],
        ["nopremium", "flags.3?true"],
        ["spoiler", "flags.4?true"],
        ["video", "flags.6?true"],
        ["round", "flags.7?true"],
        ["voice", "flags.8?true"],
        ["document", "flags.0?Document"],
        ["alt_documents", "flags.5?Vector<Document>"],
        ["video_cover", "flags.9?Photo"],
        ["video_timestamp", "flags.10?int"],
        ["ttl_seconds", "flags.2?int"]
      ],
      "MessageMedia"
    ],
    messageMediaWebPage: [
      3723562043,
      [
        ["flags", "#"],
        ["force_large_media", "flags.0?true"],
        ["force_small_media", "flags.1?true"],
        ["manual", "flags.3?true"],
        ["safe", "flags.4?true"],
        ["webpage", "WebPage"]
      ],
      "MessageMedia"
    ],
    messageMediaVenue: [
      784356159,
      [
        ["geo", "GeoPoint"],
        ["title", "string"],
        ["address", "string"],
        ["provider", "string"],
        ["venue_id", "string"],
        ["venue_type", "string"]
      ],
      "MessageMedia"
    ],
    messageMediaGame: [
      4256272392,
      [
        ["game", "Game"]
      ],
      "MessageMedia"
    ],
    messageMediaInvoice: [
      4138027219,
      [
        ["flags", "#"],
        ["shipping_address_requested", "flags.1?true"],
        ["test", "flags.3?true"],
        ["title", "string"],
        ["description", "string"],
        ["photo", "flags.0?WebDocument"],
        ["receipt_msg_id", "flags.2?int"],
        ["currency", "string"],
        ["total_amount", "long"],
        ["start_param", "string"],
        ["extended_media", "flags.4?MessageExtendedMedia"]
      ],
      "MessageMedia"
    ],
    messageMediaGeoLive: [
      3108030054,
      [
        ["flags", "#"],
        ["geo", "GeoPoint"],
        ["heading", "flags.0?int"],
        ["period", "int"],
        ["proximity_notification_radius", "flags.1?int"]
      ],
      "MessageMedia"
    ],
    messageMediaPoll: [
      1272375192,
      [
        ["poll", "Poll"],
        ["results", "PollResults"]
      ],
      "MessageMedia"
    ],
    messageMediaDice: [
      147581959,
      [
        ["flags", "#"],
        ["value", "int"],
        ["emoticon", "string"],
        ["game_outcome", "flags.0?messages.EmojiGameOutcome"]
      ],
      "MessageMedia"
    ],
    messageMediaStory: [
      1758159491,
      [
        ["flags", "#"],
        ["via_mention", "flags.1?true"],
        ["peer", "Peer"],
        ["id", "int"],
        ["story", "flags.0?StoryItem"]
      ],
      "MessageMedia"
    ],
    messageMediaGiveaway: [
      2852600811,
      [
        ["flags", "#"],
        ["only_new_subscribers", "flags.0?true"],
        ["winners_are_visible", "flags.2?true"],
        ["channels", "Vector<long>"],
        ["countries_iso2", "flags.1?Vector<string>"],
        ["prize_description", "flags.3?string"],
        ["quantity", "int"],
        ["months", "flags.4?int"],
        ["stars", "flags.5?long"],
        ["until_date", "int"]
      ],
      "MessageMedia"
    ],
    messageMediaGiveawayResults: [
      3467263649,
      [
        ["flags", "#"],
        ["only_new_subscribers", "flags.0?true"],
        ["refunded", "flags.2?true"],
        ["channel_id", "long"],
        ["additional_peers_count", "flags.3?int"],
        ["launch_msg_id", "int"],
        ["winners_count", "int"],
        ["unclaimed_count", "int"],
        ["winners", "Vector<long>"],
        ["months", "flags.4?int"],
        ["stars", "flags.5?long"],
        ["prize_description", "flags.1?string"],
        ["until_date", "int"]
      ],
      "MessageMedia"
    ],
    messageMediaPaidMedia: [
      2827297937,
      [
        ["stars_amount", "long"],
        ["extended_media", "Vector<MessageExtendedMedia>"]
      ],
      "MessageMedia"
    ],
    messageMediaToDo: [
      2320740372,
      [
        ["flags", "#"],
        ["todo", "TodoList"],
        ["completions", "flags.0?Vector<TodoCompletion>"]
      ],
      "MessageMedia"
    ],
    messageMediaVideoStream: [
      3395070857,
      [
        ["flags", "#"],
        ["rtmp_stream", "flags.0?true"],
        ["call", "InputGroupCall"]
      ],
      "MessageMedia"
    ],
    messageActionEmpty: [
      3064919984,
      [],
      "MessageAction"
    ],
    messageActionChatCreate: [
      3175599021,
      [
        ["title", "string"],
        ["users", "Vector<long>"]
      ],
      "MessageAction"
    ],
    messageActionChatEditTitle: [
      3047280218,
      [
        ["title", "string"]
      ],
      "MessageAction"
    ],
    messageActionChatEditPhoto: [
      2144015272,
      [
        ["photo", "Photo"]
      ],
      "MessageAction"
    ],
    messageActionChatDeletePhoto: [
      2514746351,
      [],
      "MessageAction"
    ],
    messageActionChatAddUser: [
      365886720,
      [
        ["users", "Vector<long>"]
      ],
      "MessageAction"
    ],
    messageActionChatDeleteUser: [
      2755604684,
      [
        ["user_id", "long"]
      ],
      "MessageAction"
    ],
    messageActionChatJoinedByLink: [
      51520707,
      [
        ["inviter_id", "long"]
      ],
      "MessageAction"
    ],
    messageActionChannelCreate: [
      2513611922,
      [
        ["title", "string"]
      ],
      "MessageAction"
    ],
    messageActionChatMigrateTo: [
      3775102866,
      [
        ["channel_id", "long"]
      ],
      "MessageAction"
    ],
    messageActionChannelMigrateFrom: [
      3929622761,
      [
        ["title", "string"],
        ["chat_id", "long"]
      ],
      "MessageAction"
    ],
    messageActionPinMessage: [
      2495428845,
      [],
      "MessageAction"
    ],
    messageActionHistoryClear: [
      2679813636,
      [],
      "MessageAction"
    ],
    messageActionGameScore: [
      2460428406,
      [
        ["game_id", "long"],
        ["score", "int"]
      ],
      "MessageAction"
    ],
    messageActionPaymentSentMe: [
      4288679116,
      [
        ["flags", "#"],
        ["recurring_init", "flags.2?true"],
        ["recurring_used", "flags.3?true"],
        ["currency", "string"],
        ["total_amount", "long"],
        ["payload", "bytes"],
        ["info", "flags.0?PaymentRequestedInfo"],
        ["shipping_option_id", "flags.1?string"],
        ["charge", "PaymentCharge"],
        ["subscription_until_date", "flags.4?int"]
      ],
      "MessageAction"
    ],
    messageActionPaymentSent: [
      3324293486,
      [
        ["flags", "#"],
        ["recurring_init", "flags.2?true"],
        ["recurring_used", "flags.3?true"],
        ["currency", "string"],
        ["total_amount", "long"],
        ["invoice_slug", "flags.0?string"],
        ["subscription_until_date", "flags.4?int"]
      ],
      "MessageAction"
    ],
    messageActionPhoneCall: [
      2162236031,
      [
        ["flags", "#"],
        ["video", "flags.2?true"],
        ["call_id", "long"],
        ["reason", "flags.0?PhoneCallDiscardReason"],
        ["duration", "flags.1?int"]
      ],
      "MessageAction"
    ],
    messageActionScreenshotTaken: [
      1200788123,
      [],
      "MessageAction"
    ],
    messageActionCustomAction: [
      4209418070,
      [
        ["message", "string"]
      ],
      "MessageAction"
    ],
    messageActionBotAllowed: [
      3306608249,
      [
        ["flags", "#"],
        ["attach_menu", "flags.1?true"],
        ["from_request", "flags.3?true"],
        ["domain", "flags.0?string"],
        ["app", "flags.2?BotApp"]
      ],
      "MessageAction"
    ],
    messageActionSecureValuesSentMe: [
      455635795,
      [
        ["values", "Vector<SecureValue>"],
        ["credentials", "SecureCredentialsEncrypted"]
      ],
      "MessageAction"
    ],
    messageActionSecureValuesSent: [
      3646710100,
      [
        ["types", "Vector<SecureValueType>"]
      ],
      "MessageAction"
    ],
    messageActionContactSignUp: [
      4092747638,
      [],
      "MessageAction"
    ],
    messageActionGeoProximityReached: [
      2564871831,
      [
        ["from_id", "Peer"],
        ["to_id", "Peer"],
        ["distance", "int"]
      ],
      "MessageAction"
    ],
    messageActionGroupCall: [
      2047704898,
      [
        ["flags", "#"],
        ["call", "InputGroupCall"],
        ["duration", "flags.0?int"]
      ],
      "MessageAction"
    ],
    messageActionInviteToGroupCall: [
      1345295095,
      [
        ["call", "InputGroupCall"],
        ["users", "Vector<long>"]
      ],
      "MessageAction"
    ],
    messageActionSetMessagesTTL: [
      1007897979,
      [
        ["flags", "#"],
        ["period", "int"],
        ["auto_setting_from", "flags.0?long"]
      ],
      "MessageAction"
    ],
    messageActionGroupCallScheduled: [
      3013637729,
      [
        ["call", "InputGroupCall"],
        ["schedule_date", "int"]
      ],
      "MessageAction"
    ],
    messageActionSetChatTheme: [
      3105602874,
      [
        ["theme", "ChatTheme"]
      ],
      "MessageAction"
    ],
    messageActionChatJoinedByRequest: [
      3955008459,
      [],
      "MessageAction"
    ],
    messageActionWebViewDataSentMe: [
      1205698681,
      [
        ["text", "string"],
        ["data", "string"]
      ],
      "MessageAction"
    ],
    messageActionWebViewDataSent: [
      3032714421,
      [
        ["text", "string"]
      ],
      "MessageAction"
    ],
    messageActionGiftPremium: [
      1223234306,
      [
        ["flags", "#"],
        ["currency", "string"],
        ["amount", "long"],
        ["days", "int"],
        ["crypto_currency", "flags.0?string"],
        ["crypto_amount", "flags.0?long"],
        ["message", "flags.1?TextWithEntities"]
      ],
      "MessageAction"
    ],
    messageActionTopicCreate: [
      228168278,
      [
        ["flags", "#"],
        ["title_missing", "flags.1?true"],
        ["title", "string"],
        ["icon_color", "int"],
        ["icon_emoji_id", "flags.0?long"]
      ],
      "MessageAction"
    ],
    messageActionTopicEdit: [
      3230943264,
      [
        ["flags", "#"],
        ["title", "flags.0?string"],
        ["icon_emoji_id", "flags.1?long"],
        ["closed", "flags.2?Bool"],
        ["hidden", "flags.3?Bool"]
      ],
      "MessageAction"
    ],
    messageActionSuggestProfilePhoto: [
      1474192222,
      [
        ["photo", "Photo"]
      ],
      "MessageAction"
    ],
    messageActionRequestedPeer: [
      827428507,
      [
        ["button_id", "int"],
        ["peers", "Vector<Peer>"]
      ],
      "MessageAction"
    ],
    messageActionSetChatWallPaper: [
      1348510708,
      [
        ["flags", "#"],
        ["same", "flags.0?true"],
        ["for_both", "flags.1?true"],
        ["wallpaper", "WallPaper"]
      ],
      "MessageAction"
    ],
    messageActionGiftCode: [
      834962247,
      [
        ["flags", "#"],
        ["via_giveaway", "flags.0?true"],
        ["unclaimed", "flags.5?true"],
        ["boost_peer", "flags.1?Peer"],
        ["days", "int"],
        ["slug", "string"],
        ["currency", "flags.2?string"],
        ["amount", "flags.2?long"],
        ["crypto_currency", "flags.3?string"],
        ["crypto_amount", "flags.3?long"],
        ["message", "flags.4?TextWithEntities"]
      ],
      "MessageAction"
    ],
    messageActionGiveawayLaunch: [
      2819576292,
      [
        ["flags", "#"],
        ["stars", "flags.0?long"]
      ],
      "MessageAction"
    ],
    messageActionGiveawayResults: [
      2279797077,
      [
        ["flags", "#"],
        ["stars", "flags.0?true"],
        ["winners_count", "int"],
        ["unclaimed_count", "int"]
      ],
      "MessageAction"
    ],
    messageActionBoostApply: [
      3422726765,
      [
        ["boosts", "int"]
      ],
      "MessageAction"
    ],
    messageActionRequestedPeerSentMe: [
      2477987912,
      [
        ["button_id", "int"],
        ["peers", "Vector<RequestedPeer>"]
      ],
      "MessageAction"
    ],
    messageActionPaymentRefunded: [
      1102307842,
      [
        ["flags", "#"],
        ["peer", "Peer"],
        ["currency", "string"],
        ["total_amount", "long"],
        ["payload", "flags.0?bytes"],
        ["charge", "PaymentCharge"]
      ],
      "MessageAction"
    ],
    messageActionGiftStars: [
      1171632161,
      [
        ["flags", "#"],
        ["currency", "string"],
        ["amount", "long"],
        ["stars", "long"],
        ["crypto_currency", "flags.0?string"],
        ["crypto_amount", "flags.0?long"],
        ["transaction_id", "flags.1?string"]
      ],
      "MessageAction"
    ],
    messageActionPrizeStars: [
      2953594786,
      [
        ["flags", "#"],
        ["unclaimed", "flags.0?true"],
        ["stars", "long"],
        ["transaction_id", "string"],
        ["boost_peer", "Peer"],
        ["giveaway_msg_id", "int"]
      ],
      "MessageAction"
    ],
    messageActionStarGift: [
      3928764883,
      [
        ["flags", "#"],
        ["name_hidden", "flags.0?true"],
        ["saved", "flags.2?true"],
        ["converted", "flags.3?true"],
        ["upgraded", "flags.5?true"],
        ["refunded", "flags.9?true"],
        ["can_upgrade", "flags.10?true"],
        ["prepaid_upgrade", "flags.13?true"],
        ["upgrade_separate", "flags.16?true"],
        ["auction_acquired", "flags.17?true"],
        ["gift", "StarGift"],
        ["message", "flags.1?TextWithEntities"],
        ["convert_stars", "flags.4?long"],
        ["upgrade_msg_id", "flags.5?int"],
        ["upgrade_stars", "flags.8?long"],
        ["from_id", "flags.11?Peer"],
        ["peer", "flags.12?Peer"],
        ["saved_id", "flags.12?long"],
        ["prepaid_upgrade_hash", "flags.14?string"],
        ["gift_msg_id", "flags.15?int"],
        ["to_id", "flags.18?Peer"],
        ["gift_num", "flags.19?int"]
      ],
      "MessageAction"
    ],
    messageActionStarGiftUnique: [
      2507310403,
      [
        ["flags", "#"],
        ["upgrade", "flags.0?true"],
        ["transferred", "flags.1?true"],
        ["saved", "flags.2?true"],
        ["refunded", "flags.5?true"],
        ["prepaid_upgrade", "flags.11?true"],
        ["assigned", "flags.13?true"],
        ["from_offer", "flags.14?true"],
        ["gift", "StarGift"],
        ["can_export_at", "flags.3?int"],
        ["transfer_stars", "flags.4?long"],
        ["from_id", "flags.6?Peer"],
        ["peer", "flags.7?Peer"],
        ["saved_id", "flags.7?long"],
        ["resale_amount", "flags.8?StarsAmount"],
        ["can_transfer_at", "flags.9?int"],
        ["can_resell_at", "flags.10?int"],
        ["drop_original_details_stars", "flags.12?long"]
      ],
      "MessageAction"
    ],
    messageActionPaidMessagesRefunded: [
      2887720909,
      [
        ["count", "int"],
        ["stars", "long"]
      ],
      "MessageAction"
    ],
    messageActionPaidMessagesPrice: [
      2226685304,
      [
        ["flags", "#"],
        ["broadcast_messages_allowed", "flags.0?true"],
        ["stars", "long"]
      ],
      "MessageAction"
    ],
    messageActionConferenceCall: [
      805187450,
      [
        ["flags", "#"],
        ["missed", "flags.0?true"],
        ["active", "flags.1?true"],
        ["video", "flags.4?true"],
        ["call_id", "long"],
        ["duration", "flags.2?int"],
        ["other_participants", "flags.3?Vector<Peer>"]
      ],
      "MessageAction"
    ],
    messageActionTodoCompletions: [
      3430702217,
      [
        ["completed", "Vector<int>"],
        ["incompleted", "Vector<int>"]
      ],
      "MessageAction"
    ],
    messageActionTodoAppendTasks: [
      3354246275,
      [
        ["list", "Vector<TodoItem>"]
      ],
      "MessageAction"
    ],
    messageActionSuggestedPostApproval: [
      4000978326,
      [
        ["flags", "#"],
        ["rejected", "flags.0?true"],
        ["balance_too_low", "flags.1?true"],
        ["reject_comment", "flags.2?string"],
        ["schedule_date", "flags.3?int"],
        ["price", "flags.4?StarsAmount"]
      ],
      "MessageAction"
    ],
    messageActionSuggestedPostSuccess: [
      2514341737,
      [
        ["price", "StarsAmount"]
      ],
      "MessageAction"
    ],
    messageActionSuggestedPostRefund: [
      1777932024,
      [
        ["flags", "#"],
        ["payer_initiated", "flags.0?true"]
      ],
      "MessageAction"
    ],
    messageActionGiftTon: [
      2829305497,
      [
        ["flags", "#"],
        ["currency", "string"],
        ["amount", "long"],
        ["crypto_currency", "string"],
        ["crypto_amount", "long"],
        ["transaction_id", "flags.0?string"]
      ],
      "MessageAction"
    ],
    messageActionSuggestBirthday: [
      747579941,
      [
        ["birthday", "Birthday"]
      ],
      "MessageAction"
    ],
    messageActionStarGiftPurchaseOffer: [
      2000845012,
      [
        ["flags", "#"],
        ["accepted", "flags.0?true"],
        ["declined", "flags.1?true"],
        ["gift", "StarGift"],
        ["price", "StarsAmount"],
        ["expires_at", "int"]
      ],
      "MessageAction"
    ],
    messageActionStarGiftPurchaseOfferDeclined: [
      1940760427,
      [
        ["flags", "#"],
        ["expired", "flags.0?true"],
        ["gift", "StarGift"],
        ["price", "StarsAmount"]
      ],
      "MessageAction"
    ],
    dialog: [
      3582593222,
      [
        ["flags", "#"],
        ["pinned", "flags.2?true"],
        ["unread_mark", "flags.3?true"],
        ["view_forum_as_messages", "flags.6?true"],
        ["peer", "Peer"],
        ["top_message", "int"],
        ["read_inbox_max_id", "int"],
        ["read_outbox_max_id", "int"],
        ["unread_count", "int"],
        ["unread_mentions_count", "int"],
        ["unread_reactions_count", "int"],
        ["notify_settings", "PeerNotifySettings"],
        ["pts", "flags.0?int"],
        ["draft", "flags.1?DraftMessage"],
        ["folder_id", "flags.4?int"],
        ["ttl_period", "flags.5?int"]
      ],
      "Dialog"
    ],
    dialogFolder: [
      1908216652,
      [
        ["flags", "#"],
        ["pinned", "flags.2?true"],
        ["folder", "Folder"],
        ["peer", "Peer"],
        ["top_message", "int"],
        ["unread_muted_peers_count", "int"],
        ["unread_unmuted_peers_count", "int"],
        ["unread_muted_messages_count", "int"],
        ["unread_unmuted_messages_count", "int"]
      ],
      "Dialog"
    ],
    photoEmpty: [
      590459437,
      [
        ["id", "long"]
      ],
      "Photo"
    ],
    photo: [
      4212750949,
      [
        ["flags", "#"],
        ["has_stickers", "flags.0?true"],
        ["id", "long"],
        ["access_hash", "long"],
        ["file_reference", "bytes"],
        ["date", "int"],
        ["sizes", "Vector<PhotoSize>"],
        ["video_sizes", "flags.1?Vector<VideoSize>"],
        ["dc_id", "int"]
      ],
      "Photo"
    ],
    photoSizeEmpty: [
      236446268,
      [
        ["type", "string"]
      ],
      "PhotoSize"
    ],
    photoSize: [
      1976012384,
      [
        ["type", "string"],
        ["w", "int"],
        ["h", "int"],
        ["size", "int"]
      ],
      "PhotoSize"
    ],
    photoCachedSize: [
      35527382,
      [
        ["type", "string"],
        ["w", "int"],
        ["h", "int"],
        ["bytes", "bytes"]
      ],
      "PhotoSize"
    ],
    photoStrippedSize: [
      3769678894,
      [
        ["type", "string"],
        ["bytes", "bytes"]
      ],
      "PhotoSize"
    ],
    photoSizeProgressive: [
      4198431637,
      [
        ["type", "string"],
        ["w", "int"],
        ["h", "int"],
        ["sizes", "Vector<int>"]
      ],
      "PhotoSize"
    ],
    photoPathSize: [
      3626061121,
      [
        ["type", "string"],
        ["bytes", "bytes"]
      ],
      "PhotoSize"
    ],
    geoPointEmpty: [
      286776671,
      [],
      "GeoPoint"
    ],
    geoPoint: [
      2997024355,
      [
        ["flags", "#"],
        ["long", "double"],
        ["lat", "double"],
        ["access_hash", "long"],
        ["accuracy_radius", "flags.0?int"]
      ],
      "GeoPoint"
    ],
    "auth.sentCode": [
      1577067778,
      [
        ["flags", "#"],
        ["type", "auth.SentCodeType"],
        ["phone_code_hash", "string"],
        ["next_type", "flags.1?auth.CodeType"],
        ["timeout", "flags.2?int"]
      ],
      "auth.SentCode"
    ],
    "auth.sentCodeSuccess": [
      596704836,
      [
        ["authorization", "auth.Authorization"]
      ],
      "auth.SentCode"
    ],
    "auth.sentCodePaymentRequired": [
      3767884348,
      [
        ["store_product", "string"],
        ["phone_code_hash", "string"],
        ["support_email_address", "string"],
        ["support_email_subject", "string"],
        ["currency", "string"],
        ["amount", "long"]
      ],
      "auth.SentCode"
    ],
    "auth.authorization": [
      782418132,
      [
        ["flags", "#"],
        ["setup_password_required", "flags.1?true"],
        ["otherwise_relogin_days", "flags.1?int"],
        ["tmp_sessions", "flags.0?int"],
        ["future_auth_token", "flags.2?bytes"],
        ["user", "User"]
      ],
      "auth.Authorization"
    ],
    "auth.authorizationSignUpRequired": [
      1148485274,
      [
        ["flags", "#"],
        ["terms_of_service", "flags.0?help.TermsOfService"]
      ],
      "auth.Authorization"
    ],
    "auth.exportedAuthorization": [
      3023364792,
      [
        ["id", "long"],
        ["bytes", "bytes"]
      ],
      "auth.ExportedAuthorization"
    ],
    inputNotifyPeer: [
      3099351820,
      [
        ["peer", "InputPeer"]
      ],
      "InputNotifyPeer"
    ],
    inputNotifyUsers: [
      423314455,
      [],
      "InputNotifyPeer"
    ],
    inputNotifyChats: [
      1251338318,
      [],
      "InputNotifyPeer"
    ],
    inputNotifyBroadcasts: [
      2983951486,
      [],
      "InputNotifyPeer"
    ],
    inputNotifyForumTopic: [
      1548122514,
      [
        ["peer", "InputPeer"],
        ["top_msg_id", "int"]
      ],
      "InputNotifyPeer"
    ],
    inputPeerNotifySettings: [
      3402328802,
      [
        ["flags", "#"],
        ["show_previews", "flags.0?Bool"],
        ["silent", "flags.1?Bool"],
        ["mute_until", "flags.2?int"],
        ["sound", "flags.3?NotificationSound"],
        ["stories_muted", "flags.6?Bool"],
        ["stories_hide_sender", "flags.7?Bool"],
        ["stories_sound", "flags.8?NotificationSound"]
      ],
      "InputPeerNotifySettings"
    ],
    peerNotifySettings: [
      2573347852,
      [
        ["flags", "#"],
        ["show_previews", "flags.0?Bool"],
        ["silent", "flags.1?Bool"],
        ["mute_until", "flags.2?int"],
        ["ios_sound", "flags.3?NotificationSound"],
        ["android_sound", "flags.4?NotificationSound"],
        ["other_sound", "flags.5?NotificationSound"],
        ["stories_muted", "flags.6?Bool"],
        ["stories_hide_sender", "flags.7?Bool"],
        ["stories_ios_sound", "flags.8?NotificationSound"],
        ["stories_android_sound", "flags.9?NotificationSound"],
        ["stories_other_sound", "flags.10?NotificationSound"]
      ],
      "PeerNotifySettings"
    ],
    peerSettings: [
      4101456375,
      [
        ["flags", "#"],
        ["report_spam", "flags.0?true"],
        ["add_contact", "flags.1?true"],
        ["block_contact", "flags.2?true"],
        ["share_contact", "flags.3?true"],
        ["need_contacts_exception", "flags.4?true"],
        ["report_geo", "flags.5?true"],
        ["autoarchived", "flags.7?true"],
        ["invite_members", "flags.8?true"],
        ["request_chat_broadcast", "flags.10?true"],
        ["business_bot_paused", "flags.11?true"],
        ["business_bot_can_reply", "flags.12?true"],
        ["geo_distance", "flags.6?int"],
        ["request_chat_title", "flags.9?string"],
        ["request_chat_date", "flags.9?int"],
        ["business_bot_id", "flags.13?long"],
        ["business_bot_manage_url", "flags.13?string"],
        ["charge_paid_message_stars", "flags.14?long"],
        ["registration_month", "flags.15?string"],
        ["phone_country", "flags.16?string"],
        ["name_change_date", "flags.17?int"],
        ["photo_change_date", "flags.18?int"]
      ],
      "PeerSettings"
    ],
    wallPaper: [
      2755118061,
      [
        ["id", "long"],
        ["flags", "#"],
        ["creator", "flags.0?true"],
        ["default", "flags.1?true"],
        ["pattern", "flags.3?true"],
        ["dark", "flags.4?true"],
        ["access_hash", "long"],
        ["slug", "string"],
        ["document", "Document"],
        ["settings", "flags.2?WallPaperSettings"]
      ],
      "WallPaper"
    ],
    wallPaperNoFile: [
      3766501654,
      [
        ["id", "long"],
        ["flags", "#"],
        ["default", "flags.1?true"],
        ["dark", "flags.4?true"],
        ["settings", "flags.2?WallPaperSettings"]
      ],
      "WallPaper"
    ],
    inputReportReasonSpam: [
      1490799288,
      [],
      "ReportReason"
    ],
    inputReportReasonViolence: [
      505595789,
      [],
      "ReportReason"
    ],
    inputReportReasonPornography: [
      777640226,
      [],
      "ReportReason"
    ],
    inputReportReasonChildAbuse: [
      2918469347,
      [],
      "ReportReason"
    ],
    inputReportReasonOther: [
      3252986545,
      [],
      "ReportReason"
    ],
    inputReportReasonCopyright: [
      2609510714,
      [],
      "ReportReason"
    ],
    inputReportReasonGeoIrrelevant: [
      3688169197,
      [],
      "ReportReason"
    ],
    inputReportReasonFake: [
      4124956391,
      [],
      "ReportReason"
    ],
    inputReportReasonIllegalDrugs: [
      177124030,
      [],
      "ReportReason"
    ],
    inputReportReasonPersonalDetails: [
      2663876157,
      [],
      "ReportReason"
    ],
    userFull: [
      2687222078,
      [
        ["flags", "#"],
        ["blocked", "flags.0?true"],
        ["phone_calls_available", "flags.4?true"],
        ["phone_calls_private", "flags.5?true"],
        ["can_pin_message", "flags.7?true"],
        ["has_scheduled", "flags.12?true"],
        ["video_calls_available", "flags.13?true"],
        ["voice_messages_forbidden", "flags.20?true"],
        ["translations_disabled", "flags.23?true"],
        ["stories_pinned_available", "flags.26?true"],
        ["blocked_my_stories_from", "flags.27?true"],
        ["wallpaper_overridden", "flags.28?true"],
        ["contact_require_premium", "flags.29?true"],
        ["read_dates_private", "flags.30?true"],
        ["flags2", "#"],
        ["sponsored_enabled", "flags2.7?true"],
        ["can_view_revenue", "flags2.9?true"],
        ["bot_can_manage_emoji_status", "flags2.10?true"],
        ["display_gifts_button", "flags2.16?true"],
        ["id", "long"],
        ["about", "flags.1?string"],
        ["settings", "PeerSettings"],
        ["personal_photo", "flags.21?Photo"],
        ["profile_photo", "flags.2?Photo"],
        ["fallback_photo", "flags.22?Photo"],
        ["notify_settings", "PeerNotifySettings"],
        ["bot_info", "flags.3?BotInfo"],
        ["pinned_msg_id", "flags.6?int"],
        ["common_chats_count", "int"],
        ["folder_id", "flags.11?int"],
        ["ttl_period", "flags.14?int"],
        ["theme", "flags.15?ChatTheme"],
        ["private_forward_name", "flags.16?string"],
        ["bot_group_admin_rights", "flags.17?ChatAdminRights"],
        ["bot_broadcast_admin_rights", "flags.18?ChatAdminRights"],
        ["wallpaper", "flags.24?WallPaper"],
        ["stories", "flags.25?PeerStories"],
        ["business_work_hours", "flags2.0?BusinessWorkHours"],
        ["business_location", "flags2.1?BusinessLocation"],
        ["business_greeting_message", "flags2.2?BusinessGreetingMessage"],
        ["business_away_message", "flags2.3?BusinessAwayMessage"],
        ["business_intro", "flags2.4?BusinessIntro"],
        ["birthday", "flags2.5?Birthday"],
        ["personal_channel_id", "flags2.6?long"],
        ["personal_channel_message", "flags2.6?int"],
        ["stargifts_count", "flags2.8?int"],
        ["starref_program", "flags2.11?StarRefProgram"],
        ["bot_verification", "flags2.12?BotVerification"],
        ["send_paid_messages_stars", "flags2.14?long"],
        ["disallowed_gifts", "flags2.15?DisallowedGiftsSettings"],
        ["stars_rating", "flags2.17?StarsRating"],
        ["stars_my_pending_rating", "flags2.18?StarsRating"],
        ["stars_my_pending_rating_date", "flags2.18?int"],
        ["main_tab", "flags2.20?ProfileTab"],
        ["saved_music", "flags2.21?Document"],
        ["note", "flags2.22?TextWithEntities"]
      ],
      "UserFull"
    ],
    contact: [
      341499403,
      [
        ["user_id", "long"],
        ["mutual", "Bool"]
      ],
      "Contact"
    ],
    importedContact: [
      3242081360,
      [
        ["user_id", "long"],
        ["client_id", "long"]
      ],
      "ImportedContact"
    ],
    contactStatus: [
      383348795,
      [
        ["user_id", "long"],
        ["status", "UserStatus"]
      ],
      "ContactStatus"
    ],
    "contacts.contactsNotModified": [
      3075189202,
      [],
      "contacts.Contacts"
    ],
    "contacts.contacts": [
      3941105218,
      [
        ["contacts", "Vector<Contact>"],
        ["saved_count", "int"],
        ["users", "Vector<User>"]
      ],
      "contacts.Contacts"
    ],
    "contacts.importedContacts": [
      2010127419,
      [
        ["imported", "Vector<ImportedContact>"],
        ["popular_invites", "Vector<PopularContact>"],
        ["retry_contacts", "Vector<long>"],
        ["users", "Vector<User>"]
      ],
      "contacts.ImportedContacts"
    ],
    "contacts.blocked": [
      182326673,
      [
        ["blocked", "Vector<PeerBlocked>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "contacts.Blocked"
    ],
    "contacts.blockedSlice": [
      3781575060,
      [
        ["count", "int"],
        ["blocked", "Vector<PeerBlocked>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "contacts.Blocked"
    ],
    "messages.dialogs": [
      364538944,
      [
        ["dialogs", "Vector<Dialog>"],
        ["messages", "Vector<Message>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.Dialogs"
    ],
    "messages.dialogsSlice": [
      1910543603,
      [
        ["count", "int"],
        ["dialogs", "Vector<Dialog>"],
        ["messages", "Vector<Message>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.Dialogs"
    ],
    "messages.dialogsNotModified": [
      4041467286,
      [
        ["count", "int"]
      ],
      "messages.Dialogs"
    ],
    "messages.messages": [
      494135274,
      [
        ["messages", "Vector<Message>"],
        ["topics", "Vector<ForumTopic>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.Messages"
    ],
    "messages.messagesSlice": [
      1595959062,
      [
        ["flags", "#"],
        ["inexact", "flags.1?true"],
        ["count", "int"],
        ["next_rate", "flags.0?int"],
        ["offset_id_offset", "flags.2?int"],
        ["search_flood", "flags.3?SearchPostsFlood"],
        ["messages", "Vector<Message>"],
        ["topics", "Vector<ForumTopic>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.Messages"
    ],
    "messages.channelMessages": [
      3346446926,
      [
        ["flags", "#"],
        ["inexact", "flags.1?true"],
        ["pts", "int"],
        ["count", "int"],
        ["offset_id_offset", "flags.2?int"],
        ["messages", "Vector<Message>"],
        ["topics", "Vector<ForumTopic>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.Messages"
    ],
    "messages.messagesNotModified": [
      1951620897,
      [
        ["count", "int"]
      ],
      "messages.Messages"
    ],
    "messages.chats": [
      1694474197,
      [
        ["chats", "Vector<Chat>"]
      ],
      "messages.Chats"
    ],
    "messages.chatsSlice": [
      2631405892,
      [
        ["count", "int"],
        ["chats", "Vector<Chat>"]
      ],
      "messages.Chats"
    ],
    "messages.chatFull": [
      3856126364,
      [
        ["full_chat", "ChatFull"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.ChatFull"
    ],
    "messages.affectedHistory": [
      3025955281,
      [
        ["pts", "int"],
        ["pts_count", "int"],
        ["offset", "int"]
      ],
      "messages.AffectedHistory"
    ],
    inputMessagesFilterEmpty: [
      1474492012,
      [],
      "MessagesFilter"
    ],
    inputMessagesFilterPhotos: [
      2517214492,
      [],
      "MessagesFilter"
    ],
    inputMessagesFilterVideo: [
      2680163941,
      [],
      "MessagesFilter"
    ],
    inputMessagesFilterPhotoVideo: [
      1458172132,
      [],
      "MessagesFilter"
    ],
    inputMessagesFilterDocument: [
      2665345416,
      [],
      "MessagesFilter"
    ],
    inputMessagesFilterUrl: [
      2129714567,
      [],
      "MessagesFilter"
    ],
    inputMessagesFilterGif: [
      4291323271,
      [],
      "MessagesFilter"
    ],
    inputMessagesFilterVoice: [
      1358283666,
      [],
      "MessagesFilter"
    ],
    inputMessagesFilterMusic: [
      928101534,
      [],
      "MessagesFilter"
    ],
    inputMessagesFilterChatPhotos: [
      975236280,
      [],
      "MessagesFilter"
    ],
    inputMessagesFilterPhoneCalls: [
      2160695144,
      [
        ["flags", "#"],
        ["missed", "flags.0?true"]
      ],
      "MessagesFilter"
    ],
    inputMessagesFilterRoundVoice: [
      2054952868,
      [],
      "MessagesFilter"
    ],
    inputMessagesFilterRoundVideo: [
      3041516115,
      [],
      "MessagesFilter"
    ],
    inputMessagesFilterMyMentions: [
      3254314650,
      [],
      "MessagesFilter"
    ],
    inputMessagesFilterGeo: [
      3875695885,
      [],
      "MessagesFilter"
    ],
    inputMessagesFilterContacts: [
      3764575107,
      [],
      "MessagesFilter"
    ],
    inputMessagesFilterPinned: [
      464520273,
      [],
      "MessagesFilter"
    ],
    updateNewMessage: [
      522914557,
      [
        ["message", "Message"],
        ["pts", "int"],
        ["pts_count", "int"]
      ],
      "Update"
    ],
    updateMessageID: [
      1318109142,
      [
        ["id", "int"],
        ["random_id", "long"]
      ],
      "Update"
    ],
    updateDeleteMessages: [
      2718806245,
      [
        ["messages", "Vector<int>"],
        ["pts", "int"],
        ["pts_count", "int"]
      ],
      "Update"
    ],
    updateUserTyping: [
      706199388,
      [
        ["flags", "#"],
        ["user_id", "long"],
        ["top_msg_id", "flags.0?int"],
        ["action", "SendMessageAction"]
      ],
      "Update"
    ],
    updateChatUserTyping: [
      2202565360,
      [
        ["chat_id", "long"],
        ["from_id", "Peer"],
        ["action", "SendMessageAction"]
      ],
      "Update"
    ],
    updateChatParticipants: [
      125178264,
      [
        ["participants", "ChatParticipants"]
      ],
      "Update"
    ],
    updateUserStatus: [
      3854432478,
      [
        ["user_id", "long"],
        ["status", "UserStatus"]
      ],
      "Update"
    ],
    updateUserName: [
      2810480932,
      [
        ["user_id", "long"],
        ["first_name", "string"],
        ["last_name", "string"],
        ["usernames", "Vector<Username>"]
      ],
      "Update"
    ],
    updateNewAuthorization: [
      2303831023,
      [
        ["flags", "#"],
        ["unconfirmed", "flags.0?true"],
        ["hash", "long"],
        ["date", "flags.0?int"],
        ["device", "flags.0?string"],
        ["location", "flags.0?string"]
      ],
      "Update"
    ],
    updateNewEncryptedMessage: [
      314359194,
      [
        ["message", "EncryptedMessage"],
        ["qts", "int"]
      ],
      "Update"
    ],
    updateEncryptedChatTyping: [
      386986326,
      [
        ["chat_id", "int"]
      ],
      "Update"
    ],
    updateEncryption: [
      3030575245,
      [
        ["chat", "EncryptedChat"],
        ["date", "int"]
      ],
      "Update"
    ],
    updateEncryptedMessagesRead: [
      956179895,
      [
        ["chat_id", "int"],
        ["max_date", "int"],
        ["date", "int"]
      ],
      "Update"
    ],
    updateChatParticipantAdd: [
      1037718609,
      [
        ["chat_id", "long"],
        ["user_id", "long"],
        ["inviter_id", "long"],
        ["date", "int"],
        ["version", "int"]
      ],
      "Update"
    ],
    updateChatParticipantDelete: [
      3811523959,
      [
        ["chat_id", "long"],
        ["user_id", "long"],
        ["version", "int"]
      ],
      "Update"
    ],
    updateDcOptions: [
      2388564083,
      [
        ["dc_options", "Vector<DcOption>"]
      ],
      "Update"
    ],
    updateNotifySettings: [
      3200411887,
      [
        ["peer", "NotifyPeer"],
        ["notify_settings", "PeerNotifySettings"]
      ],
      "Update"
    ],
    updateServiceNotification: [
      3957614617,
      [
        ["flags", "#"],
        ["popup", "flags.0?true"],
        ["invert_media", "flags.2?true"],
        ["inbox_date", "flags.1?int"],
        ["type", "string"],
        ["message", "string"],
        ["media", "MessageMedia"],
        ["entities", "Vector<MessageEntity>"]
      ],
      "Update"
    ],
    updatePrivacy: [
      3996854058,
      [
        ["key", "PrivacyKey"],
        ["rules", "Vector<PrivacyRule>"]
      ],
      "Update"
    ],
    updateUserPhone: [
      88680979,
      [
        ["user_id", "long"],
        ["phone", "string"]
      ],
      "Update"
    ],
    updateReadHistoryInbox: [
      2659499161,
      [
        ["flags", "#"],
        ["folder_id", "flags.0?int"],
        ["peer", "Peer"],
        ["top_msg_id", "flags.1?int"],
        ["max_id", "int"],
        ["still_unread_count", "int"],
        ["pts", "int"],
        ["pts_count", "int"]
      ],
      "Update"
    ],
    updateReadHistoryOutbox: [
      791617983,
      [
        ["peer", "Peer"],
        ["max_id", "int"],
        ["pts", "int"],
        ["pts_count", "int"]
      ],
      "Update"
    ],
    updateWebPage: [
      2139689491,
      [
        ["webpage", "WebPage"],
        ["pts", "int"],
        ["pts_count", "int"]
      ],
      "Update"
    ],
    updateReadMessagesContents: [
      4163006849,
      [
        ["flags", "#"],
        ["messages", "Vector<int>"],
        ["pts", "int"],
        ["pts_count", "int"],
        ["date", "flags.0?int"]
      ],
      "Update"
    ],
    updateChannelTooLong: [
      277713951,
      [
        ["flags", "#"],
        ["channel_id", "long"],
        ["pts", "flags.0?int"]
      ],
      "Update"
    ],
    updateChannel: [
      1666927625,
      [
        ["channel_id", "long"]
      ],
      "Update"
    ],
    updateNewChannelMessage: [
      1656358105,
      [
        ["message", "Message"],
        ["pts", "int"],
        ["pts_count", "int"]
      ],
      "Update"
    ],
    updateReadChannelInbox: [
      2452516368,
      [
        ["flags", "#"],
        ["folder_id", "flags.0?int"],
        ["channel_id", "long"],
        ["max_id", "int"],
        ["still_unread_count", "int"],
        ["pts", "int"]
      ],
      "Update"
    ],
    updateDeleteChannelMessages: [
      3274529554,
      [
        ["channel_id", "long"],
        ["messages", "Vector<int>"],
        ["pts", "int"],
        ["pts_count", "int"]
      ],
      "Update"
    ],
    updateChannelMessageViews: [
      4062620680,
      [
        ["channel_id", "long"],
        ["id", "int"],
        ["views", "int"]
      ],
      "Update"
    ],
    updateChatParticipantAdmin: [
      3620364706,
      [
        ["chat_id", "long"],
        ["user_id", "long"],
        ["is_admin", "Bool"],
        ["version", "int"]
      ],
      "Update"
    ],
    updateNewStickerSet: [
      1753886890,
      [
        ["stickerset", "messages.StickerSet"]
      ],
      "Update"
    ],
    updateStickerSetsOrder: [
      196268545,
      [
        ["flags", "#"],
        ["masks", "flags.0?true"],
        ["emojis", "flags.1?true"],
        ["order", "Vector<long>"]
      ],
      "Update"
    ],
    updateStickerSets: [
      834816008,
      [
        ["flags", "#"],
        ["masks", "flags.0?true"],
        ["emojis", "flags.1?true"]
      ],
      "Update"
    ],
    updateSavedGifs: [
      2473931806,
      [],
      "Update"
    ],
    updateBotInlineQuery: [
      1232025500,
      [
        ["flags", "#"],
        ["query_id", "long"],
        ["user_id", "long"],
        ["query", "string"],
        ["geo", "flags.0?GeoPoint"],
        ["peer_type", "flags.1?InlineQueryPeerType"],
        ["offset", "string"]
      ],
      "Update"
    ],
    updateBotInlineSend: [
      317794823,
      [
        ["flags", "#"],
        ["user_id", "long"],
        ["query", "string"],
        ["geo", "flags.0?GeoPoint"],
        ["id", "string"],
        ["msg_id", "flags.1?InputBotInlineMessageID"]
      ],
      "Update"
    ],
    updateEditChannelMessage: [
      457133559,
      [
        ["message", "Message"],
        ["pts", "int"],
        ["pts_count", "int"]
      ],
      "Update"
    ],
    updateBotCallbackQuery: [
      3117401229,
      [
        ["flags", "#"],
        ["query_id", "long"],
        ["user_id", "long"],
        ["peer", "Peer"],
        ["msg_id", "int"],
        ["chat_instance", "long"],
        ["data", "flags.0?bytes"],
        ["game_short_name", "flags.1?string"]
      ],
      "Update"
    ],
    updateEditMessage: [
      3825430691,
      [
        ["message", "Message"],
        ["pts", "int"],
        ["pts_count", "int"]
      ],
      "Update"
    ],
    updateInlineBotCallbackQuery: [
      1763610706,
      [
        ["flags", "#"],
        ["query_id", "long"],
        ["user_id", "long"],
        ["msg_id", "InputBotInlineMessageID"],
        ["chat_instance", "long"],
        ["data", "flags.0?bytes"],
        ["game_short_name", "flags.1?string"]
      ],
      "Update"
    ],
    updateReadChannelOutbox: [
      3076495785,
      [
        ["channel_id", "long"],
        ["max_id", "int"]
      ],
      "Update"
    ],
    updateDraftMessage: [
      3992719646,
      [
        ["flags", "#"],
        ["peer", "Peer"],
        ["top_msg_id", "flags.0?int"],
        ["saved_peer_id", "flags.1?Peer"],
        ["draft", "DraftMessage"]
      ],
      "Update"
    ],
    updateReadFeaturedStickers: [
      1461528386,
      [],
      "Update"
    ],
    updateRecentStickers: [
      2588027936,
      [],
      "Update"
    ],
    updateConfig: [
      2720652550,
      [],
      "Update"
    ],
    updatePtsChanged: [
      861169551,
      [],
      "Update"
    ],
    updateChannelWebPage: [
      791390623,
      [
        ["channel_id", "long"],
        ["webpage", "WebPage"],
        ["pts", "int"],
        ["pts_count", "int"]
      ],
      "Update"
    ],
    updateDialogPinned: [
      1852826908,
      [
        ["flags", "#"],
        ["pinned", "flags.0?true"],
        ["folder_id", "flags.1?int"],
        ["peer", "DialogPeer"]
      ],
      "Update"
    ],
    updatePinnedDialogs: [
      4195302562,
      [
        ["flags", "#"],
        ["folder_id", "flags.1?int"],
        ["order", "flags.0?Vector<DialogPeer>"]
      ],
      "Update"
    ],
    updateBotWebhookJSON: [
      2199371971,
      [
        ["data", "DataJSON"]
      ],
      "Update"
    ],
    updateBotWebhookJSONQuery: [
      2610053286,
      [
        ["query_id", "long"],
        ["data", "DataJSON"],
        ["timeout", "int"]
      ],
      "Update"
    ],
    updateBotShippingQuery: [
      3048144253,
      [
        ["query_id", "long"],
        ["user_id", "long"],
        ["payload", "bytes"],
        ["shipping_address", "PostAddress"]
      ],
      "Update"
    ],
    updateBotPrecheckoutQuery: [
      2359990934,
      [
        ["flags", "#"],
        ["query_id", "long"],
        ["user_id", "long"],
        ["payload", "bytes"],
        ["info", "flags.0?PaymentRequestedInfo"],
        ["shipping_option_id", "flags.1?string"],
        ["currency", "string"],
        ["total_amount", "long"]
      ],
      "Update"
    ],
    updatePhoneCall: [
      2869914398,
      [
        ["phone_call", "PhoneCall"]
      ],
      "Update"
    ],
    updateLangPackTooLong: [
      1180041828,
      [
        ["lang_code", "string"]
      ],
      "Update"
    ],
    updateLangPack: [
      1442983757,
      [
        ["difference", "LangPackDifference"]
      ],
      "Update"
    ],
    updateFavedStickers: [
      3843135853,
      [],
      "Update"
    ],
    updateChannelReadMessagesContents: [
      636691703,
      [
        ["flags", "#"],
        ["channel_id", "long"],
        ["top_msg_id", "flags.0?int"],
        ["saved_peer_id", "flags.1?Peer"],
        ["messages", "Vector<int>"]
      ],
      "Update"
    ],
    updateContactsReset: [
      1887741886,
      [],
      "Update"
    ],
    updateChannelAvailableMessages: [
      2990524056,
      [
        ["channel_id", "long"],
        ["available_min_id", "int"]
      ],
      "Update"
    ],
    updateDialogUnreadMark: [
      3059282494,
      [
        ["flags", "#"],
        ["unread", "flags.0?true"],
        ["peer", "DialogPeer"],
        ["saved_peer_id", "flags.1?Peer"]
      ],
      "Update"
    ],
    updateMessagePoll: [
      2896258427,
      [
        ["flags", "#"],
        ["poll_id", "long"],
        ["poll", "flags.0?Poll"],
        ["results", "PollResults"]
      ],
      "Update"
    ],
    updateChatDefaultBannedRights: [
      1421875280,
      [
        ["peer", "Peer"],
        ["default_banned_rights", "ChatBannedRights"],
        ["version", "int"]
      ],
      "Update"
    ],
    updateFolderPeers: [
      422972864,
      [
        ["folder_peers", "Vector<FolderPeer>"],
        ["pts", "int"],
        ["pts_count", "int"]
      ],
      "Update"
    ],
    updatePeerSettings: [
      1786671974,
      [
        ["peer", "Peer"],
        ["settings", "PeerSettings"]
      ],
      "Update"
    ],
    updatePeerLocated: [
      3031420848,
      [
        ["peers", "Vector<PeerLocated>"]
      ],
      "Update"
    ],
    updateNewScheduledMessage: [
      967122427,
      [
        ["message", "Message"]
      ],
      "Update"
    ],
    updateDeleteScheduledMessages: [
      4071037315,
      [
        ["flags", "#"],
        ["peer", "Peer"],
        ["messages", "Vector<int>"],
        ["sent_messages", "flags.0?Vector<int>"]
      ],
      "Update"
    ],
    updateTheme: [
      2182544291,
      [
        ["theme", "Theme"]
      ],
      "Update"
    ],
    updateGeoLiveViewed: [
      2267003193,
      [
        ["peer", "Peer"],
        ["msg_id", "int"]
      ],
      "Update"
    ],
    updateLoginToken: [
      1448076945,
      [],
      "Update"
    ],
    updateMessagePollVote: [
      619974263,
      [
        ["poll_id", "long"],
        ["peer", "Peer"],
        ["options", "Vector<bytes>"],
        ["qts", "int"]
      ],
      "Update"
    ],
    updateDialogFilter: [
      654302845,
      [
        ["flags", "#"],
        ["id", "int"],
        ["filter", "flags.0?DialogFilter"]
      ],
      "Update"
    ],
    updateDialogFilterOrder: [
      2782339333,
      [
        ["order", "Vector<int>"]
      ],
      "Update"
    ],
    updateDialogFilters: [
      889491791,
      [],
      "Update"
    ],
    updatePhoneCallSignalingData: [
      643940105,
      [
        ["phone_call_id", "long"],
        ["data", "bytes"]
      ],
      "Update"
    ],
    updateChannelMessageForwards: [
      3533318132,
      [
        ["channel_id", "long"],
        ["id", "int"],
        ["forwards", "int"]
      ],
      "Update"
    ],
    updateReadChannelDiscussionInbox: [
      3601962310,
      [
        ["flags", "#"],
        ["channel_id", "long"],
        ["top_msg_id", "int"],
        ["read_max_id", "int"],
        ["broadcast_id", "flags.0?long"],
        ["broadcast_post", "flags.0?int"]
      ],
      "Update"
    ],
    updateReadChannelDiscussionOutbox: [
      1767677564,
      [
        ["channel_id", "long"],
        ["top_msg_id", "int"],
        ["read_max_id", "int"]
      ],
      "Update"
    ],
    updatePeerBlocked: [
      3957356370,
      [
        ["flags", "#"],
        ["blocked", "flags.0?true"],
        ["blocked_my_stories_from", "flags.1?true"],
        ["peer_id", "Peer"]
      ],
      "Update"
    ],
    updateChannelUserTyping: [
      2357774627,
      [
        ["flags", "#"],
        ["channel_id", "long"],
        ["top_msg_id", "flags.0?int"],
        ["from_id", "Peer"],
        ["action", "SendMessageAction"]
      ],
      "Update"
    ],
    updatePinnedMessages: [
      3984976565,
      [
        ["flags", "#"],
        ["pinned", "flags.0?true"],
        ["peer", "Peer"],
        ["messages", "Vector<int>"],
        ["pts", "int"],
        ["pts_count", "int"]
      ],
      "Update"
    ],
    updatePinnedChannelMessages: [
      1538885128,
      [
        ["flags", "#"],
        ["pinned", "flags.0?true"],
        ["channel_id", "long"],
        ["messages", "Vector<int>"],
        ["pts", "int"],
        ["pts_count", "int"]
      ],
      "Update"
    ],
    updateChat: [
      4170869326,
      [
        ["chat_id", "long"]
      ],
      "Update"
    ],
    updateGroupCallParticipants: [
      4075543374,
      [
        ["call", "InputGroupCall"],
        ["participants", "Vector<GroupCallParticipant>"],
        ["version", "int"]
      ],
      "Update"
    ],
    updateGroupCall: [
      2636256992,
      [
        ["flags", "#"],
        ["live_story", "flags.2?true"],
        ["peer", "flags.1?Peer"],
        ["call", "GroupCall"]
      ],
      "Update"
    ],
    updatePeerHistoryTTL: [
      3147544997,
      [
        ["flags", "#"],
        ["peer", "Peer"],
        ["ttl_period", "flags.0?int"]
      ],
      "Update"
    ],
    updateChatParticipant: [
      3498534458,
      [
        ["flags", "#"],
        ["chat_id", "long"],
        ["date", "int"],
        ["actor_id", "long"],
        ["user_id", "long"],
        ["prev_participant", "flags.0?ChatParticipant"],
        ["new_participant", "flags.1?ChatParticipant"],
        ["invite", "flags.2?ExportedChatInvite"],
        ["qts", "int"]
      ],
      "Update"
    ],
    updateChannelParticipant: [
      2556246715,
      [
        ["flags", "#"],
        ["via_chatlist", "flags.3?true"],
        ["channel_id", "long"],
        ["date", "int"],
        ["actor_id", "long"],
        ["user_id", "long"],
        ["prev_participant", "flags.0?ChannelParticipant"],
        ["new_participant", "flags.1?ChannelParticipant"],
        ["invite", "flags.2?ExportedChatInvite"],
        ["qts", "int"]
      ],
      "Update"
    ],
    updateBotStopped: [
      3297184329,
      [
        ["user_id", "long"],
        ["date", "int"],
        ["stopped", "Bool"],
        ["qts", "int"]
      ],
      "Update"
    ],
    updateGroupCallConnection: [
      192428418,
      [
        ["flags", "#"],
        ["presentation", "flags.0?true"],
        ["params", "DataJSON"]
      ],
      "Update"
    ],
    updateBotCommands: [
      1299263278,
      [
        ["peer", "Peer"],
        ["bot_id", "long"],
        ["commands", "Vector<BotCommand>"]
      ],
      "Update"
    ],
    updatePendingJoinRequests: [
      1885586395,
      [
        ["peer", "Peer"],
        ["requests_pending", "int"],
        ["recent_requesters", "Vector<long>"]
      ],
      "Update"
    ],
    updateBotChatInviteRequester: [
      299870598,
      [
        ["peer", "Peer"],
        ["date", "int"],
        ["user_id", "long"],
        ["about", "string"],
        ["invite", "ExportedChatInvite"],
        ["qts", "int"]
      ],
      "Update"
    ],
    updateMessageReactions: [
      506035194,
      [
        ["flags", "#"],
        ["peer", "Peer"],
        ["msg_id", "int"],
        ["top_msg_id", "flags.0?int"],
        ["saved_peer_id", "flags.1?Peer"],
        ["reactions", "MessageReactions"]
      ],
      "Update"
    ],
    updateAttachMenuBots: [
      397910539,
      [],
      "Update"
    ],
    updateWebViewResultSent: [
      361936797,
      [
        ["query_id", "long"]
      ],
      "Update"
    ],
    updateBotMenuButton: [
      347625491,
      [
        ["bot_id", "long"],
        ["button", "BotMenuButton"]
      ],
      "Update"
    ],
    updateSavedRingtones: [
      1960361625,
      [],
      "Update"
    ],
    updateTranscribedAudio: [
      8703322,
      [
        ["flags", "#"],
        ["pending", "flags.0?true"],
        ["peer", "Peer"],
        ["msg_id", "int"],
        ["transcription_id", "long"],
        ["text", "string"]
      ],
      "Update"
    ],
    updateReadFeaturedEmojiStickers: [
      4216080748,
      [],
      "Update"
    ],
    updateUserEmojiStatus: [
      674706841,
      [
        ["user_id", "long"],
        ["emoji_status", "EmojiStatus"]
      ],
      "Update"
    ],
    updateRecentEmojiStatuses: [
      821314523,
      [],
      "Update"
    ],
    updateRecentReactions: [
      1870160884,
      [],
      "Update"
    ],
    updateMoveStickerSetToTop: [
      2264715141,
      [
        ["flags", "#"],
        ["masks", "flags.0?true"],
        ["emojis", "flags.1?true"],
        ["stickerset", "long"]
      ],
      "Update"
    ],
    updateMessageExtendedMedia: [
      3584300836,
      [
        ["peer", "Peer"],
        ["msg_id", "int"],
        ["extended_media", "Vector<MessageExtendedMedia>"]
      ],
      "Update"
    ],
    updateUser: [
      542282808,
      [
        ["user_id", "long"]
      ],
      "Update"
    ],
    updateAutoSaveSettings: [
      3959795863,
      [],
      "Update"
    ],
    updateStory: [
      1974712216,
      [
        ["peer", "Peer"],
        ["story", "StoryItem"]
      ],
      "Update"
    ],
    updateReadStories: [
      4149121835,
      [
        ["peer", "Peer"],
        ["max_id", "int"]
      ],
      "Update"
    ],
    updateStoryID: [
      468923833,
      [
        ["id", "int"],
        ["random_id", "long"]
      ],
      "Update"
    ],
    updateStoriesStealthMode: [
      738741697,
      [
        ["stealth_mode", "StoriesStealthMode"]
      ],
      "Update"
    ],
    updateSentStoryReaction: [
      2103604867,
      [
        ["peer", "Peer"],
        ["story_id", "int"],
        ["reaction", "Reaction"]
      ],
      "Update"
    ],
    updateBotChatBoost: [
      2421019804,
      [
        ["peer", "Peer"],
        ["boost", "Boost"],
        ["qts", "int"]
      ],
      "Update"
    ],
    updateChannelViewForumAsMessages: [
      129403168,
      [
        ["channel_id", "long"],
        ["enabled", "Bool"]
      ],
      "Update"
    ],
    updatePeerWallpaper: [
      2923368477,
      [
        ["flags", "#"],
        ["wallpaper_overridden", "flags.1?true"],
        ["peer", "Peer"],
        ["wallpaper", "flags.0?WallPaper"]
      ],
      "Update"
    ],
    updateBotMessageReaction: [
      2887898062,
      [
        ["peer", "Peer"],
        ["msg_id", "int"],
        ["date", "int"],
        ["actor", "Peer"],
        ["old_reactions", "Vector<Reaction>"],
        ["new_reactions", "Vector<Reaction>"],
        ["qts", "int"]
      ],
      "Update"
    ],
    updateBotMessageReactions: [
      164329305,
      [
        ["peer", "Peer"],
        ["msg_id", "int"],
        ["date", "int"],
        ["reactions", "Vector<ReactionCount>"],
        ["qts", "int"]
      ],
      "Update"
    ],
    updateSavedDialogPinned: [
      2930744948,
      [
        ["flags", "#"],
        ["pinned", "flags.0?true"],
        ["peer", "DialogPeer"]
      ],
      "Update"
    ],
    updatePinnedSavedDialogs: [
      1751942566,
      [
        ["flags", "#"],
        ["order", "flags.0?Vector<DialogPeer>"]
      ],
      "Update"
    ],
    updateSavedReactionTags: [
      969307186,
      [],
      "Update"
    ],
    updateSmsJob: [
      4049758676,
      [
        ["job_id", "string"]
      ],
      "Update"
    ],
    updateQuickReplies: [
      4182182578,
      [
        ["quick_replies", "Vector<QuickReply>"]
      ],
      "Update"
    ],
    updateNewQuickReply: [
      4114458391,
      [
        ["quick_reply", "QuickReply"]
      ],
      "Update"
    ],
    updateDeleteQuickReply: [
      1407644140,
      [
        ["shortcut_id", "int"]
      ],
      "Update"
    ],
    updateQuickReplyMessage: [
      1040518415,
      [
        ["message", "Message"]
      ],
      "Update"
    ],
    updateDeleteQuickReplyMessages: [
      1450174413,
      [
        ["shortcut_id", "int"],
        ["messages", "Vector<int>"]
      ],
      "Update"
    ],
    updateBotBusinessConnect: [
      2330315130,
      [
        ["connection", "BotBusinessConnection"],
        ["qts", "int"]
      ],
      "Update"
    ],
    updateBotNewBusinessMessage: [
      2648388732,
      [
        ["flags", "#"],
        ["connection_id", "string"],
        ["message", "Message"],
        ["reply_to_message", "flags.0?Message"],
        ["qts", "int"]
      ],
      "Update"
    ],
    updateBotEditBusinessMessage: [
      132077692,
      [
        ["flags", "#"],
        ["connection_id", "string"],
        ["message", "Message"],
        ["reply_to_message", "flags.0?Message"],
        ["qts", "int"]
      ],
      "Update"
    ],
    updateBotDeleteBusinessMessage: [
      2687146030,
      [
        ["connection_id", "string"],
        ["peer", "Peer"],
        ["messages", "Vector<int>"],
        ["qts", "int"]
      ],
      "Update"
    ],
    updateNewStoryReaction: [
      405070859,
      [
        ["story_id", "int"],
        ["peer", "Peer"],
        ["reaction", "Reaction"]
      ],
      "Update"
    ],
    updateStarsBalance: [
      1317053305,
      [
        ["balance", "StarsAmount"]
      ],
      "Update"
    ],
    updateBusinessBotCallbackQuery: [
      513998247,
      [
        ["flags", "#"],
        ["query_id", "long"],
        ["user_id", "long"],
        ["connection_id", "string"],
        ["message", "Message"],
        ["reply_to_message", "flags.2?Message"],
        ["chat_instance", "long"],
        ["data", "flags.0?bytes"]
      ],
      "Update"
    ],
    updateStarsRevenueStatus: [
      2776936473,
      [
        ["peer", "Peer"],
        ["status", "StarsRevenueStatus"]
      ],
      "Update"
    ],
    updateBotPurchasedPaidMedia: [
      675009298,
      [
        ["user_id", "long"],
        ["payload", "string"],
        ["qts", "int"]
      ],
      "Update"
    ],
    updatePaidReactionPrivacy: [
      2339528654,
      [
        ["private", "PaidReactionPrivacy"]
      ],
      "Update"
    ],
    updateSentPhoneCode: [
      1347068303,
      [
        ["sent_code", "auth.SentCode"]
      ],
      "Update"
    ],
    updateGroupCallChainBlocks: [
      2759272591,
      [
        ["call", "InputGroupCall"],
        ["sub_chain_id", "int"],
        ["blocks", "Vector<bytes>"],
        ["next_offset", "int"]
      ],
      "Update"
    ],
    updateReadMonoForumInbox: [
      2008081266,
      [
        ["channel_id", "long"],
        ["saved_peer_id", "Peer"],
        ["read_max_id", "int"]
      ],
      "Update"
    ],
    updateReadMonoForumOutbox: [
      2762445686,
      [
        ["channel_id", "long"],
        ["saved_peer_id", "Peer"],
        ["read_max_id", "int"]
      ],
      "Update"
    ],
    updateMonoForumNoPaidException: [
      2676042504,
      [
        ["flags", "#"],
        ["exception", "flags.0?true"],
        ["channel_id", "long"],
        ["saved_peer_id", "Peer"]
      ],
      "Update"
    ],
    updateGroupCallMessage: [
      3627183885,
      [
        ["call", "InputGroupCall"],
        ["message", "GroupCallMessage"]
      ],
      "Update"
    ],
    updateGroupCallEncryptedMessage: [
      3377964902,
      [
        ["call", "InputGroupCall"],
        ["from_id", "Peer"],
        ["encrypted_message", "bytes"]
      ],
      "Update"
    ],
    updatePinnedForumTopic: [
      1748708434,
      [
        ["flags", "#"],
        ["pinned", "flags.0?true"],
        ["peer", "Peer"],
        ["topic_id", "int"]
      ],
      "Update"
    ],
    updatePinnedForumTopics: [
      3740353488,
      [
        ["flags", "#"],
        ["peer", "Peer"],
        ["order", "flags.0?Vector<int>"]
      ],
      "Update"
    ],
    updateDeleteGroupCallMessages: [
      1048963372,
      [
        ["call", "InputGroupCall"],
        ["messages", "Vector<int>"]
      ],
      "Update"
    ],
    updateStarGiftAuctionState: [
      1222788802,
      [
        ["gift_id", "long"],
        ["state", "StarGiftAuctionState"]
      ],
      "Update"
    ],
    updateStarGiftAuctionUserState: [
      3696816926,
      [
        ["gift_id", "long"],
        ["user_state", "StarGiftAuctionUserState"]
      ],
      "Update"
    ],
    updateEmojiGameInfo: [
      4221326458,
      [
        ["info", "messages.EmojiGameInfo"]
      ],
      "Update"
    ],
    "updates.state": [
      2775329342,
      [
        ["pts", "int"],
        ["qts", "int"],
        ["date", "int"],
        ["seq", "int"],
        ["unread_count", "int"]
      ],
      "updates.State"
    ],
    "updates.differenceEmpty": [
      1567990072,
      [
        ["date", "int"],
        ["seq", "int"]
      ],
      "updates.Difference"
    ],
    "updates.difference": [
      16030880,
      [
        ["new_messages", "Vector<Message>"],
        ["new_encrypted_messages", "Vector<EncryptedMessage>"],
        ["other_updates", "Vector<Update>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"],
        ["state", "updates.State"]
      ],
      "updates.Difference"
    ],
    "updates.differenceSlice": [
      2835028353,
      [
        ["new_messages", "Vector<Message>"],
        ["new_encrypted_messages", "Vector<EncryptedMessage>"],
        ["other_updates", "Vector<Update>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"],
        ["intermediate_state", "updates.State"]
      ],
      "updates.Difference"
    ],
    "updates.differenceTooLong": [
      1258196845,
      [
        ["pts", "int"]
      ],
      "updates.Difference"
    ],
    updatesTooLong: [
      3809980286,
      [],
      "Updates"
    ],
    updateShortMessage: [
      826001400,
      [
        ["flags", "#"],
        ["out", "flags.1?true"],
        ["mentioned", "flags.4?true"],
        ["media_unread", "flags.5?true"],
        ["silent", "flags.13?true"],
        ["id", "int"],
        ["user_id", "long"],
        ["message", "string"],
        ["pts", "int"],
        ["pts_count", "int"],
        ["date", "int"],
        ["fwd_from", "flags.2?MessageFwdHeader"],
        ["via_bot_id", "flags.11?long"],
        ["reply_to", "flags.3?MessageReplyHeader"],
        ["entities", "flags.7?Vector<MessageEntity>"],
        ["ttl_period", "flags.25?int"]
      ],
      "Updates"
    ],
    updateShortChatMessage: [
      1299050149,
      [
        ["flags", "#"],
        ["out", "flags.1?true"],
        ["mentioned", "flags.4?true"],
        ["media_unread", "flags.5?true"],
        ["silent", "flags.13?true"],
        ["id", "int"],
        ["from_id", "long"],
        ["chat_id", "long"],
        ["message", "string"],
        ["pts", "int"],
        ["pts_count", "int"],
        ["date", "int"],
        ["fwd_from", "flags.2?MessageFwdHeader"],
        ["via_bot_id", "flags.11?long"],
        ["reply_to", "flags.3?MessageReplyHeader"],
        ["entities", "flags.7?Vector<MessageEntity>"],
        ["ttl_period", "flags.25?int"]
      ],
      "Updates"
    ],
    updateShort: [
      2027216577,
      [
        ["update", "Update"],
        ["date", "int"]
      ],
      "Updates"
    ],
    updatesCombined: [
      1918567619,
      [
        ["updates", "Vector<Update>"],
        ["users", "Vector<User>"],
        ["chats", "Vector<Chat>"],
        ["date", "int"],
        ["seq_start", "int"],
        ["seq", "int"]
      ],
      "Updates"
    ],
    updates: [
      1957577280,
      [
        ["updates", "Vector<Update>"],
        ["users", "Vector<User>"],
        ["chats", "Vector<Chat>"],
        ["date", "int"],
        ["seq", "int"]
      ],
      "Updates"
    ],
    updateShortSentMessage: [
      2417352961,
      [
        ["flags", "#"],
        ["out", "flags.1?true"],
        ["id", "int"],
        ["pts", "int"],
        ["pts_count", "int"],
        ["date", "int"],
        ["media", "flags.9?MessageMedia"],
        ["entities", "flags.7?Vector<MessageEntity>"],
        ["ttl_period", "flags.25?int"]
      ],
      "Updates"
    ],
    "photos.photos": [
      2378853029,
      [
        ["photos", "Vector<Photo>"],
        ["users", "Vector<User>"]
      ],
      "photos.Photos"
    ],
    "photos.photosSlice": [
      352657236,
      [
        ["count", "int"],
        ["photos", "Vector<Photo>"],
        ["users", "Vector<User>"]
      ],
      "photos.Photos"
    ],
    "photos.photo": [
      539045032,
      [
        ["photo", "Photo"],
        ["users", "Vector<User>"]
      ],
      "photos.Photo"
    ],
    "upload.file": [
      157948117,
      [
        ["type", "storage.FileType"],
        ["mtime", "int"],
        ["bytes", "bytes"]
      ],
      "upload.File"
    ],
    "upload.fileCdnRedirect": [
      4052539972,
      [
        ["dc_id", "int"],
        ["file_token", "bytes"],
        ["encryption_key", "bytes"],
        ["encryption_iv", "bytes"],
        ["file_hashes", "Vector<FileHash>"]
      ],
      "upload.File"
    ],
    dcOption: [
      414687501,
      [
        ["flags", "#"],
        ["ipv6", "flags.0?true"],
        ["media_only", "flags.1?true"],
        ["tcpo_only", "flags.2?true"],
        ["cdn", "flags.3?true"],
        ["static", "flags.4?true"],
        ["this_port_only", "flags.5?true"],
        ["id", "int"],
        ["ip_address", "string"],
        ["port", "int"],
        ["secret", "flags.10?bytes"]
      ],
      "DcOption"
    ],
    config: [
      3424265246,
      [
        ["flags", "#"],
        ["default_p2p_contacts", "flags.3?true"],
        ["preload_featured_stickers", "flags.4?true"],
        ["revoke_pm_inbox", "flags.6?true"],
        ["blocked_mode", "flags.8?true"],
        ["force_try_ipv6", "flags.14?true"],
        ["date", "int"],
        ["expires", "int"],
        ["test_mode", "Bool"],
        ["this_dc", "int"],
        ["dc_options", "Vector<DcOption>"],
        ["dc_txt_domain_name", "string"],
        ["chat_size_max", "int"],
        ["megagroup_size_max", "int"],
        ["forwarded_count_max", "int"],
        ["online_update_period_ms", "int"],
        ["offline_blur_timeout_ms", "int"],
        ["offline_idle_timeout_ms", "int"],
        ["online_cloud_timeout_ms", "int"],
        ["notify_cloud_delay_ms", "int"],
        ["notify_default_delay_ms", "int"],
        ["push_chat_period_ms", "int"],
        ["push_chat_limit", "int"],
        ["edit_time_limit", "int"],
        ["revoke_time_limit", "int"],
        ["revoke_pm_time_limit", "int"],
        ["rating_e_decay", "int"],
        ["stickers_recent_limit", "int"],
        ["channels_read_media_period", "int"],
        ["tmp_sessions", "flags.0?int"],
        ["call_receive_timeout_ms", "int"],
        ["call_ring_timeout_ms", "int"],
        ["call_connect_timeout_ms", "int"],
        ["call_packet_timeout_ms", "int"],
        ["me_url_prefix", "string"],
        ["autoupdate_url_prefix", "flags.7?string"],
        ["gif_search_username", "flags.9?string"],
        ["venue_search_username", "flags.10?string"],
        ["img_search_username", "flags.11?string"],
        ["static_maps_provider", "flags.12?string"],
        ["caption_length_max", "int"],
        ["message_length_max", "int"],
        ["webfile_dc_id", "int"],
        ["suggested_lang_code", "flags.2?string"],
        ["lang_pack_version", "flags.2?int"],
        ["base_lang_pack_version", "flags.2?int"],
        ["reactions_default", "flags.15?Reaction"],
        ["autologin_token", "flags.16?string"]
      ],
      "Config"
    ],
    nearestDc: [
      2384074613,
      [
        ["country", "string"],
        ["this_dc", "int"],
        ["nearest_dc", "int"]
      ],
      "NearestDc"
    ],
    "help.appUpdate": [
      3434860080,
      [
        ["flags", "#"],
        ["can_not_skip", "flags.0?true"],
        ["id", "int"],
        ["version", "string"],
        ["text", "string"],
        ["entities", "Vector<MessageEntity>"],
        ["document", "flags.1?Document"],
        ["url", "flags.2?string"],
        ["sticker", "flags.3?Document"]
      ],
      "help.AppUpdate"
    ],
    "help.noAppUpdate": [
      3294258486,
      [],
      "help.AppUpdate"
    ],
    "help.inviteText": [
      415997816,
      [
        ["message", "string"]
      ],
      "help.InviteText"
    ],
    encryptedChatEmpty: [
      2877210784,
      [
        ["id", "int"]
      ],
      "EncryptedChat"
    ],
    encryptedChatWaiting: [
      1722964307,
      [
        ["id", "int"],
        ["access_hash", "long"],
        ["date", "int"],
        ["admin_id", "long"],
        ["participant_id", "long"]
      ],
      "EncryptedChat"
    ],
    encryptedChatRequested: [
      1223809356,
      [
        ["flags", "#"],
        ["folder_id", "flags.0?int"],
        ["id", "int"],
        ["access_hash", "long"],
        ["date", "int"],
        ["admin_id", "long"],
        ["participant_id", "long"],
        ["g_a", "bytes"]
      ],
      "EncryptedChat"
    ],
    encryptedChat: [
      1643173063,
      [
        ["id", "int"],
        ["access_hash", "long"],
        ["date", "int"],
        ["admin_id", "long"],
        ["participant_id", "long"],
        ["g_a_or_b", "bytes"],
        ["key_fingerprint", "long"]
      ],
      "EncryptedChat"
    ],
    encryptedChatDiscarded: [
      505183301,
      [
        ["flags", "#"],
        ["history_deleted", "flags.0?true"],
        ["id", "int"]
      ],
      "EncryptedChat"
    ],
    inputEncryptedChat: [
      4047615457,
      [
        ["chat_id", "int"],
        ["access_hash", "long"]
      ],
      "InputEncryptedChat"
    ],
    encryptedFileEmpty: [
      3256830334,
      [],
      "EncryptedFile"
    ],
    encryptedFile: [
      2818608344,
      [
        ["id", "long"],
        ["access_hash", "long"],
        ["size", "long"],
        ["dc_id", "int"],
        ["key_fingerprint", "int"]
      ],
      "EncryptedFile"
    ],
    inputEncryptedFileEmpty: [
      406307684,
      [],
      "InputEncryptedFile"
    ],
    inputEncryptedFileUploaded: [
      1690108678,
      [
        ["id", "long"],
        ["parts", "int"],
        ["md5_checksum", "string"],
        ["key_fingerprint", "int"]
      ],
      "InputEncryptedFile"
    ],
    inputEncryptedFile: [
      1511503333,
      [
        ["id", "long"],
        ["access_hash", "long"]
      ],
      "InputEncryptedFile"
    ],
    inputEncryptedFileBigUploaded: [
      767652808,
      [
        ["id", "long"],
        ["parts", "int"],
        ["key_fingerprint", "int"]
      ],
      "InputEncryptedFile"
    ],
    encryptedMessage: [
      3977822488,
      [
        ["random_id", "long"],
        ["chat_id", "int"],
        ["date", "int"],
        ["bytes", "bytes"],
        ["file", "EncryptedFile"]
      ],
      "EncryptedMessage"
    ],
    encryptedMessageService: [
      594758406,
      [
        ["random_id", "long"],
        ["chat_id", "int"],
        ["date", "int"],
        ["bytes", "bytes"]
      ],
      "EncryptedMessage"
    ],
    "messages.dhConfigNotModified": [
      3236054581,
      [
        ["random", "bytes"]
      ],
      "messages.DhConfig"
    ],
    "messages.dhConfig": [
      740433629,
      [
        ["g", "int"],
        ["p", "bytes"],
        ["version", "int"],
        ["random", "bytes"]
      ],
      "messages.DhConfig"
    ],
    "messages.sentEncryptedMessage": [
      1443858741,
      [
        ["date", "int"]
      ],
      "messages.SentEncryptedMessage"
    ],
    "messages.sentEncryptedFile": [
      2492727090,
      [
        ["date", "int"],
        ["file", "EncryptedFile"]
      ],
      "messages.SentEncryptedMessage"
    ],
    inputDocumentEmpty: [
      1928391342,
      [],
      "InputDocument"
    ],
    inputDocument: [
      448771445,
      [
        ["id", "long"],
        ["access_hash", "long"],
        ["file_reference", "bytes"]
      ],
      "InputDocument"
    ],
    documentEmpty: [
      922273905,
      [
        ["id", "long"]
      ],
      "Document"
    ],
    document: [
      2413085912,
      [
        ["flags", "#"],
        ["id", "long"],
        ["access_hash", "long"],
        ["file_reference", "bytes"],
        ["date", "int"],
        ["mime_type", "string"],
        ["size", "long"],
        ["thumbs", "flags.0?Vector<PhotoSize>"],
        ["video_thumbs", "flags.1?Vector<VideoSize>"],
        ["dc_id", "int"],
        ["attributes", "Vector<DocumentAttribute>"]
      ],
      "Document"
    ],
    "help.support": [
      398898678,
      [
        ["phone_number", "string"],
        ["user", "User"]
      ],
      "help.Support"
    ],
    notifyPeer: [
      2681474008,
      [
        ["peer", "Peer"]
      ],
      "NotifyPeer"
    ],
    notifyUsers: [
      3033021260,
      [],
      "NotifyPeer"
    ],
    notifyChats: [
      3221737155,
      [],
      "NotifyPeer"
    ],
    notifyBroadcasts: [
      3591563503,
      [],
      "NotifyPeer"
    ],
    notifyForumTopic: [
      577659656,
      [
        ["peer", "Peer"],
        ["top_msg_id", "int"]
      ],
      "NotifyPeer"
    ],
    sendMessageTypingAction: [
      381645902,
      [],
      "SendMessageAction"
    ],
    sendMessageCancelAction: [
      4250847477,
      [],
      "SendMessageAction"
    ],
    sendMessageRecordVideoAction: [
      2710034031,
      [],
      "SendMessageAction"
    ],
    sendMessageUploadVideoAction: [
      3916839660,
      [
        ["progress", "int"]
      ],
      "SendMessageAction"
    ],
    sendMessageRecordAudioAction: [
      3576656887,
      [],
      "SendMessageAction"
    ],
    sendMessageUploadAudioAction: [
      4082227115,
      [
        ["progress", "int"]
      ],
      "SendMessageAction"
    ],
    sendMessageUploadPhotoAction: [
      3520285222,
      [
        ["progress", "int"]
      ],
      "SendMessageAction"
    ],
    sendMessageUploadDocumentAction: [
      2852968932,
      [
        ["progress", "int"]
      ],
      "SendMessageAction"
    ],
    sendMessageGeoLocationAction: [
      393186209,
      [],
      "SendMessageAction"
    ],
    sendMessageChooseContactAction: [
      1653390447,
      [],
      "SendMessageAction"
    ],
    sendMessageGamePlayAction: [
      3714748232,
      [],
      "SendMessageAction"
    ],
    sendMessageRecordRoundAction: [
      2297593788,
      [],
      "SendMessageAction"
    ],
    sendMessageUploadRoundAction: [
      608050278,
      [
        ["progress", "int"]
      ],
      "SendMessageAction"
    ],
    speakingInGroupCallAction: [
      3643548293,
      [],
      "SendMessageAction"
    ],
    sendMessageHistoryImportAction: [
      3688534598,
      [
        ["progress", "int"]
      ],
      "SendMessageAction"
    ],
    sendMessageChooseStickerAction: [
      2958739121,
      [],
      "SendMessageAction"
    ],
    sendMessageEmojiInteraction: [
      630664139,
      [
        ["emoticon", "string"],
        ["msg_id", "int"],
        ["interaction", "DataJSON"]
      ],
      "SendMessageAction"
    ],
    sendMessageEmojiInteractionSeen: [
      3060109358,
      [
        ["emoticon", "string"]
      ],
      "SendMessageAction"
    ],
    sendMessageTextDraftAction: [
      929929052,
      [
        ["random_id", "long"],
        ["text", "TextWithEntities"]
      ],
      "SendMessageAction"
    ],
    "contacts.found": [
      3004386717,
      [
        ["my_results", "Vector<Peer>"],
        ["results", "Vector<Peer>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "contacts.Found"
    ],
    inputPrivacyKeyStatusTimestamp: [
      1335282456,
      [],
      "InputPrivacyKey"
    ],
    inputPrivacyKeyChatInvite: [
      3187344422,
      [],
      "InputPrivacyKey"
    ],
    inputPrivacyKeyPhoneCall: [
      4206550111,
      [],
      "InputPrivacyKey"
    ],
    inputPrivacyKeyPhoneP2P: [
      3684593874,
      [],
      "InputPrivacyKey"
    ],
    inputPrivacyKeyForwards: [
      2765966344,
      [],
      "InputPrivacyKey"
    ],
    inputPrivacyKeyProfilePhoto: [
      1461304012,
      [],
      "InputPrivacyKey"
    ],
    inputPrivacyKeyPhoneNumber: [
      55761658,
      [],
      "InputPrivacyKey"
    ],
    inputPrivacyKeyAddedByPhone: [
      3508640733,
      [],
      "InputPrivacyKey"
    ],
    inputPrivacyKeyVoiceMessages: [
      2934349160,
      [],
      "InputPrivacyKey"
    ],
    inputPrivacyKeyAbout: [
      941870144,
      [],
      "InputPrivacyKey"
    ],
    inputPrivacyKeyBirthday: [
      3596227020,
      [],
      "InputPrivacyKey"
    ],
    inputPrivacyKeyStarGiftsAutoSave: [
      3782419265,
      [],
      "InputPrivacyKey"
    ],
    inputPrivacyKeyNoPaidMessages: [
      3183843252,
      [],
      "InputPrivacyKey"
    ],
    inputPrivacyKeySavedMusic: [
      1304334886,
      [],
      "InputPrivacyKey"
    ],
    privacyKeyStatusTimestamp: [
      3157175088,
      [],
      "PrivacyKey"
    ],
    privacyKeyChatInvite: [
      1343122938,
      [],
      "PrivacyKey"
    ],
    privacyKeyPhoneCall: [
      1030105979,
      [],
      "PrivacyKey"
    ],
    privacyKeyPhoneP2P: [
      961092808,
      [],
      "PrivacyKey"
    ],
    privacyKeyForwards: [
      1777096355,
      [],
      "PrivacyKey"
    ],
    privacyKeyProfilePhoto: [
      2517966829,
      [],
      "PrivacyKey"
    ],
    privacyKeyPhoneNumber: [
      3516589165,
      [],
      "PrivacyKey"
    ],
    privacyKeyAddedByPhone: [
      1124062251,
      [],
      "PrivacyKey"
    ],
    privacyKeyVoiceMessages: [
      110621716,
      [],
      "PrivacyKey"
    ],
    privacyKeyAbout: [
      2760292193,
      [],
      "PrivacyKey"
    ],
    privacyKeyBirthday: [
      536913176,
      [],
      "PrivacyKey"
    ],
    privacyKeyStarGiftsAutoSave: [
      749010424,
      [],
      "PrivacyKey"
    ],
    privacyKeyNoPaidMessages: [
      399722706,
      [],
      "PrivacyKey"
    ],
    privacyKeySavedMusic: [
      4286207771,
      [],
      "PrivacyKey"
    ],
    inputPrivacyValueAllowContacts: [
      218751099,
      [],
      "InputPrivacyRule"
    ],
    inputPrivacyValueAllowAll: [
      407582158,
      [],
      "InputPrivacyRule"
    ],
    inputPrivacyValueAllowUsers: [
      320652927,
      [
        ["users", "Vector<InputUser>"]
      ],
      "InputPrivacyRule"
    ],
    inputPrivacyValueDisallowContacts: [
      195371015,
      [],
      "InputPrivacyRule"
    ],
    inputPrivacyValueDisallowAll: [
      3597362889,
      [],
      "InputPrivacyRule"
    ],
    inputPrivacyValueDisallowUsers: [
      2417034343,
      [
        ["users", "Vector<InputUser>"]
      ],
      "InputPrivacyRule"
    ],
    inputPrivacyValueAllowChatParticipants: [
      2215004623,
      [
        ["chats", "Vector<long>"]
      ],
      "InputPrivacyRule"
    ],
    inputPrivacyValueDisallowChatParticipants: [
      3914272646,
      [
        ["chats", "Vector<long>"]
      ],
      "InputPrivacyRule"
    ],
    inputPrivacyValueAllowCloseFriends: [
      793067081,
      [],
      "InputPrivacyRule"
    ],
    inputPrivacyValueAllowPremium: [
      2009975281,
      [],
      "InputPrivacyRule"
    ],
    inputPrivacyValueAllowBots: [
      1515179237,
      [],
      "InputPrivacyRule"
    ],
    inputPrivacyValueDisallowBots: [
      3303373077,
      [],
      "InputPrivacyRule"
    ],
    privacyValueAllowContacts: [
      4294843308,
      [],
      "PrivacyRule"
    ],
    privacyValueAllowAll: [
      1698855810,
      [],
      "PrivacyRule"
    ],
    privacyValueAllowUsers: [
      3096469426,
      [
        ["users", "Vector<long>"]
      ],
      "PrivacyRule"
    ],
    privacyValueDisallowContacts: [
      4169726490,
      [],
      "PrivacyRule"
    ],
    privacyValueDisallowAll: [
      2339628899,
      [],
      "PrivacyRule"
    ],
    privacyValueDisallowUsers: [
      3831632193,
      [
        ["users", "Vector<long>"]
      ],
      "PrivacyRule"
    ],
    privacyValueAllowChatParticipants: [
      1796427406,
      [
        ["chats", "Vector<long>"]
      ],
      "PrivacyRule"
    ],
    privacyValueDisallowChatParticipants: [
      1103656293,
      [
        ["chats", "Vector<long>"]
      ],
      "PrivacyRule"
    ],
    privacyValueAllowCloseFriends: [
      4159232155,
      [],
      "PrivacyRule"
    ],
    privacyValueAllowPremium: [
      3974725963,
      [],
      "PrivacyRule"
    ],
    privacyValueAllowBots: [
      558242653,
      [],
      "PrivacyRule"
    ],
    privacyValueDisallowBots: [
      4138072111,
      [],
      "PrivacyRule"
    ],
    "account.privacyRules": [
      1352683077,
      [
        ["rules", "Vector<PrivacyRule>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "account.PrivacyRules"
    ],
    accountDaysTTL: [
      3100684255,
      [
        ["days", "int"]
      ],
      "AccountDaysTTL"
    ],
    documentAttributeImageSize: [
      1815593308,
      [
        ["w", "int"],
        ["h", "int"]
      ],
      "DocumentAttribute"
    ],
    documentAttributeAnimated: [
      297109817,
      [],
      "DocumentAttribute"
    ],
    documentAttributeSticker: [
      1662637586,
      [
        ["flags", "#"],
        ["mask", "flags.1?true"],
        ["alt", "string"],
        ["stickerset", "InputStickerSet"],
        ["mask_coords", "flags.0?MaskCoords"]
      ],
      "DocumentAttribute"
    ],
    documentAttributeVideo: [
      1137015880,
      [
        ["flags", "#"],
        ["round_message", "flags.0?true"],
        ["supports_streaming", "flags.1?true"],
        ["nosound", "flags.3?true"],
        ["duration", "double"],
        ["w", "int"],
        ["h", "int"],
        ["preload_prefix_size", "flags.2?int"],
        ["video_start_ts", "flags.4?double"],
        ["video_codec", "flags.5?string"]
      ],
      "DocumentAttribute"
    ],
    documentAttributeAudio: [
      2555574726,
      [
        ["flags", "#"],
        ["voice", "flags.10?true"],
        ["duration", "int"],
        ["title", "flags.0?string"],
        ["performer", "flags.1?string"],
        ["waveform", "flags.2?bytes"]
      ],
      "DocumentAttribute"
    ],
    documentAttributeFilename: [
      358154344,
      [
        ["file_name", "string"]
      ],
      "DocumentAttribute"
    ],
    documentAttributeHasStickers: [
      2550256375,
      [],
      "DocumentAttribute"
    ],
    documentAttributeCustomEmoji: [
      4245985433,
      [
        ["flags", "#"],
        ["free", "flags.0?true"],
        ["text_color", "flags.1?true"],
        ["alt", "string"],
        ["stickerset", "InputStickerSet"]
      ],
      "DocumentAttribute"
    ],
    "messages.stickersNotModified": [
      4050950690,
      [],
      "messages.Stickers"
    ],
    "messages.stickers": [
      816245886,
      [
        ["hash", "long"],
        ["stickers", "Vector<Document>"]
      ],
      "messages.Stickers"
    ],
    stickerPack: [
      313694676,
      [
        ["emoticon", "string"],
        ["documents", "Vector<long>"]
      ],
      "StickerPack"
    ],
    "messages.allStickersNotModified": [
      3898999491,
      [],
      "messages.AllStickers"
    ],
    "messages.allStickers": [
      3451637435,
      [
        ["hash", "long"],
        ["sets", "Vector<StickerSet>"]
      ],
      "messages.AllStickers"
    ],
    "messages.affectedMessages": [
      2228326789,
      [
        ["pts", "int"],
        ["pts_count", "int"]
      ],
      "messages.AffectedMessages"
    ],
    webPageEmpty: [
      555358088,
      [
        ["flags", "#"],
        ["id", "long"],
        ["url", "flags.0?string"]
      ],
      "WebPage"
    ],
    webPagePending: [
      2966502983,
      [
        ["flags", "#"],
        ["id", "long"],
        ["url", "flags.0?string"],
        ["date", "int"]
      ],
      "WebPage"
    ],
    webPage: [
      3902555570,
      [
        ["flags", "#"],
        ["has_large_media", "flags.13?true"],
        ["video_cover_photo", "flags.14?true"],
        ["id", "long"],
        ["url", "string"],
        ["display_url", "string"],
        ["hash", "int"],
        ["type", "flags.0?string"],
        ["site_name", "flags.1?string"],
        ["title", "flags.2?string"],
        ["description", "flags.3?string"],
        ["photo", "flags.4?Photo"],
        ["embed_url", "flags.5?string"],
        ["embed_type", "flags.5?string"],
        ["embed_width", "flags.6?int"],
        ["embed_height", "flags.6?int"],
        ["duration", "flags.7?int"],
        ["author", "flags.8?string"],
        ["document", "flags.9?Document"],
        ["cached_page", "flags.10?Page"],
        ["attributes", "flags.12?Vector<WebPageAttribute>"]
      ],
      "WebPage"
    ],
    webPageNotModified: [
      1930545681,
      [
        ["flags", "#"],
        ["cached_page_views", "flags.0?int"]
      ],
      "WebPage"
    ],
    authorization: [
      2902578717,
      [
        ["flags", "#"],
        ["current", "flags.0?true"],
        ["official_app", "flags.1?true"],
        ["password_pending", "flags.2?true"],
        ["encrypted_requests_disabled", "flags.3?true"],
        ["call_requests_disabled", "flags.4?true"],
        ["unconfirmed", "flags.5?true"],
        ["hash", "long"],
        ["device_model", "string"],
        ["platform", "string"],
        ["system_version", "string"],
        ["api_id", "int"],
        ["app_name", "string"],
        ["app_version", "string"],
        ["date_created", "int"],
        ["date_active", "int"],
        ["ip", "string"],
        ["country", "string"],
        ["region", "string"]
      ],
      "Authorization"
    ],
    "account.authorizations": [
      1275039392,
      [
        ["authorization_ttl_days", "int"],
        ["authorizations", "Vector<Authorization>"]
      ],
      "account.Authorizations"
    ],
    "account.password": [
      2507886843,
      [
        ["flags", "#"],
        ["has_recovery", "flags.0?true"],
        ["has_secure_values", "flags.1?true"],
        ["has_password", "flags.2?true"],
        ["current_algo", "flags.2?PasswordKdfAlgo"],
        ["srp_B", "flags.2?bytes"],
        ["srp_id", "flags.2?long"],
        ["hint", "flags.3?string"],
        ["email_unconfirmed_pattern", "flags.4?string"],
        ["new_algo", "PasswordKdfAlgo"],
        ["new_secure_algo", "SecurePasswordKdfAlgo"],
        ["secure_random", "bytes"],
        ["pending_reset_date", "flags.5?int"],
        ["login_email_pattern", "flags.6?string"]
      ],
      "account.Password"
    ],
    "account.passwordSettings": [
      2589733861,
      [
        ["flags", "#"],
        ["email", "flags.0?string"],
        ["secure_settings", "flags.1?SecureSecretSettings"]
      ],
      "account.PasswordSettings"
    ],
    "account.passwordInputSettings": [
      3258394569,
      [
        ["flags", "#"],
        ["new_algo", "flags.0?PasswordKdfAlgo"],
        ["new_password_hash", "flags.0?bytes"],
        ["hint", "flags.0?string"],
        ["email", "flags.1?string"],
        ["new_secure_settings", "flags.2?SecureSecretSettings"]
      ],
      "account.PasswordInputSettings"
    ],
    "auth.passwordRecovery": [
      326715557,
      [
        ["email_pattern", "string"]
      ],
      "auth.PasswordRecovery"
    ],
    receivedNotifyMessage: [
      2743383929,
      [
        ["id", "int"],
        ["flags", "int"]
      ],
      "ReceivedNotifyMessage"
    ],
    chatInviteExported: [
      2720841110,
      [
        ["flags", "#"],
        ["revoked", "flags.0?true"],
        ["permanent", "flags.5?true"],
        ["request_needed", "flags.6?true"],
        ["link", "string"],
        ["admin_id", "long"],
        ["date", "int"],
        ["start_date", "flags.4?int"],
        ["expire_date", "flags.1?int"],
        ["usage_limit", "flags.2?int"],
        ["usage", "flags.3?int"],
        ["requested", "flags.7?int"],
        ["subscription_expired", "flags.10?int"],
        ["title", "flags.8?string"],
        ["subscription_pricing", "flags.9?StarsSubscriptionPricing"]
      ],
      "ExportedChatInvite"
    ],
    chatInvitePublicJoinRequests: [
      3977280183,
      [],
      "ExportedChatInvite"
    ],
    chatInviteAlready: [
      1516793212,
      [
        ["chat", "Chat"]
      ],
      "ChatInvite"
    ],
    chatInvite: [
      1553807106,
      [
        ["flags", "#"],
        ["channel", "flags.0?true"],
        ["broadcast", "flags.1?true"],
        ["public", "flags.2?true"],
        ["megagroup", "flags.3?true"],
        ["request_needed", "flags.6?true"],
        ["verified", "flags.7?true"],
        ["scam", "flags.8?true"],
        ["fake", "flags.9?true"],
        ["can_refulfill_subscription", "flags.11?true"],
        ["title", "string"],
        ["about", "flags.5?string"],
        ["photo", "Photo"],
        ["participants_count", "int"],
        ["participants", "flags.4?Vector<User>"],
        ["color", "int"],
        ["subscription_pricing", "flags.10?StarsSubscriptionPricing"],
        ["subscription_form_id", "flags.12?long"],
        ["bot_verification", "flags.13?BotVerification"]
      ],
      "ChatInvite"
    ],
    chatInvitePeek: [
      1634294960,
      [
        ["chat", "Chat"],
        ["expires", "int"]
      ],
      "ChatInvite"
    ],
    inputStickerSetEmpty: [
      4290128789,
      [],
      "InputStickerSet"
    ],
    inputStickerSetID: [
      2649203305,
      [
        ["id", "long"],
        ["access_hash", "long"]
      ],
      "InputStickerSet"
    ],
    inputStickerSetShortName: [
      2250033312,
      [
        ["short_name", "string"]
      ],
      "InputStickerSet"
    ],
    inputStickerSetAnimatedEmoji: [
      42402760,
      [],
      "InputStickerSet"
    ],
    inputStickerSetDice: [
      3867103758,
      [
        ["emoticon", "string"]
      ],
      "InputStickerSet"
    ],
    inputStickerSetAnimatedEmojiAnimations: [
      215889721,
      [],
      "InputStickerSet"
    ],
    inputStickerSetPremiumGifts: [
      3364567810,
      [],
      "InputStickerSet"
    ],
    inputStickerSetEmojiGenericAnimations: [
      80008398,
      [],
      "InputStickerSet"
    ],
    inputStickerSetEmojiDefaultStatuses: [
      701560302,
      [],
      "InputStickerSet"
    ],
    inputStickerSetEmojiDefaultTopicIcons: [
      1153562857,
      [],
      "InputStickerSet"
    ],
    inputStickerSetEmojiChannelDefaultStatuses: [
      1232373075,
      [],
      "InputStickerSet"
    ],
    inputStickerSetTonGifts: [
      485912992,
      [],
      "InputStickerSet"
    ],
    stickerSet: [
      768691932,
      [
        ["flags", "#"],
        ["archived", "flags.1?true"],
        ["official", "flags.2?true"],
        ["masks", "flags.3?true"],
        ["emojis", "flags.7?true"],
        ["text_color", "flags.9?true"],
        ["channel_emoji_status", "flags.10?true"],
        ["creator", "flags.11?true"],
        ["installed_date", "flags.0?int"],
        ["id", "long"],
        ["access_hash", "long"],
        ["title", "string"],
        ["short_name", "string"],
        ["thumbs", "flags.4?Vector<PhotoSize>"],
        ["thumb_dc_id", "flags.4?int"],
        ["thumb_version", "flags.4?int"],
        ["thumb_document_id", "flags.8?long"],
        ["count", "int"],
        ["hash", "int"]
      ],
      "StickerSet"
    ],
    "messages.stickerSet": [
      1846886166,
      [
        ["set", "StickerSet"],
        ["packs", "Vector<StickerPack>"],
        ["keywords", "Vector<StickerKeyword>"],
        ["documents", "Vector<Document>"]
      ],
      "messages.StickerSet"
    ],
    "messages.stickerSetNotModified": [
      3556320491,
      [],
      "messages.StickerSet"
    ],
    botCommand: [
      3262826695,
      [
        ["command", "string"],
        ["description", "string"]
      ],
      "BotCommand"
    ],
    botInfo: [
      1300890265,
      [
        ["flags", "#"],
        ["has_preview_medias", "flags.6?true"],
        ["user_id", "flags.0?long"],
        ["description", "flags.1?string"],
        ["description_photo", "flags.4?Photo"],
        ["description_document", "flags.5?Document"],
        ["commands", "flags.2?Vector<BotCommand>"],
        ["menu_button", "flags.3?BotMenuButton"],
        ["privacy_policy_url", "flags.7?string"],
        ["app_settings", "flags.8?BotAppSettings"],
        ["verifier_settings", "flags.9?BotVerifierSettings"]
      ],
      "BotInfo"
    ],
    keyboardButton: [
      2734311552,
      [
        ["text", "string"]
      ],
      "KeyboardButton"
    ],
    keyboardButtonUrl: [
      629866245,
      [
        ["text", "string"],
        ["url", "string"]
      ],
      "KeyboardButton"
    ],
    keyboardButtonCallback: [
      901503851,
      [
        ["flags", "#"],
        ["requires_password", "flags.0?true"],
        ["text", "string"],
        ["data", "bytes"]
      ],
      "KeyboardButton"
    ],
    keyboardButtonRequestPhone: [
      2976541737,
      [
        ["text", "string"]
      ],
      "KeyboardButton"
    ],
    keyboardButtonRequestGeoLocation: [
      4235815743,
      [
        ["text", "string"]
      ],
      "KeyboardButton"
    ],
    keyboardButtonSwitchInline: [
      2478439349,
      [
        ["flags", "#"],
        ["same_peer", "flags.0?true"],
        ["text", "string"],
        ["query", "string"],
        ["peer_types", "flags.1?Vector<InlineQueryPeerType>"]
      ],
      "KeyboardButton"
    ],
    keyboardButtonGame: [
      1358175439,
      [
        ["text", "string"]
      ],
      "KeyboardButton"
    ],
    keyboardButtonBuy: [
      2950250427,
      [
        ["text", "string"]
      ],
      "KeyboardButton"
    ],
    keyboardButtonUrlAuth: [
      280464681,
      [
        ["flags", "#"],
        ["text", "string"],
        ["fwd_text", "flags.0?string"],
        ["url", "string"],
        ["button_id", "int"]
      ],
      "KeyboardButton"
    ],
    inputKeyboardButtonUrlAuth: [
      3492708308,
      [
        ["flags", "#"],
        ["request_write_access", "flags.0?true"],
        ["text", "string"],
        ["fwd_text", "flags.1?string"],
        ["url", "string"],
        ["bot", "InputUser"]
      ],
      "KeyboardButton"
    ],
    keyboardButtonRequestPoll: [
      3150401885,
      [
        ["flags", "#"],
        ["quiz", "flags.0?Bool"],
        ["text", "string"]
      ],
      "KeyboardButton"
    ],
    inputKeyboardButtonUserProfile: [
      3918005115,
      [
        ["text", "string"],
        ["user_id", "InputUser"]
      ],
      "KeyboardButton"
    ],
    keyboardButtonUserProfile: [
      814112961,
      [
        ["text", "string"],
        ["user_id", "long"]
      ],
      "KeyboardButton"
    ],
    keyboardButtonWebView: [
      326529584,
      [
        ["text", "string"],
        ["url", "string"]
      ],
      "KeyboardButton"
    ],
    keyboardButtonSimpleWebView: [
      2696958044,
      [
        ["text", "string"],
        ["url", "string"]
      ],
      "KeyboardButton"
    ],
    keyboardButtonRequestPeer: [
      1406648280,
      [
        ["text", "string"],
        ["button_id", "int"],
        ["peer_type", "RequestPeerType"],
        ["max_quantity", "int"]
      ],
      "KeyboardButton"
    ],
    inputKeyboardButtonRequestPeer: [
      3378916613,
      [
        ["flags", "#"],
        ["name_requested", "flags.0?true"],
        ["username_requested", "flags.1?true"],
        ["photo_requested", "flags.2?true"],
        ["text", "string"],
        ["button_id", "int"],
        ["peer_type", "RequestPeerType"],
        ["max_quantity", "int"]
      ],
      "KeyboardButton"
    ],
    keyboardButtonCopy: [
      1976723854,
      [
        ["text", "string"],
        ["copy_text", "string"]
      ],
      "KeyboardButton"
    ],
    keyboardButtonRow: [
      2002815875,
      [
        ["buttons", "Vector<KeyboardButton>"]
      ],
      "KeyboardButtonRow"
    ],
    replyKeyboardHide: [
      2688441221,
      [
        ["flags", "#"],
        ["selective", "flags.2?true"]
      ],
      "ReplyMarkup"
    ],
    replyKeyboardForceReply: [
      2259946248,
      [
        ["flags", "#"],
        ["single_use", "flags.1?true"],
        ["selective", "flags.2?true"],
        ["placeholder", "flags.3?string"]
      ],
      "ReplyMarkup"
    ],
    replyKeyboardMarkup: [
      2245892561,
      [
        ["flags", "#"],
        ["resize", "flags.0?true"],
        ["single_use", "flags.1?true"],
        ["selective", "flags.2?true"],
        ["persistent", "flags.4?true"],
        ["rows", "Vector<KeyboardButtonRow>"],
        ["placeholder", "flags.3?string"]
      ],
      "ReplyMarkup"
    ],
    replyInlineMarkup: [
      1218642516,
      [
        ["rows", "Vector<KeyboardButtonRow>"]
      ],
      "ReplyMarkup"
    ],
    messageEntityUnknown: [
      3146955413,
      [
        ["offset", "int"],
        ["length", "int"]
      ],
      "MessageEntity"
    ],
    messageEntityMention: [
      4194588573,
      [
        ["offset", "int"],
        ["length", "int"]
      ],
      "MessageEntity"
    ],
    messageEntityHashtag: [
      1868782349,
      [
        ["offset", "int"],
        ["length", "int"]
      ],
      "MessageEntity"
    ],
    messageEntityBotCommand: [
      1827637959,
      [
        ["offset", "int"],
        ["length", "int"]
      ],
      "MessageEntity"
    ],
    messageEntityUrl: [
      1859134776,
      [
        ["offset", "int"],
        ["length", "int"]
      ],
      "MessageEntity"
    ],
    messageEntityEmail: [
      1692693954,
      [
        ["offset", "int"],
        ["length", "int"]
      ],
      "MessageEntity"
    ],
    messageEntityBold: [
      3177253833,
      [
        ["offset", "int"],
        ["length", "int"]
      ],
      "MessageEntity"
    ],
    messageEntityItalic: [
      2188348256,
      [
        ["offset", "int"],
        ["length", "int"]
      ],
      "MessageEntity"
    ],
    messageEntityCode: [
      681706865,
      [
        ["offset", "int"],
        ["length", "int"]
      ],
      "MessageEntity"
    ],
    messageEntityPre: [
      1938967520,
      [
        ["offset", "int"],
        ["length", "int"],
        ["language", "string"]
      ],
      "MessageEntity"
    ],
    messageEntityTextUrl: [
      1990644519,
      [
        ["offset", "int"],
        ["length", "int"],
        ["url", "string"]
      ],
      "MessageEntity"
    ],
    messageEntityMentionName: [
      3699052864,
      [
        ["offset", "int"],
        ["length", "int"],
        ["user_id", "long"]
      ],
      "MessageEntity"
    ],
    inputMessageEntityMentionName: [
      546203849,
      [
        ["offset", "int"],
        ["length", "int"],
        ["user_id", "InputUser"]
      ],
      "MessageEntity"
    ],
    messageEntityPhone: [
      2607407947,
      [
        ["offset", "int"],
        ["length", "int"]
      ],
      "MessageEntity"
    ],
    messageEntityCashtag: [
      1280209983,
      [
        ["offset", "int"],
        ["length", "int"]
      ],
      "MessageEntity"
    ],
    messageEntityUnderline: [
      2622389899,
      [
        ["offset", "int"],
        ["length", "int"]
      ],
      "MessageEntity"
    ],
    messageEntityStrike: [
      3204879316,
      [
        ["offset", "int"],
        ["length", "int"]
      ],
      "MessageEntity"
    ],
    messageEntityBankCard: [
      1981704948,
      [
        ["offset", "int"],
        ["length", "int"]
      ],
      "MessageEntity"
    ],
    messageEntitySpoiler: [
      852137487,
      [
        ["offset", "int"],
        ["length", "int"]
      ],
      "MessageEntity"
    ],
    messageEntityCustomEmoji: [
      3369010680,
      [
        ["offset", "int"],
        ["length", "int"],
        ["document_id", "long"]
      ],
      "MessageEntity"
    ],
    messageEntityBlockquote: [
      4056722092,
      [
        ["flags", "#"],
        ["collapsed", "flags.0?true"],
        ["offset", "int"],
        ["length", "int"]
      ],
      "MessageEntity"
    ],
    inputChannelEmpty: [
      4002160262,
      [],
      "InputChannel"
    ],
    inputChannel: [
      4082822184,
      [
        ["channel_id", "long"],
        ["access_hash", "long"]
      ],
      "InputChannel"
    ],
    inputChannelFromMessage: [
      1536380829,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["channel_id", "long"]
      ],
      "InputChannel"
    ],
    "contacts.resolvedPeer": [
      2131196633,
      [
        ["peer", "Peer"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "contacts.ResolvedPeer"
    ],
    messageRange: [
      182649427,
      [
        ["min_id", "int"],
        ["max_id", "int"]
      ],
      "MessageRange"
    ],
    "updates.channelDifferenceEmpty": [
      1041346555,
      [
        ["flags", "#"],
        ["final", "flags.0?true"],
        ["pts", "int"],
        ["timeout", "flags.1?int"]
      ],
      "updates.ChannelDifference"
    ],
    "updates.channelDifferenceTooLong": [
      2763835134,
      [
        ["flags", "#"],
        ["final", "flags.0?true"],
        ["timeout", "flags.1?int"],
        ["dialog", "Dialog"],
        ["messages", "Vector<Message>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "updates.ChannelDifference"
    ],
    "updates.channelDifference": [
      543450958,
      [
        ["flags", "#"],
        ["final", "flags.0?true"],
        ["pts", "int"],
        ["timeout", "flags.1?int"],
        ["new_messages", "Vector<Message>"],
        ["other_updates", "Vector<Update>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "updates.ChannelDifference"
    ],
    channelMessagesFilterEmpty: [
      2496933607,
      [],
      "ChannelMessagesFilter"
    ],
    channelMessagesFilter: [
      3447183703,
      [
        ["flags", "#"],
        ["exclude_new_messages", "flags.1?true"],
        ["ranges", "Vector<MessageRange>"]
      ],
      "ChannelMessagesFilter"
    ],
    channelParticipant: [
      3409540633,
      [
        ["flags", "#"],
        ["user_id", "long"],
        ["date", "int"],
        ["subscription_until_date", "flags.0?int"]
      ],
      "ChannelParticipant"
    ],
    channelParticipantSelf: [
      1331723247,
      [
        ["flags", "#"],
        ["via_request", "flags.0?true"],
        ["user_id", "long"],
        ["inviter_id", "long"],
        ["date", "int"],
        ["subscription_until_date", "flags.1?int"]
      ],
      "ChannelParticipant"
    ],
    channelParticipantCreator: [
      803602899,
      [
        ["flags", "#"],
        ["user_id", "long"],
        ["admin_rights", "ChatAdminRights"],
        ["rank", "flags.0?string"]
      ],
      "ChannelParticipant"
    ],
    channelParticipantAdmin: [
      885242707,
      [
        ["flags", "#"],
        ["can_edit", "flags.0?true"],
        ["self", "flags.1?true"],
        ["user_id", "long"],
        ["inviter_id", "flags.1?long"],
        ["promoted_by", "long"],
        ["date", "int"],
        ["admin_rights", "ChatAdminRights"],
        ["rank", "flags.2?string"]
      ],
      "ChannelParticipant"
    ],
    channelParticipantBanned: [
      1844969806,
      [
        ["flags", "#"],
        ["left", "flags.0?true"],
        ["peer", "Peer"],
        ["kicked_by", "long"],
        ["date", "int"],
        ["banned_rights", "ChatBannedRights"]
      ],
      "ChannelParticipant"
    ],
    channelParticipantLeft: [
      453242886,
      [
        ["peer", "Peer"]
      ],
      "ChannelParticipant"
    ],
    channelParticipantsRecent: [
      3728686201,
      [],
      "ChannelParticipantsFilter"
    ],
    channelParticipantsAdmins: [
      3026225513,
      [],
      "ChannelParticipantsFilter"
    ],
    channelParticipantsKicked: [
      2746567045,
      [
        ["q", "string"]
      ],
      "ChannelParticipantsFilter"
    ],
    channelParticipantsBots: [
      2966521435,
      [],
      "ChannelParticipantsFilter"
    ],
    channelParticipantsBanned: [
      338142689,
      [
        ["q", "string"]
      ],
      "ChannelParticipantsFilter"
    ],
    channelParticipantsSearch: [
      106343499,
      [
        ["q", "string"]
      ],
      "ChannelParticipantsFilter"
    ],
    channelParticipantsContacts: [
      3144345741,
      [
        ["q", "string"]
      ],
      "ChannelParticipantsFilter"
    ],
    channelParticipantsMentions: [
      3763035371,
      [
        ["flags", "#"],
        ["q", "flags.0?string"],
        ["top_msg_id", "flags.1?int"]
      ],
      "ChannelParticipantsFilter"
    ],
    "channels.channelParticipants": [
      2595290799,
      [
        ["count", "int"],
        ["participants", "Vector<ChannelParticipant>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "channels.ChannelParticipants"
    ],
    "channels.channelParticipantsNotModified": [
      4028055529,
      [],
      "channels.ChannelParticipants"
    ],
    "channels.channelParticipant": [
      3753378583,
      [
        ["participant", "ChannelParticipant"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "channels.ChannelParticipant"
    ],
    "help.termsOfService": [
      2013922064,
      [
        ["flags", "#"],
        ["popup", "flags.0?true"],
        ["id", "DataJSON"],
        ["text", "string"],
        ["entities", "Vector<MessageEntity>"],
        ["min_age_confirm", "flags.1?int"]
      ],
      "help.TermsOfService"
    ],
    "messages.savedGifsNotModified": [
      3892468898,
      [],
      "messages.SavedGifs"
    ],
    "messages.savedGifs": [
      2225089037,
      [
        ["hash", "long"],
        ["gifs", "Vector<Document>"]
      ],
      "messages.SavedGifs"
    ],
    inputBotInlineMessageMediaAuto: [
      864077702,
      [
        ["flags", "#"],
        ["invert_media", "flags.3?true"],
        ["message", "string"],
        ["entities", "flags.1?Vector<MessageEntity>"],
        ["reply_markup", "flags.2?ReplyMarkup"]
      ],
      "InputBotInlineMessage"
    ],
    inputBotInlineMessageText: [
      1036876423,
      [
        ["flags", "#"],
        ["no_webpage", "flags.0?true"],
        ["invert_media", "flags.3?true"],
        ["message", "string"],
        ["entities", "flags.1?Vector<MessageEntity>"],
        ["reply_markup", "flags.2?ReplyMarkup"]
      ],
      "InputBotInlineMessage"
    ],
    inputBotInlineMessageMediaGeo: [
      2526190213,
      [
        ["flags", "#"],
        ["geo_point", "InputGeoPoint"],
        ["heading", "flags.0?int"],
        ["period", "flags.1?int"],
        ["proximity_notification_radius", "flags.3?int"],
        ["reply_markup", "flags.2?ReplyMarkup"]
      ],
      "InputBotInlineMessage"
    ],
    inputBotInlineMessageMediaVenue: [
      1098628881,
      [
        ["flags", "#"],
        ["geo_point", "InputGeoPoint"],
        ["title", "string"],
        ["address", "string"],
        ["provider", "string"],
        ["venue_id", "string"],
        ["venue_type", "string"],
        ["reply_markup", "flags.2?ReplyMarkup"]
      ],
      "InputBotInlineMessage"
    ],
    inputBotInlineMessageMediaContact: [
      2800599037,
      [
        ["flags", "#"],
        ["phone_number", "string"],
        ["first_name", "string"],
        ["last_name", "string"],
        ["vcard", "string"],
        ["reply_markup", "flags.2?ReplyMarkup"]
      ],
      "InputBotInlineMessage"
    ],
    inputBotInlineMessageGame: [
      1262639204,
      [
        ["flags", "#"],
        ["reply_markup", "flags.2?ReplyMarkup"]
      ],
      "InputBotInlineMessage"
    ],
    inputBotInlineMessageMediaInvoice: [
      3622273573,
      [
        ["flags", "#"],
        ["title", "string"],
        ["description", "string"],
        ["photo", "flags.0?InputWebDocument"],
        ["invoice", "Invoice"],
        ["payload", "bytes"],
        ["provider", "string"],
        ["provider_data", "DataJSON"],
        ["reply_markup", "flags.2?ReplyMarkup"]
      ],
      "InputBotInlineMessage"
    ],
    inputBotInlineMessageMediaWebPage: [
      3185362192,
      [
        ["flags", "#"],
        ["invert_media", "flags.3?true"],
        ["force_large_media", "flags.4?true"],
        ["force_small_media", "flags.5?true"],
        ["optional", "flags.6?true"],
        ["message", "string"],
        ["entities", "flags.1?Vector<MessageEntity>"],
        ["url", "string"],
        ["reply_markup", "flags.2?ReplyMarkup"]
      ],
      "InputBotInlineMessage"
    ],
    inputBotInlineResult: [
      2294256409,
      [
        ["flags", "#"],
        ["id", "string"],
        ["type", "string"],
        ["title", "flags.1?string"],
        ["description", "flags.2?string"],
        ["url", "flags.3?string"],
        ["thumb", "flags.4?InputWebDocument"],
        ["content", "flags.5?InputWebDocument"],
        ["send_message", "InputBotInlineMessage"]
      ],
      "InputBotInlineResult"
    ],
    inputBotInlineResultPhoto: [
      2832753831,
      [
        ["id", "string"],
        ["type", "string"],
        ["photo", "InputPhoto"],
        ["send_message", "InputBotInlineMessage"]
      ],
      "InputBotInlineResult"
    ],
    inputBotInlineResultDocument: [
      4294507972,
      [
        ["flags", "#"],
        ["id", "string"],
        ["type", "string"],
        ["title", "flags.1?string"],
        ["description", "flags.2?string"],
        ["document", "InputDocument"],
        ["send_message", "InputBotInlineMessage"]
      ],
      "InputBotInlineResult"
    ],
    inputBotInlineResultGame: [
      1336154098,
      [
        ["id", "string"],
        ["short_name", "string"],
        ["send_message", "InputBotInlineMessage"]
      ],
      "InputBotInlineResult"
    ],
    botInlineMessageMediaAuto: [
      1984755728,
      [
        ["flags", "#"],
        ["invert_media", "flags.3?true"],
        ["message", "string"],
        ["entities", "flags.1?Vector<MessageEntity>"],
        ["reply_markup", "flags.2?ReplyMarkup"]
      ],
      "BotInlineMessage"
    ],
    botInlineMessageText: [
      2357159394,
      [
        ["flags", "#"],
        ["no_webpage", "flags.0?true"],
        ["invert_media", "flags.3?true"],
        ["message", "string"],
        ["entities", "flags.1?Vector<MessageEntity>"],
        ["reply_markup", "flags.2?ReplyMarkup"]
      ],
      "BotInlineMessage"
    ],
    botInlineMessageMediaGeo: [
      85477117,
      [
        ["flags", "#"],
        ["geo", "GeoPoint"],
        ["heading", "flags.0?int"],
        ["period", "flags.1?int"],
        ["proximity_notification_radius", "flags.3?int"],
        ["reply_markup", "flags.2?ReplyMarkup"]
      ],
      "BotInlineMessage"
    ],
    botInlineMessageMediaVenue: [
      2324063644,
      [
        ["flags", "#"],
        ["geo", "GeoPoint"],
        ["title", "string"],
        ["address", "string"],
        ["provider", "string"],
        ["venue_id", "string"],
        ["venue_type", "string"],
        ["reply_markup", "flags.2?ReplyMarkup"]
      ],
      "BotInlineMessage"
    ],
    botInlineMessageMediaContact: [
      416402882,
      [
        ["flags", "#"],
        ["phone_number", "string"],
        ["first_name", "string"],
        ["last_name", "string"],
        ["vcard", "string"],
        ["reply_markup", "flags.2?ReplyMarkup"]
      ],
      "BotInlineMessage"
    ],
    botInlineMessageMediaInvoice: [
      894081801,
      [
        ["flags", "#"],
        ["shipping_address_requested", "flags.1?true"],
        ["test", "flags.3?true"],
        ["title", "string"],
        ["description", "string"],
        ["photo", "flags.0?WebDocument"],
        ["currency", "string"],
        ["total_amount", "long"],
        ["reply_markup", "flags.2?ReplyMarkup"]
      ],
      "BotInlineMessage"
    ],
    botInlineMessageMediaWebPage: [
      2157631910,
      [
        ["flags", "#"],
        ["invert_media", "flags.3?true"],
        ["force_large_media", "flags.4?true"],
        ["force_small_media", "flags.5?true"],
        ["manual", "flags.7?true"],
        ["safe", "flags.8?true"],
        ["message", "string"],
        ["entities", "flags.1?Vector<MessageEntity>"],
        ["url", "string"],
        ["reply_markup", "flags.2?ReplyMarkup"]
      ],
      "BotInlineMessage"
    ],
    botInlineResult: [
      295067450,
      [
        ["flags", "#"],
        ["id", "string"],
        ["type", "string"],
        ["title", "flags.1?string"],
        ["description", "flags.2?string"],
        ["url", "flags.3?string"],
        ["thumb", "flags.4?WebDocument"],
        ["content", "flags.5?WebDocument"],
        ["send_message", "BotInlineMessage"]
      ],
      "BotInlineResult"
    ],
    botInlineMediaResult: [
      400266251,
      [
        ["flags", "#"],
        ["id", "string"],
        ["type", "string"],
        ["photo", "flags.0?Photo"],
        ["document", "flags.1?Document"],
        ["title", "flags.2?string"],
        ["description", "flags.3?string"],
        ["send_message", "BotInlineMessage"]
      ],
      "BotInlineResult"
    ],
    "messages.botResults": [
      3760321270,
      [
        ["flags", "#"],
        ["gallery", "flags.0?true"],
        ["query_id", "long"],
        ["next_offset", "flags.1?string"],
        ["switch_pm", "flags.2?InlineBotSwitchPM"],
        ["switch_webview", "flags.3?InlineBotWebView"],
        ["results", "Vector<BotInlineResult>"],
        ["cache_time", "int"],
        ["users", "Vector<User>"]
      ],
      "messages.BotResults"
    ],
    exportedMessageLink: [
      1571494644,
      [
        ["link", "string"],
        ["html", "string"]
      ],
      "ExportedMessageLink"
    ],
    messageFwdHeader: [
      1313731771,
      [
        ["flags", "#"],
        ["imported", "flags.7?true"],
        ["saved_out", "flags.11?true"],
        ["from_id", "flags.0?Peer"],
        ["from_name", "flags.5?string"],
        ["date", "int"],
        ["channel_post", "flags.2?int"],
        ["post_author", "flags.3?string"],
        ["saved_from_peer", "flags.4?Peer"],
        ["saved_from_msg_id", "flags.4?int"],
        ["saved_from_id", "flags.8?Peer"],
        ["saved_from_name", "flags.9?string"],
        ["saved_date", "flags.10?int"],
        ["psa_type", "flags.6?string"]
      ],
      "MessageFwdHeader"
    ],
    "auth.codeTypeSms": [
      1923290508,
      [],
      "auth.CodeType"
    ],
    "auth.codeTypeCall": [
      1948046307,
      [],
      "auth.CodeType"
    ],
    "auth.codeTypeFlashCall": [
      577556219,
      [],
      "auth.CodeType"
    ],
    "auth.codeTypeMissedCall": [
      3592083182,
      [],
      "auth.CodeType"
    ],
    "auth.codeTypeFragmentSms": [
      116234636,
      [],
      "auth.CodeType"
    ],
    "auth.sentCodeTypeApp": [
      1035688326,
      [
        ["length", "int"]
      ],
      "auth.SentCodeType"
    ],
    "auth.sentCodeTypeSms": [
      3221273506,
      [
        ["length", "int"]
      ],
      "auth.SentCodeType"
    ],
    "auth.sentCodeTypeCall": [
      1398007207,
      [
        ["length", "int"]
      ],
      "auth.SentCodeType"
    ],
    "auth.sentCodeTypeFlashCall": [
      2869151449,
      [
        ["pattern", "string"]
      ],
      "auth.SentCodeType"
    ],
    "auth.sentCodeTypeMissedCall": [
      2181063812,
      [
        ["prefix", "string"],
        ["length", "int"]
      ],
      "auth.SentCodeType"
    ],
    "auth.sentCodeTypeEmailCode": [
      4098946459,
      [
        ["flags", "#"],
        ["apple_signin_allowed", "flags.0?true"],
        ["google_signin_allowed", "flags.1?true"],
        ["email_pattern", "string"],
        ["length", "int"],
        ["reset_available_period", "flags.3?int"],
        ["reset_pending_date", "flags.4?int"]
      ],
      "auth.SentCodeType"
    ],
    "auth.sentCodeTypeSetUpEmailRequired": [
      2773032426,
      [
        ["flags", "#"],
        ["apple_signin_allowed", "flags.0?true"],
        ["google_signin_allowed", "flags.1?true"]
      ],
      "auth.SentCodeType"
    ],
    "auth.sentCodeTypeFragmentSms": [
      3646315577,
      [
        ["url", "string"],
        ["length", "int"]
      ],
      "auth.SentCodeType"
    ],
    "auth.sentCodeTypeFirebaseSms": [
      10475318,
      [
        ["flags", "#"],
        ["nonce", "flags.0?bytes"],
        ["play_integrity_project_id", "flags.2?long"],
        ["play_integrity_nonce", "flags.2?bytes"],
        ["receipt", "flags.1?string"],
        ["push_timeout", "flags.1?int"],
        ["length", "int"]
      ],
      "auth.SentCodeType"
    ],
    "auth.sentCodeTypeSmsWord": [
      2752949377,
      [
        ["flags", "#"],
        ["beginning", "flags.0?string"]
      ],
      "auth.SentCodeType"
    ],
    "auth.sentCodeTypeSmsPhrase": [
      3010958511,
      [
        ["flags", "#"],
        ["beginning", "flags.0?string"]
      ],
      "auth.SentCodeType"
    ],
    "messages.botCallbackAnswer": [
      911761060,
      [
        ["flags", "#"],
        ["alert", "flags.1?true"],
        ["has_url", "flags.3?true"],
        ["native_ui", "flags.4?true"],
        ["message", "flags.0?string"],
        ["url", "flags.2?string"],
        ["cache_time", "int"]
      ],
      "messages.BotCallbackAnswer"
    ],
    "messages.messageEditData": [
      649453030,
      [
        ["flags", "#"],
        ["caption", "flags.0?true"]
      ],
      "messages.MessageEditData"
    ],
    inputBotInlineMessageID: [
      2299280777,
      [
        ["dc_id", "int"],
        ["id", "long"],
        ["access_hash", "long"]
      ],
      "InputBotInlineMessageID"
    ],
    inputBotInlineMessageID64: [
      3067680215,
      [
        ["dc_id", "int"],
        ["owner_id", "long"],
        ["id", "int"],
        ["access_hash", "long"]
      ],
      "InputBotInlineMessageID"
    ],
    inlineBotSwitchPM: [
      1008755359,
      [
        ["text", "string"],
        ["start_param", "string"]
      ],
      "InlineBotSwitchPM"
    ],
    "messages.peerDialogs": [
      863093588,
      [
        ["dialogs", "Vector<Dialog>"],
        ["messages", "Vector<Message>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"],
        ["state", "updates.State"]
      ],
      "messages.PeerDialogs"
    ],
    topPeer: [
      3989684315,
      [
        ["peer", "Peer"],
        ["rating", "double"]
      ],
      "TopPeer"
    ],
    topPeerCategoryBotsPM: [
      2875595611,
      [],
      "TopPeerCategory"
    ],
    topPeerCategoryBotsInline: [
      344356834,
      [],
      "TopPeerCategory"
    ],
    topPeerCategoryCorrespondents: [
      104314861,
      [],
      "TopPeerCategory"
    ],
    topPeerCategoryGroups: [
      3172442442,
      [],
      "TopPeerCategory"
    ],
    topPeerCategoryChannels: [
      371037736,
      [],
      "TopPeerCategory"
    ],
    topPeerCategoryPhoneCalls: [
      511092620,
      [],
      "TopPeerCategory"
    ],
    topPeerCategoryForwardUsers: [
      2822794409,
      [],
      "TopPeerCategory"
    ],
    topPeerCategoryForwardChats: [
      4226728176,
      [],
      "TopPeerCategory"
    ],
    topPeerCategoryBotsApp: [
      4255022060,
      [],
      "TopPeerCategory"
    ],
    topPeerCategoryPeers: [
      4219683473,
      [
        ["category", "TopPeerCategory"],
        ["count", "int"],
        ["peers", "Vector<TopPeer>"]
      ],
      "TopPeerCategoryPeers"
    ],
    "contacts.topPeersNotModified": [
      3727060725,
      [],
      "contacts.TopPeers"
    ],
    "contacts.topPeers": [
      1891070632,
      [
        ["categories", "Vector<TopPeerCategoryPeers>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "contacts.TopPeers"
    ],
    "contacts.topPeersDisabled": [
      3039597469,
      [],
      "contacts.TopPeers"
    ],
    draftMessageEmpty: [
      453805082,
      [
        ["flags", "#"],
        ["date", "flags.0?int"]
      ],
      "DraftMessage"
    ],
    draftMessage: [
      2531960299,
      [
        ["flags", "#"],
        ["no_webpage", "flags.1?true"],
        ["invert_media", "flags.6?true"],
        ["reply_to", "flags.4?InputReplyTo"],
        ["message", "string"],
        ["entities", "flags.3?Vector<MessageEntity>"],
        ["media", "flags.5?InputMedia"],
        ["date", "int"],
        ["effect", "flags.7?long"],
        ["suggested_post", "flags.8?SuggestedPost"]
      ],
      "DraftMessage"
    ],
    "messages.featuredStickersNotModified": [
      3336309862,
      [
        ["count", "int"]
      ],
      "messages.FeaturedStickers"
    ],
    "messages.featuredStickers": [
      3191351558,
      [
        ["flags", "#"],
        ["premium", "flags.0?true"],
        ["hash", "long"],
        ["count", "int"],
        ["sets", "Vector<StickerSetCovered>"],
        ["unread", "Vector<long>"]
      ],
      "messages.FeaturedStickers"
    ],
    "messages.recentStickersNotModified": [
      186120336,
      [],
      "messages.RecentStickers"
    ],
    "messages.recentStickers": [
      2295561302,
      [
        ["hash", "long"],
        ["packs", "Vector<StickerPack>"],
        ["stickers", "Vector<Document>"],
        ["dates", "Vector<int>"]
      ],
      "messages.RecentStickers"
    ],
    "messages.archivedStickers": [
      1338747336,
      [
        ["count", "int"],
        ["sets", "Vector<StickerSetCovered>"]
      ],
      "messages.ArchivedStickers"
    ],
    "messages.stickerSetInstallResultSuccess": [
      946083368,
      [],
      "messages.StickerSetInstallResult"
    ],
    "messages.stickerSetInstallResultArchive": [
      904138920,
      [
        ["sets", "Vector<StickerSetCovered>"]
      ],
      "messages.StickerSetInstallResult"
    ],
    stickerSetCovered: [
      1678812626,
      [
        ["set", "StickerSet"],
        ["cover", "Document"]
      ],
      "StickerSetCovered"
    ],
    stickerSetMultiCovered: [
      872932635,
      [
        ["set", "StickerSet"],
        ["covers", "Vector<Document>"]
      ],
      "StickerSetCovered"
    ],
    stickerSetFullCovered: [
      1087454222,
      [
        ["set", "StickerSet"],
        ["packs", "Vector<StickerPack>"],
        ["keywords", "Vector<StickerKeyword>"],
        ["documents", "Vector<Document>"]
      ],
      "StickerSetCovered"
    ],
    stickerSetNoCovered: [
      2008112412,
      [
        ["set", "StickerSet"]
      ],
      "StickerSetCovered"
    ],
    maskCoords: [
      2933316530,
      [
        ["n", "int"],
        ["x", "double"],
        ["y", "double"],
        ["zoom", "double"]
      ],
      "MaskCoords"
    ],
    inputStickeredMediaPhoto: [
      1251549527,
      [
        ["id", "InputPhoto"]
      ],
      "InputStickeredMedia"
    ],
    inputStickeredMediaDocument: [
      70813275,
      [
        ["id", "InputDocument"]
      ],
      "InputStickeredMedia"
    ],
    game: [
      3187238203,
      [
        ["flags", "#"],
        ["id", "long"],
        ["access_hash", "long"],
        ["short_name", "string"],
        ["title", "string"],
        ["description", "string"],
        ["photo", "Photo"],
        ["document", "flags.0?Document"]
      ],
      "Game"
    ],
    inputGameID: [
      53231223,
      [
        ["id", "long"],
        ["access_hash", "long"]
      ],
      "InputGame"
    ],
    inputGameShortName: [
      3274827786,
      [
        ["bot_id", "InputUser"],
        ["short_name", "string"]
      ],
      "InputGame"
    ],
    highScore: [
      1940093419,
      [
        ["pos", "int"],
        ["user_id", "long"],
        ["score", "int"]
      ],
      "HighScore"
    ],
    "messages.highScores": [
      2587622809,
      [
        ["scores", "Vector<HighScore>"],
        ["users", "Vector<User>"]
      ],
      "messages.HighScores"
    ],
    textEmpty: [
      3695018575,
      [],
      "RichText"
    ],
    textPlain: [
      1950782688,
      [
        ["text", "string"]
      ],
      "RichText"
    ],
    textBold: [
      1730456516,
      [
        ["text", "RichText"]
      ],
      "RichText"
    ],
    textItalic: [
      3641877916,
      [
        ["text", "RichText"]
      ],
      "RichText"
    ],
    textUnderline: [
      3240501956,
      [
        ["text", "RichText"]
      ],
      "RichText"
    ],
    textStrike: [
      2616769429,
      [
        ["text", "RichText"]
      ],
      "RichText"
    ],
    textFixed: [
      1816074681,
      [
        ["text", "RichText"]
      ],
      "RichText"
    ],
    textUrl: [
      1009288385,
      [
        ["text", "RichText"],
        ["url", "string"],
        ["webpage_id", "long"]
      ],
      "RichText"
    ],
    textEmail: [
      3730443734,
      [
        ["text", "RichText"],
        ["email", "string"]
      ],
      "RichText"
    ],
    textConcat: [
      2120376535,
      [
        ["texts", "Vector<RichText>"]
      ],
      "RichText"
    ],
    textSubscript: [
      3983181060,
      [
        ["text", "RichText"]
      ],
      "RichText"
    ],
    textSuperscript: [
      3355139585,
      [
        ["text", "RichText"]
      ],
      "RichText"
    ],
    textMarked: [
      55281185,
      [
        ["text", "RichText"]
      ],
      "RichText"
    ],
    textPhone: [
      483104362,
      [
        ["text", "RichText"],
        ["phone", "string"]
      ],
      "RichText"
    ],
    textImage: [
      136105807,
      [
        ["document_id", "long"],
        ["w", "int"],
        ["h", "int"]
      ],
      "RichText"
    ],
    textAnchor: [
      894777186,
      [
        ["text", "RichText"],
        ["name", "string"]
      ],
      "RichText"
    ],
    pageBlockUnsupported: [
      324435594,
      [],
      "PageBlock"
    ],
    pageBlockTitle: [
      1890305021,
      [
        ["text", "RichText"]
      ],
      "PageBlock"
    ],
    pageBlockSubtitle: [
      2415565343,
      [
        ["text", "RichText"]
      ],
      "PageBlock"
    ],
    pageBlockAuthorDate: [
      3132089824,
      [
        ["author", "RichText"],
        ["published_date", "int"]
      ],
      "PageBlock"
    ],
    pageBlockHeader: [
      3218105580,
      [
        ["text", "RichText"]
      ],
      "PageBlock"
    ],
    pageBlockSubheader: [
      4046173921,
      [
        ["text", "RichText"]
      ],
      "PageBlock"
    ],
    pageBlockParagraph: [
      1182402406,
      [
        ["text", "RichText"]
      ],
      "PageBlock"
    ],
    pageBlockPreformatted: [
      3228621118,
      [
        ["text", "RichText"],
        ["language", "string"]
      ],
      "PageBlock"
    ],
    pageBlockFooter: [
      1216809369,
      [
        ["text", "RichText"]
      ],
      "PageBlock"
    ],
    pageBlockDivider: [
      3676352904,
      [],
      "PageBlock"
    ],
    pageBlockAnchor: [
      3456972720,
      [
        ["name", "string"]
      ],
      "PageBlock"
    ],
    pageBlockList: [
      3840442385,
      [
        ["items", "Vector<PageListItem>"]
      ],
      "PageBlock"
    ],
    pageBlockBlockquote: [
      641563686,
      [
        ["text", "RichText"],
        ["caption", "RichText"]
      ],
      "PageBlock"
    ],
    pageBlockPullquote: [
      1329878739,
      [
        ["text", "RichText"],
        ["caption", "RichText"]
      ],
      "PageBlock"
    ],
    pageBlockPhoto: [
      391759200,
      [
        ["flags", "#"],
        ["photo_id", "long"],
        ["caption", "PageCaption"],
        ["url", "flags.0?string"],
        ["webpage_id", "flags.0?long"]
      ],
      "PageBlock"
    ],
    pageBlockVideo: [
      2089805750,
      [
        ["flags", "#"],
        ["autoplay", "flags.0?true"],
        ["loop", "flags.1?true"],
        ["video_id", "long"],
        ["caption", "PageCaption"]
      ],
      "PageBlock"
    ],
    pageBlockCover: [
      972174080,
      [
        ["cover", "PageBlock"]
      ],
      "PageBlock"
    ],
    pageBlockEmbed: [
      2826014149,
      [
        ["flags", "#"],
        ["full_width", "flags.0?true"],
        ["allow_scrolling", "flags.3?true"],
        ["url", "flags.1?string"],
        ["html", "flags.2?string"],
        ["poster_photo_id", "flags.4?long"],
        ["w", "flags.5?int"],
        ["h", "flags.5?int"],
        ["caption", "PageCaption"]
      ],
      "PageBlock"
    ],
    pageBlockEmbedPost: [
      4065961995,
      [
        ["url", "string"],
        ["webpage_id", "long"],
        ["author_photo_id", "long"],
        ["author", "string"],
        ["date", "int"],
        ["blocks", "Vector<PageBlock>"],
        ["caption", "PageCaption"]
      ],
      "PageBlock"
    ],
    pageBlockCollage: [
      1705048653,
      [
        ["items", "Vector<PageBlock>"],
        ["caption", "PageCaption"]
      ],
      "PageBlock"
    ],
    pageBlockSlideshow: [
      52401552,
      [
        ["items", "Vector<PageBlock>"],
        ["caption", "PageCaption"]
      ],
      "PageBlock"
    ],
    pageBlockChannel: [
      4011282869,
      [
        ["channel", "Chat"]
      ],
      "PageBlock"
    ],
    pageBlockAudio: [
      2151899626,
      [
        ["audio_id", "long"],
        ["caption", "PageCaption"]
      ],
      "PageBlock"
    ],
    pageBlockKicker: [
      504660880,
      [
        ["text", "RichText"]
      ],
      "PageBlock"
    ],
    pageBlockTable: [
      3209554562,
      [
        ["flags", "#"],
        ["bordered", "flags.0?true"],
        ["striped", "flags.1?true"],
        ["title", "RichText"],
        ["rows", "Vector<PageTableRow>"]
      ],
      "PageBlock"
    ],
    pageBlockOrderedList: [
      2592793057,
      [
        ["items", "Vector<PageListOrderedItem>"]
      ],
      "PageBlock"
    ],
    pageBlockDetails: [
      1987480557,
      [
        ["flags", "#"],
        ["open", "flags.0?true"],
        ["blocks", "Vector<PageBlock>"],
        ["title", "RichText"]
      ],
      "PageBlock"
    ],
    pageBlockRelatedArticles: [
      370236054,
      [
        ["title", "RichText"],
        ["articles", "Vector<PageRelatedArticle>"]
      ],
      "PageBlock"
    ],
    pageBlockMap: [
      2756656886,
      [
        ["geo", "GeoPoint"],
        ["zoom", "int"],
        ["w", "int"],
        ["h", "int"],
        ["caption", "PageCaption"]
      ],
      "PageBlock"
    ],
    phoneCallDiscardReasonMissed: [
      2246320897,
      [],
      "PhoneCallDiscardReason"
    ],
    phoneCallDiscardReasonDisconnect: [
      3767910816,
      [],
      "PhoneCallDiscardReason"
    ],
    phoneCallDiscardReasonHangup: [
      1471006352,
      [],
      "PhoneCallDiscardReason"
    ],
    phoneCallDiscardReasonBusy: [
      4210550985,
      [],
      "PhoneCallDiscardReason"
    ],
    phoneCallDiscardReasonMigrateConferenceCall: [
      2679894519,
      [
        ["slug", "string"]
      ],
      "PhoneCallDiscardReason"
    ],
    dataJSON: [
      2104790276,
      [
        ["data", "string"]
      ],
      "DataJSON"
    ],
    labeledPrice: [
      3408489464,
      [
        ["label", "string"],
        ["amount", "long"]
      ],
      "LabeledPrice"
    ],
    invoice: [
      77522308,
      [
        ["flags", "#"],
        ["test", "flags.0?true"],
        ["name_requested", "flags.1?true"],
        ["phone_requested", "flags.2?true"],
        ["email_requested", "flags.3?true"],
        ["shipping_address_requested", "flags.4?true"],
        ["flexible", "flags.5?true"],
        ["phone_to_provider", "flags.6?true"],
        ["email_to_provider", "flags.7?true"],
        ["recurring", "flags.9?true"],
        ["currency", "string"],
        ["prices", "Vector<LabeledPrice>"],
        ["max_tip_amount", "flags.8?long"],
        ["suggested_tip_amounts", "flags.8?Vector<long>"],
        ["terms_url", "flags.10?string"],
        ["subscription_period", "flags.11?int"]
      ],
      "Invoice"
    ],
    paymentCharge: [
      3926049406,
      [
        ["id", "string"],
        ["provider_charge_id", "string"]
      ],
      "PaymentCharge"
    ],
    postAddress: [
      512535275,
      [
        ["street_line1", "string"],
        ["street_line2", "string"],
        ["city", "string"],
        ["state", "string"],
        ["country_iso2", "string"],
        ["post_code", "string"]
      ],
      "PostAddress"
    ],
    paymentRequestedInfo: [
      2426158996,
      [
        ["flags", "#"],
        ["name", "flags.0?string"],
        ["phone", "flags.1?string"],
        ["email", "flags.2?string"],
        ["shipping_address", "flags.3?PostAddress"]
      ],
      "PaymentRequestedInfo"
    ],
    paymentSavedCredentialsCard: [
      3452074527,
      [
        ["id", "string"],
        ["title", "string"]
      ],
      "PaymentSavedCredentials"
    ],
    webDocument: [
      475467473,
      [
        ["url", "string"],
        ["access_hash", "long"],
        ["size", "int"],
        ["mime_type", "string"],
        ["attributes", "Vector<DocumentAttribute>"]
      ],
      "WebDocument"
    ],
    webDocumentNoProxy: [
      4190682310,
      [
        ["url", "string"],
        ["size", "int"],
        ["mime_type", "string"],
        ["attributes", "Vector<DocumentAttribute>"]
      ],
      "WebDocument"
    ],
    inputWebDocument: [
      2616017741,
      [
        ["url", "string"],
        ["size", "int"],
        ["mime_type", "string"],
        ["attributes", "Vector<DocumentAttribute>"]
      ],
      "InputWebDocument"
    ],
    inputWebFileLocation: [
      3258570374,
      [
        ["url", "string"],
        ["access_hash", "long"]
      ],
      "InputWebFileLocation"
    ],
    inputWebFileGeoPointLocation: [
      2669814217,
      [
        ["geo_point", "InputGeoPoint"],
        ["access_hash", "long"],
        ["w", "int"],
        ["h", "int"],
        ["zoom", "int"],
        ["scale", "int"]
      ],
      "InputWebFileLocation"
    ],
    inputWebFileAudioAlbumThumbLocation: [
      4100974884,
      [
        ["flags", "#"],
        ["small", "flags.2?true"],
        ["document", "flags.0?InputDocument"],
        ["title", "flags.1?string"],
        ["performer", "flags.1?string"]
      ],
      "InputWebFileLocation"
    ],
    "upload.webFile": [
      568808380,
      [
        ["size", "int"],
        ["mime_type", "string"],
        ["file_type", "storage.FileType"],
        ["mtime", "int"],
        ["bytes", "bytes"]
      ],
      "upload.WebFile"
    ],
    "payments.paymentForm": [
      2684716881,
      [
        ["flags", "#"],
        ["can_save_credentials", "flags.2?true"],
        ["password_missing", "flags.3?true"],
        ["form_id", "long"],
        ["bot_id", "long"],
        ["title", "string"],
        ["description", "string"],
        ["photo", "flags.5?WebDocument"],
        ["invoice", "Invoice"],
        ["provider_id", "long"],
        ["url", "string"],
        ["native_provider", "flags.4?string"],
        ["native_params", "flags.4?DataJSON"],
        ["additional_methods", "flags.6?Vector<PaymentFormMethod>"],
        ["saved_info", "flags.0?PaymentRequestedInfo"],
        ["saved_credentials", "flags.1?Vector<PaymentSavedCredentials>"],
        ["users", "Vector<User>"]
      ],
      "payments.PaymentForm"
    ],
    "payments.paymentFormStars": [
      2079764828,
      [
        ["flags", "#"],
        ["form_id", "long"],
        ["bot_id", "long"],
        ["title", "string"],
        ["description", "string"],
        ["photo", "flags.5?WebDocument"],
        ["invoice", "Invoice"],
        ["users", "Vector<User>"]
      ],
      "payments.PaymentForm"
    ],
    "payments.paymentFormStarGift": [
      3022376929,
      [
        ["form_id", "long"],
        ["invoice", "Invoice"]
      ],
      "payments.PaymentForm"
    ],
    "payments.validatedRequestedInfo": [
      3510966403,
      [
        ["flags", "#"],
        ["id", "flags.0?string"],
        ["shipping_options", "flags.1?Vector<ShippingOption>"]
      ],
      "payments.ValidatedRequestedInfo"
    ],
    "payments.paymentResult": [
      1314881805,
      [
        ["updates", "Updates"]
      ],
      "payments.PaymentResult"
    ],
    "payments.paymentVerificationNeeded": [
      3628142905,
      [
        ["url", "string"]
      ],
      "payments.PaymentResult"
    ],
    "payments.paymentReceipt": [
      1891958275,
      [
        ["flags", "#"],
        ["date", "int"],
        ["bot_id", "long"],
        ["provider_id", "long"],
        ["title", "string"],
        ["description", "string"],
        ["photo", "flags.2?WebDocument"],
        ["invoice", "Invoice"],
        ["info", "flags.0?PaymentRequestedInfo"],
        ["shipping", "flags.1?ShippingOption"],
        ["tip_amount", "flags.3?long"],
        ["currency", "string"],
        ["total_amount", "long"],
        ["credentials_title", "string"],
        ["users", "Vector<User>"]
      ],
      "payments.PaymentReceipt"
    ],
    "payments.paymentReceiptStars": [
      3669751866,
      [
        ["flags", "#"],
        ["date", "int"],
        ["bot_id", "long"],
        ["title", "string"],
        ["description", "string"],
        ["photo", "flags.2?WebDocument"],
        ["invoice", "Invoice"],
        ["currency", "string"],
        ["total_amount", "long"],
        ["transaction_id", "string"],
        ["users", "Vector<User>"]
      ],
      "payments.PaymentReceipt"
    ],
    "payments.savedInfo": [
      4220511292,
      [
        ["flags", "#"],
        ["has_saved_credentials", "flags.1?true"],
        ["saved_info", "flags.0?PaymentRequestedInfo"]
      ],
      "payments.SavedInfo"
    ],
    inputPaymentCredentialsSaved: [
      3238965967,
      [
        ["id", "string"],
        ["tmp_password", "bytes"]
      ],
      "InputPaymentCredentials"
    ],
    inputPaymentCredentials: [
      873977640,
      [
        ["flags", "#"],
        ["save", "flags.0?true"],
        ["data", "DataJSON"]
      ],
      "InputPaymentCredentials"
    ],
    inputPaymentCredentialsApplePay: [
      178373535,
      [
        ["payment_data", "DataJSON"]
      ],
      "InputPaymentCredentials"
    ],
    inputPaymentCredentialsGooglePay: [
      2328045569,
      [
        ["payment_token", "DataJSON"]
      ],
      "InputPaymentCredentials"
    ],
    "account.tmpPassword": [
      3680828724,
      [
        ["tmp_password", "bytes"],
        ["valid_until", "int"]
      ],
      "account.TmpPassword"
    ],
    shippingOption: [
      3055631583,
      [
        ["id", "string"],
        ["title", "string"],
        ["prices", "Vector<LabeledPrice>"]
      ],
      "ShippingOption"
    ],
    inputStickerSetItem: [
      853188252,
      [
        ["flags", "#"],
        ["document", "InputDocument"],
        ["emoji", "string"],
        ["mask_coords", "flags.0?MaskCoords"],
        ["keywords", "flags.1?string"]
      ],
      "InputStickerSetItem"
    ],
    inputPhoneCall: [
      506920429,
      [
        ["id", "long"],
        ["access_hash", "long"]
      ],
      "InputPhoneCall"
    ],
    phoneCallEmpty: [
      1399245077,
      [
        ["id", "long"]
      ],
      "PhoneCall"
    ],
    phoneCallWaiting: [
      3307368215,
      [
        ["flags", "#"],
        ["video", "flags.6?true"],
        ["id", "long"],
        ["access_hash", "long"],
        ["date", "int"],
        ["admin_id", "long"],
        ["participant_id", "long"],
        ["protocol", "PhoneCallProtocol"],
        ["receive_date", "flags.0?int"]
      ],
      "PhoneCall"
    ],
    phoneCallRequested: [
      347139340,
      [
        ["flags", "#"],
        ["video", "flags.6?true"],
        ["id", "long"],
        ["access_hash", "long"],
        ["date", "int"],
        ["admin_id", "long"],
        ["participant_id", "long"],
        ["g_a_hash", "bytes"],
        ["protocol", "PhoneCallProtocol"]
      ],
      "PhoneCall"
    ],
    phoneCallAccepted: [
      912311057,
      [
        ["flags", "#"],
        ["video", "flags.6?true"],
        ["id", "long"],
        ["access_hash", "long"],
        ["date", "int"],
        ["admin_id", "long"],
        ["participant_id", "long"],
        ["g_b", "bytes"],
        ["protocol", "PhoneCallProtocol"]
      ],
      "PhoneCall"
    ],
    phoneCall: [
      810769141,
      [
        ["flags", "#"],
        ["p2p_allowed", "flags.5?true"],
        ["video", "flags.6?true"],
        ["conference_supported", "flags.8?true"],
        ["id", "long"],
        ["access_hash", "long"],
        ["date", "int"],
        ["admin_id", "long"],
        ["participant_id", "long"],
        ["g_a_or_b", "bytes"],
        ["key_fingerprint", "long"],
        ["protocol", "PhoneCallProtocol"],
        ["connections", "Vector<PhoneConnection>"],
        ["start_date", "int"],
        ["custom_parameters", "flags.7?DataJSON"]
      ],
      "PhoneCall"
    ],
    phoneCallDiscarded: [
      1355435489,
      [
        ["flags", "#"],
        ["need_rating", "flags.2?true"],
        ["need_debug", "flags.3?true"],
        ["video", "flags.6?true"],
        ["id", "long"],
        ["reason", "flags.0?PhoneCallDiscardReason"],
        ["duration", "flags.1?int"]
      ],
      "PhoneCall"
    ],
    phoneConnection: [
      2629903303,
      [
        ["flags", "#"],
        ["tcp", "flags.0?true"],
        ["id", "long"],
        ["ip", "string"],
        ["ipv6", "string"],
        ["port", "int"],
        ["peer_tag", "bytes"]
      ],
      "PhoneConnection"
    ],
    phoneConnectionWebrtc: [
      1667228533,
      [
        ["flags", "#"],
        ["turn", "flags.0?true"],
        ["stun", "flags.1?true"],
        ["id", "long"],
        ["ip", "string"],
        ["ipv6", "string"],
        ["port", "int"],
        ["username", "string"],
        ["password", "string"]
      ],
      "PhoneConnection"
    ],
    phoneCallProtocol: [
      4236742600,
      [
        ["flags", "#"],
        ["udp_p2p", "flags.0?true"],
        ["udp_reflector", "flags.1?true"],
        ["min_layer", "int"],
        ["max_layer", "int"],
        ["library_versions", "Vector<string>"]
      ],
      "PhoneCallProtocol"
    ],
    "phone.phoneCall": [
      3968000320,
      [
        ["phone_call", "PhoneCall"],
        ["users", "Vector<User>"]
      ],
      "phone.PhoneCall"
    ],
    "upload.cdnFileReuploadNeeded": [
      4004045934,
      [
        ["request_token", "bytes"]
      ],
      "upload.CdnFile"
    ],
    "upload.cdnFile": [
      2845821519,
      [
        ["bytes", "bytes"]
      ],
      "upload.CdnFile"
    ],
    cdnPublicKey: [
      3380800186,
      [
        ["dc_id", "int"],
        ["public_key", "string"]
      ],
      "CdnPublicKey"
    ],
    cdnConfig: [
      1462101002,
      [
        ["public_keys", "Vector<CdnPublicKey>"]
      ],
      "CdnConfig"
    ],
    langPackString: [
      3402727926,
      [
        ["key", "string"],
        ["value", "string"]
      ],
      "LangPackString"
    ],
    langPackStringPluralized: [
      1816636575,
      [
        ["flags", "#"],
        ["key", "string"],
        ["zero_value", "flags.0?string"],
        ["one_value", "flags.1?string"],
        ["two_value", "flags.2?string"],
        ["few_value", "flags.3?string"],
        ["many_value", "flags.4?string"],
        ["other_value", "string"]
      ],
      "LangPackString"
    ],
    langPackStringDeleted: [
      695856818,
      [
        ["key", "string"]
      ],
      "LangPackString"
    ],
    langPackDifference: [
      4085629430,
      [
        ["lang_code", "string"],
        ["from_version", "int"],
        ["version", "int"],
        ["strings", "Vector<LangPackString>"]
      ],
      "LangPackDifference"
    ],
    langPackLanguage: [
      4006239459,
      [
        ["flags", "#"],
        ["official", "flags.0?true"],
        ["rtl", "flags.2?true"],
        ["beta", "flags.3?true"],
        ["name", "string"],
        ["native_name", "string"],
        ["lang_code", "string"],
        ["base_lang_code", "flags.1?string"],
        ["plural_code", "string"],
        ["strings_count", "int"],
        ["translated_count", "int"],
        ["translations_url", "string"]
      ],
      "LangPackLanguage"
    ],
    channelAdminLogEventActionChangeTitle: [
      3873421349,
      [
        ["prev_value", "string"],
        ["new_value", "string"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionChangeAbout: [
      1427671598,
      [
        ["prev_value", "string"],
        ["new_value", "string"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionChangeUsername: [
      1783299128,
      [
        ["prev_value", "string"],
        ["new_value", "string"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionChangePhoto: [
      1129042607,
      [
        ["prev_photo", "Photo"],
        ["new_photo", "Photo"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionToggleInvites: [
      460916654,
      [
        ["new_value", "Bool"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionToggleSignatures: [
      648939889,
      [
        ["new_value", "Bool"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionUpdatePinned: [
      3924306968,
      [
        ["message", "Message"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionEditMessage: [
      1889215493,
      [
        ["prev_message", "Message"],
        ["new_message", "Message"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionDeleteMessage: [
      1121994683,
      [
        ["message", "Message"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionParticipantJoin: [
      405815507,
      [],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionParticipantLeave: [
      4170676210,
      [],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionParticipantInvite: [
      3810276568,
      [
        ["participant", "ChannelParticipant"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionParticipantToggleBan: [
      3872931198,
      [
        ["prev_participant", "ChannelParticipant"],
        ["new_participant", "ChannelParticipant"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionParticipantToggleAdmin: [
      3580323600,
      [
        ["prev_participant", "ChannelParticipant"],
        ["new_participant", "ChannelParticipant"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionChangeStickerSet: [
      2982398631,
      [
        ["prev_stickerset", "InputStickerSet"],
        ["new_stickerset", "InputStickerSet"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionTogglePreHistoryHidden: [
      1599903217,
      [
        ["new_value", "Bool"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionDefaultBannedRights: [
      771095562,
      [
        ["prev_banned_rights", "ChatBannedRights"],
        ["new_banned_rights", "ChatBannedRights"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionStopPoll: [
      2399639107,
      [
        ["message", "Message"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionChangeLinkedChat: [
      84703944,
      [
        ["prev_value", "long"],
        ["new_value", "long"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionChangeLocation: [
      241923758,
      [
        ["prev_value", "ChannelLocation"],
        ["new_value", "ChannelLocation"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionToggleSlowMode: [
      1401984889,
      [
        ["prev_value", "int"],
        ["new_value", "int"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionStartGroupCall: [
      589338437,
      [
        ["call", "InputGroupCall"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionDiscardGroupCall: [
      3684667712,
      [
        ["call", "InputGroupCall"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionParticipantMute: [
      4179895506,
      [
        ["participant", "GroupCallParticipant"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionParticipantUnmute: [
      3863226816,
      [
        ["participant", "GroupCallParticipant"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionToggleGroupCallSetting: [
      1456906823,
      [
        ["join_muted", "Bool"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionParticipantJoinByInvite: [
      4271882584,
      [
        ["flags", "#"],
        ["via_chatlist", "flags.0?true"],
        ["invite", "ExportedChatInvite"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionExportedInviteDelete: [
      1515256996,
      [
        ["invite", "ExportedChatInvite"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionExportedInviteRevoke: [
      1091179342,
      [
        ["invite", "ExportedChatInvite"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionExportedInviteEdit: [
      3910056793,
      [
        ["prev_invite", "ExportedChatInvite"],
        ["new_invite", "ExportedChatInvite"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionParticipantVolume: [
      1048537159,
      [
        ["participant", "GroupCallParticipant"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionChangeHistoryTTL: [
      1855199800,
      [
        ["prev_value", "int"],
        ["new_value", "int"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionParticipantJoinByRequest: [
      2947945546,
      [
        ["invite", "ExportedChatInvite"],
        ["approved_by", "long"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionToggleNoForwards: [
      3408578406,
      [
        ["new_value", "Bool"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionSendMessage: [
      663693416,
      [
        ["message", "Message"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionChangeAvailableReactions: [
      3192786680,
      [
        ["prev_value", "ChatReactions"],
        ["new_value", "ChatReactions"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionChangeUsernames: [
      4031755177,
      [
        ["prev_value", "Vector<string>"],
        ["new_value", "Vector<string>"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionToggleForum: [
      46949251,
      [
        ["new_value", "Bool"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionCreateTopic: [
      1483767080,
      [
        ["topic", "ForumTopic"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionEditTopic: [
      4033864200,
      [
        ["prev_topic", "ForumTopic"],
        ["new_topic", "ForumTopic"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionDeleteTopic: [
      2920712457,
      [
        ["topic", "ForumTopic"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionPinTopic: [
      1569535291,
      [
        ["flags", "#"],
        ["prev_topic", "flags.0?ForumTopic"],
        ["new_topic", "flags.1?ForumTopic"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionToggleAntiSpam: [
      1693675004,
      [
        ["new_value", "Bool"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionChangePeerColor: [
      1469507456,
      [
        ["prev_value", "PeerColor"],
        ["new_value", "PeerColor"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionChangeProfilePeerColor: [
      1581742885,
      [
        ["prev_value", "PeerColor"],
        ["new_value", "PeerColor"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionChangeWallpaper: [
      834362706,
      [
        ["prev_value", "WallPaper"],
        ["new_value", "WallPaper"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionChangeEmojiStatus: [
      1051328177,
      [
        ["prev_value", "EmojiStatus"],
        ["new_value", "EmojiStatus"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionChangeEmojiStickerSet: [
      1188577451,
      [
        ["prev_stickerset", "InputStickerSet"],
        ["new_stickerset", "InputStickerSet"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionToggleSignatureProfiles: [
      1621597305,
      [
        ["new_value", "Bool"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionParticipantSubExtend: [
      1684286899,
      [
        ["prev_participant", "ChannelParticipant"],
        ["new_participant", "ChannelParticipant"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEventActionToggleAutotranslation: [
      3306682238,
      [
        ["new_value", "Bool"]
      ],
      "ChannelAdminLogEventAction"
    ],
    channelAdminLogEvent: [
      531458253,
      [
        ["id", "long"],
        ["date", "int"],
        ["user_id", "long"],
        ["action", "ChannelAdminLogEventAction"]
      ],
      "ChannelAdminLogEvent"
    ],
    "channels.adminLogResults": [
      3985307469,
      [
        ["events", "Vector<ChannelAdminLogEvent>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "channels.AdminLogResults"
    ],
    channelAdminLogEventsFilter: [
      3926948580,
      [
        ["flags", "#"],
        ["join", "flags.0?true"],
        ["leave", "flags.1?true"],
        ["invite", "flags.2?true"],
        ["ban", "flags.3?true"],
        ["unban", "flags.4?true"],
        ["kick", "flags.5?true"],
        ["unkick", "flags.6?true"],
        ["promote", "flags.7?true"],
        ["demote", "flags.8?true"],
        ["info", "flags.9?true"],
        ["settings", "flags.10?true"],
        ["pinned", "flags.11?true"],
        ["edit", "flags.12?true"],
        ["delete", "flags.13?true"],
        ["group_call", "flags.14?true"],
        ["invites", "flags.15?true"],
        ["send", "flags.16?true"],
        ["forums", "flags.17?true"],
        ["sub_extend", "flags.18?true"]
      ],
      "ChannelAdminLogEventsFilter"
    ],
    popularContact: [
      1558266229,
      [
        ["client_id", "long"],
        ["importers", "int"]
      ],
      "PopularContact"
    ],
    "messages.favedStickersNotModified": [
      2660214483,
      [],
      "messages.FavedStickers"
    ],
    "messages.favedStickers": [
      750063767,
      [
        ["hash", "long"],
        ["packs", "Vector<StickerPack>"],
        ["stickers", "Vector<Document>"]
      ],
      "messages.FavedStickers"
    ],
    recentMeUrlUnknown: [
      1189204285,
      [
        ["url", "string"]
      ],
      "RecentMeUrl"
    ],
    recentMeUrlUser: [
      3106671074,
      [
        ["url", "string"],
        ["user_id", "long"]
      ],
      "RecentMeUrl"
    ],
    recentMeUrlChat: [
      3000660434,
      [
        ["url", "string"],
        ["chat_id", "long"]
      ],
      "RecentMeUrl"
    ],
    recentMeUrlChatInvite: [
      3947431965,
      [
        ["url", "string"],
        ["chat_invite", "ChatInvite"]
      ],
      "RecentMeUrl"
    ],
    recentMeUrlStickerSet: [
      3154794460,
      [
        ["url", "string"],
        ["set", "StickerSetCovered"]
      ],
      "RecentMeUrl"
    ],
    "help.recentMeUrls": [
      235081943,
      [
        ["urls", "Vector<RecentMeUrl>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "help.RecentMeUrls"
    ],
    inputSingleMedia: [
      482797855,
      [
        ["flags", "#"],
        ["media", "InputMedia"],
        ["random_id", "long"],
        ["message", "string"],
        ["entities", "flags.0?Vector<MessageEntity>"]
      ],
      "InputSingleMedia"
    ],
    webAuthorization: [
      2801333330,
      [
        ["hash", "long"],
        ["bot_id", "long"],
        ["domain", "string"],
        ["browser", "string"],
        ["platform", "string"],
        ["date_created", "int"],
        ["date_active", "int"],
        ["ip", "string"],
        ["region", "string"]
      ],
      "WebAuthorization"
    ],
    "account.webAuthorizations": [
      3981887996,
      [
        ["authorizations", "Vector<WebAuthorization>"],
        ["users", "Vector<User>"]
      ],
      "account.WebAuthorizations"
    ],
    inputMessageID: [
      2792792866,
      [
        ["id", "int"]
      ],
      "InputMessage"
    ],
    inputMessageReplyTo: [
      3134751637,
      [
        ["id", "int"]
      ],
      "InputMessage"
    ],
    inputMessagePinned: [
      2257003832,
      [],
      "InputMessage"
    ],
    inputMessageCallbackQuery: [
      2902071934,
      [
        ["id", "int"],
        ["query_id", "long"]
      ],
      "InputMessage"
    ],
    inputDialogPeer: [
      4239064759,
      [
        ["peer", "InputPeer"]
      ],
      "InputDialogPeer"
    ],
    inputDialogPeerFolder: [
      1684014375,
      [
        ["folder_id", "int"]
      ],
      "InputDialogPeer"
    ],
    dialogPeer: [
      3849174789,
      [
        ["peer", "Peer"]
      ],
      "DialogPeer"
    ],
    dialogPeerFolder: [
      1363483106,
      [
        ["folder_id", "int"]
      ],
      "DialogPeer"
    ],
    "messages.foundStickerSetsNotModified": [
      223655517,
      [],
      "messages.FoundStickerSets"
    ],
    "messages.foundStickerSets": [
      2331024850,
      [
        ["hash", "long"],
        ["sets", "Vector<StickerSetCovered>"]
      ],
      "messages.FoundStickerSets"
    ],
    fileHash: [
      4087022428,
      [
        ["offset", "long"],
        ["limit", "int"],
        ["hash", "bytes"]
      ],
      "FileHash"
    ],
    inputClientProxy: [
      1968737087,
      [
        ["address", "string"],
        ["port", "int"]
      ],
      "InputClientProxy"
    ],
    "help.termsOfServiceUpdateEmpty": [
      3811614591,
      [
        ["expires", "int"]
      ],
      "help.TermsOfServiceUpdate"
    ],
    "help.termsOfServiceUpdate": [
      686618977,
      [
        ["expires", "int"],
        ["terms_of_service", "help.TermsOfService"]
      ],
      "help.TermsOfServiceUpdate"
    ],
    inputSecureFileUploaded: [
      859091184,
      [
        ["id", "long"],
        ["parts", "int"],
        ["md5_checksum", "string"],
        ["file_hash", "bytes"],
        ["secret", "bytes"]
      ],
      "InputSecureFile"
    ],
    inputSecureFile: [
      1399317950,
      [
        ["id", "long"],
        ["access_hash", "long"]
      ],
      "InputSecureFile"
    ],
    secureFileEmpty: [
      1679398724,
      [],
      "SecureFile"
    ],
    secureFile: [
      2097791614,
      [
        ["id", "long"],
        ["access_hash", "long"],
        ["size", "long"],
        ["dc_id", "int"],
        ["date", "int"],
        ["file_hash", "bytes"],
        ["secret", "bytes"]
      ],
      "SecureFile"
    ],
    secureData: [
      2330640067,
      [
        ["data", "bytes"],
        ["data_hash", "bytes"],
        ["secret", "bytes"]
      ],
      "SecureData"
    ],
    securePlainPhone: [
      2103482845,
      [
        ["phone", "string"]
      ],
      "SecurePlainData"
    ],
    securePlainEmail: [
      569137759,
      [
        ["email", "string"]
      ],
      "SecurePlainData"
    ],
    secureValueTypePersonalDetails: [
      2636808675,
      [],
      "SecureValueType"
    ],
    secureValueTypePassport: [
      1034709504,
      [],
      "SecureValueType"
    ],
    secureValueTypeDriverLicense: [
      115615172,
      [],
      "SecureValueType"
    ],
    secureValueTypeIdentityCard: [
      2698015819,
      [],
      "SecureValueType"
    ],
    secureValueTypeInternalPassport: [
      2577698595,
      [],
      "SecureValueType"
    ],
    secureValueTypeAddress: [
      3420659238,
      [],
      "SecureValueType"
    ],
    secureValueTypeUtilityBill: [
      4231435598,
      [],
      "SecureValueType"
    ],
    secureValueTypeBankStatement: [
      2299755533,
      [],
      "SecureValueType"
    ],
    secureValueTypeRentalAgreement: [
      2340959368,
      [],
      "SecureValueType"
    ],
    secureValueTypePassportRegistration: [
      2581823594,
      [],
      "SecureValueType"
    ],
    secureValueTypeTemporaryRegistration: [
      3926060083,
      [],
      "SecureValueType"
    ],
    secureValueTypePhone: [
      3005262555,
      [],
      "SecureValueType"
    ],
    secureValueTypeEmail: [
      2386339822,
      [],
      "SecureValueType"
    ],
    secureValue: [
      411017418,
      [
        ["flags", "#"],
        ["type", "SecureValueType"],
        ["data", "flags.0?SecureData"],
        ["front_side", "flags.1?SecureFile"],
        ["reverse_side", "flags.2?SecureFile"],
        ["selfie", "flags.3?SecureFile"],
        ["translation", "flags.6?Vector<SecureFile>"],
        ["files", "flags.4?Vector<SecureFile>"],
        ["plain_data", "flags.5?SecurePlainData"],
        ["hash", "bytes"]
      ],
      "SecureValue"
    ],
    inputSecureValue: [
      3676426407,
      [
        ["flags", "#"],
        ["type", "SecureValueType"],
        ["data", "flags.0?SecureData"],
        ["front_side", "flags.1?InputSecureFile"],
        ["reverse_side", "flags.2?InputSecureFile"],
        ["selfie", "flags.3?InputSecureFile"],
        ["translation", "flags.6?Vector<InputSecureFile>"],
        ["files", "flags.4?Vector<InputSecureFile>"],
        ["plain_data", "flags.5?SecurePlainData"]
      ],
      "InputSecureValue"
    ],
    secureValueHash: [
      3978218928,
      [
        ["type", "SecureValueType"],
        ["hash", "bytes"]
      ],
      "SecureValueHash"
    ],
    secureValueErrorData: [
      3903065049,
      [
        ["type", "SecureValueType"],
        ["data_hash", "bytes"],
        ["field", "string"],
        ["text", "string"]
      ],
      "SecureValueError"
    ],
    secureValueErrorFrontSide: [
      12467706,
      [
        ["type", "SecureValueType"],
        ["file_hash", "bytes"],
        ["text", "string"]
      ],
      "SecureValueError"
    ],
    secureValueErrorReverseSide: [
      2257201829,
      [
        ["type", "SecureValueType"],
        ["file_hash", "bytes"],
        ["text", "string"]
      ],
      "SecureValueError"
    ],
    secureValueErrorSelfie: [
      3845639894,
      [
        ["type", "SecureValueType"],
        ["file_hash", "bytes"],
        ["text", "string"]
      ],
      "SecureValueError"
    ],
    secureValueErrorFile: [
      2054162547,
      [
        ["type", "SecureValueType"],
        ["file_hash", "bytes"],
        ["text", "string"]
      ],
      "SecureValueError"
    ],
    secureValueErrorFiles: [
      1717706985,
      [
        ["type", "SecureValueType"],
        ["file_hash", "Vector<bytes>"],
        ["text", "string"]
      ],
      "SecureValueError"
    ],
    secureValueError: [
      2258466191,
      [
        ["type", "SecureValueType"],
        ["hash", "bytes"],
        ["text", "string"]
      ],
      "SecureValueError"
    ],
    secureValueErrorTranslationFile: [
      2702460784,
      [
        ["type", "SecureValueType"],
        ["file_hash", "bytes"],
        ["text", "string"]
      ],
      "SecureValueError"
    ],
    secureValueErrorTranslationFiles: [
      878931416,
      [
        ["type", "SecureValueType"],
        ["file_hash", "Vector<bytes>"],
        ["text", "string"]
      ],
      "SecureValueError"
    ],
    secureCredentialsEncrypted: [
      871426631,
      [
        ["data", "bytes"],
        ["hash", "bytes"],
        ["secret", "bytes"]
      ],
      "SecureCredentialsEncrypted"
    ],
    "account.authorizationForm": [
      2905480408,
      [
        ["flags", "#"],
        ["required_types", "Vector<SecureRequiredType>"],
        ["values", "Vector<SecureValue>"],
        ["errors", "Vector<SecureValueError>"],
        ["users", "Vector<User>"],
        ["privacy_policy_url", "flags.0?string"]
      ],
      "account.AuthorizationForm"
    ],
    "account.sentEmailCode": [
      2166326607,
      [
        ["email_pattern", "string"],
        ["length", "int"]
      ],
      "account.SentEmailCode"
    ],
    "help.deepLinkInfoEmpty": [
      1722786150,
      [],
      "help.DeepLinkInfo"
    ],
    "help.deepLinkInfo": [
      1783556146,
      [
        ["flags", "#"],
        ["update_app", "flags.0?true"],
        ["message", "string"],
        ["entities", "flags.1?Vector<MessageEntity>"]
      ],
      "help.DeepLinkInfo"
    ],
    savedPhoneContact: [
      289586518,
      [
        ["phone", "string"],
        ["first_name", "string"],
        ["last_name", "string"],
        ["date", "int"]
      ],
      "SavedContact"
    ],
    "account.takeout": [
      1304052993,
      [
        ["id", "long"]
      ],
      "account.Takeout"
    ],
    passwordKdfAlgoUnknown: [
      3562713238,
      [],
      "PasswordKdfAlgo"
    ],
    passwordKdfAlgoSHA256SHA256PBKDF2HMACSHA512iter100000SHA256ModPow: [
      982592842,
      [
        ["salt1", "bytes"],
        ["salt2", "bytes"],
        ["g", "int"],
        ["p", "bytes"]
      ],
      "PasswordKdfAlgo"
    ],
    securePasswordKdfAlgoUnknown: [
      4883767,
      [],
      "SecurePasswordKdfAlgo"
    ],
    securePasswordKdfAlgoPBKDF2HMACSHA512iter100000: [
      3153255840,
      [
        ["salt", "bytes"]
      ],
      "SecurePasswordKdfAlgo"
    ],
    securePasswordKdfAlgoSHA512: [
      2252807570,
      [
        ["salt", "bytes"]
      ],
      "SecurePasswordKdfAlgo"
    ],
    secureSecretSettings: [
      354925740,
      [
        ["secure_algo", "SecurePasswordKdfAlgo"],
        ["secure_secret", "bytes"],
        ["secure_secret_id", "long"]
      ],
      "SecureSecretSettings"
    ],
    inputCheckPasswordEmpty: [
      2558588504,
      [],
      "InputCheckPasswordSRP"
    ],
    inputCheckPasswordSRP: [
      3531600002,
      [
        ["srp_id", "long"],
        ["A", "bytes"],
        ["M1", "bytes"]
      ],
      "InputCheckPasswordSRP"
    ],
    secureRequiredType: [
      2191366618,
      [
        ["flags", "#"],
        ["native_names", "flags.0?true"],
        ["selfie_required", "flags.1?true"],
        ["translation_required", "flags.2?true"],
        ["type", "SecureValueType"]
      ],
      "SecureRequiredType"
    ],
    secureRequiredTypeOneOf: [
      41187252,
      [
        ["types", "Vector<SecureRequiredType>"]
      ],
      "SecureRequiredType"
    ],
    "help.passportConfigNotModified": [
      3216634967,
      [],
      "help.PassportConfig"
    ],
    "help.passportConfig": [
      2694370991,
      [
        ["hash", "int"],
        ["countries_langs", "DataJSON"]
      ],
      "help.PassportConfig"
    ],
    inputAppEvent: [
      488313413,
      [
        ["time", "double"],
        ["type", "string"],
        ["peer", "long"],
        ["data", "JSONValue"]
      ],
      "InputAppEvent"
    ],
    jsonObjectValue: [
      3235781593,
      [
        ["key", "string"],
        ["value", "JSONValue"]
      ],
      "JSONObjectValue"
    ],
    jsonNull: [
      1064139624,
      [],
      "JSONValue"
    ],
    jsonBool: [
      3342098026,
      [
        ["value", "Bool"]
      ],
      "JSONValue"
    ],
    jsonNumber: [
      736157604,
      [
        ["value", "double"]
      ],
      "JSONValue"
    ],
    jsonString: [
      3072226938,
      [
        ["value", "string"]
      ],
      "JSONValue"
    ],
    jsonArray: [
      4148447075,
      [
        ["value", "Vector<JSONValue>"]
      ],
      "JSONValue"
    ],
    jsonObject: [
      2579616925,
      [
        ["value", "Vector<JSONObjectValue>"]
      ],
      "JSONValue"
    ],
    pageTableCell: [
      878078826,
      [
        ["flags", "#"],
        ["header", "flags.0?true"],
        ["align_center", "flags.3?true"],
        ["align_right", "flags.4?true"],
        ["valign_middle", "flags.5?true"],
        ["valign_bottom", "flags.6?true"],
        ["text", "flags.7?RichText"],
        ["colspan", "flags.1?int"],
        ["rowspan", "flags.2?int"]
      ],
      "PageTableCell"
    ],
    pageTableRow: [
      3770729957,
      [
        ["cells", "Vector<PageTableCell>"]
      ],
      "PageTableRow"
    ],
    pageCaption: [
      1869903447,
      [
        ["text", "RichText"],
        ["credit", "RichText"]
      ],
      "PageCaption"
    ],
    pageListItemText: [
      3106911949,
      [
        ["text", "RichText"]
      ],
      "PageListItem"
    ],
    pageListItemBlocks: [
      635466748,
      [
        ["blocks", "Vector<PageBlock>"]
      ],
      "PageListItem"
    ],
    pageListOrderedItemText: [
      1577484359,
      [
        ["num", "string"],
        ["text", "RichText"]
      ],
      "PageListOrderedItem"
    ],
    pageListOrderedItemBlocks: [
      2564655414,
      [
        ["num", "string"],
        ["blocks", "Vector<PageBlock>"]
      ],
      "PageListOrderedItem"
    ],
    pageRelatedArticle: [
      3012615176,
      [
        ["flags", "#"],
        ["url", "string"],
        ["webpage_id", "long"],
        ["title", "flags.0?string"],
        ["description", "flags.1?string"],
        ["photo_id", "flags.2?long"],
        ["author", "flags.3?string"],
        ["published_date", "flags.4?int"]
      ],
      "PageRelatedArticle"
    ],
    page: [
      2556788493,
      [
        ["flags", "#"],
        ["part", "flags.0?true"],
        ["rtl", "flags.1?true"],
        ["v2", "flags.2?true"],
        ["url", "string"],
        ["blocks", "Vector<PageBlock>"],
        ["photos", "Vector<Photo>"],
        ["documents", "Vector<Document>"],
        ["views", "flags.3?int"]
      ],
      "Page"
    ],
    "help.supportName": [
      2349199817,
      [
        ["name", "string"]
      ],
      "help.SupportName"
    ],
    "help.userInfoEmpty": [
      4088278765,
      [],
      "help.UserInfo"
    ],
    "help.userInfo": [
      32192344,
      [
        ["message", "string"],
        ["entities", "Vector<MessageEntity>"],
        ["author", "string"],
        ["date", "int"]
      ],
      "help.UserInfo"
    ],
    pollAnswer: [
      4279689930,
      [
        ["text", "TextWithEntities"],
        ["option", "bytes"]
      ],
      "PollAnswer"
    ],
    poll: [
      1484026161,
      [
        ["id", "long"],
        ["flags", "#"],
        ["closed", "flags.0?true"],
        ["public_voters", "flags.1?true"],
        ["multiple_choice", "flags.2?true"],
        ["quiz", "flags.3?true"],
        ["question", "TextWithEntities"],
        ["answers", "Vector<PollAnswer>"],
        ["close_period", "flags.4?int"],
        ["close_date", "flags.5?int"]
      ],
      "Poll"
    ],
    pollAnswerVoters: [
      997055186,
      [
        ["flags", "#"],
        ["chosen", "flags.0?true"],
        ["correct", "flags.1?true"],
        ["option", "bytes"],
        ["voters", "int"]
      ],
      "PollAnswerVoters"
    ],
    pollResults: [
      2061444128,
      [
        ["flags", "#"],
        ["min", "flags.0?true"],
        ["results", "flags.1?Vector<PollAnswerVoters>"],
        ["total_voters", "flags.2?int"],
        ["recent_voters", "flags.3?Vector<Peer>"],
        ["solution", "flags.4?string"],
        ["solution_entities", "flags.4?Vector<MessageEntity>"]
      ],
      "PollResults"
    ],
    chatOnlines: [
      4030849616,
      [
        ["onlines", "int"]
      ],
      "ChatOnlines"
    ],
    statsURL: [
      1202287072,
      [
        ["url", "string"]
      ],
      "StatsURL"
    ],
    chatAdminRights: [
      1605510357,
      [
        ["flags", "#"],
        ["change_info", "flags.0?true"],
        ["post_messages", "flags.1?true"],
        ["edit_messages", "flags.2?true"],
        ["delete_messages", "flags.3?true"],
        ["ban_users", "flags.4?true"],
        ["invite_users", "flags.5?true"],
        ["pin_messages", "flags.7?true"],
        ["add_admins", "flags.9?true"],
        ["anonymous", "flags.10?true"],
        ["manage_call", "flags.11?true"],
        ["other", "flags.12?true"],
        ["manage_topics", "flags.13?true"],
        ["post_stories", "flags.14?true"],
        ["edit_stories", "flags.15?true"],
        ["delete_stories", "flags.16?true"],
        ["manage_direct_messages", "flags.17?true"]
      ],
      "ChatAdminRights"
    ],
    chatBannedRights: [
      2668758040,
      [
        ["flags", "#"],
        ["view_messages", "flags.0?true"],
        ["send_messages", "flags.1?true"],
        ["send_media", "flags.2?true"],
        ["send_stickers", "flags.3?true"],
        ["send_gifs", "flags.4?true"],
        ["send_games", "flags.5?true"],
        ["send_inline", "flags.6?true"],
        ["embed_links", "flags.7?true"],
        ["send_polls", "flags.8?true"],
        ["change_info", "flags.10?true"],
        ["invite_users", "flags.15?true"],
        ["pin_messages", "flags.17?true"],
        ["manage_topics", "flags.18?true"],
        ["send_photos", "flags.19?true"],
        ["send_videos", "flags.20?true"],
        ["send_roundvideos", "flags.21?true"],
        ["send_audios", "flags.22?true"],
        ["send_voices", "flags.23?true"],
        ["send_docs", "flags.24?true"],
        ["send_plain", "flags.25?true"],
        ["until_date", "int"]
      ],
      "ChatBannedRights"
    ],
    inputWallPaper: [
      3861952889,
      [
        ["id", "long"],
        ["access_hash", "long"]
      ],
      "InputWallPaper"
    ],
    inputWallPaperSlug: [
      1913199744,
      [
        ["slug", "string"]
      ],
      "InputWallPaper"
    ],
    inputWallPaperNoFile: [
      2524595758,
      [
        ["id", "long"]
      ],
      "InputWallPaper"
    ],
    "account.wallPapersNotModified": [
      471437699,
      [],
      "account.WallPapers"
    ],
    "account.wallPapers": [
      3452142988,
      [
        ["hash", "long"],
        ["wallpapers", "Vector<WallPaper>"]
      ],
      "account.WallPapers"
    ],
    codeSettings: [
      2904898936,
      [
        ["flags", "#"],
        ["allow_flashcall", "flags.0?true"],
        ["current_number", "flags.1?true"],
        ["allow_app_hash", "flags.4?true"],
        ["allow_missed_call", "flags.5?true"],
        ["allow_firebase", "flags.7?true"],
        ["unknown_number", "flags.9?true"],
        ["logout_tokens", "flags.6?Vector<bytes>"],
        ["token", "flags.8?string"],
        ["app_sandbox", "flags.8?Bool"]
      ],
      "CodeSettings"
    ],
    wallPaperSettings: [
      925826256,
      [
        ["flags", "#"],
        ["blur", "flags.1?true"],
        ["motion", "flags.2?true"],
        ["background_color", "flags.0?int"],
        ["second_background_color", "flags.4?int"],
        ["third_background_color", "flags.5?int"],
        ["fourth_background_color", "flags.6?int"],
        ["intensity", "flags.3?int"],
        ["rotation", "flags.4?int"],
        ["emoticon", "flags.7?string"]
      ],
      "WallPaperSettings"
    ],
    autoDownloadSettings: [
      3131405864,
      [
        ["flags", "#"],
        ["disabled", "flags.0?true"],
        ["video_preload_large", "flags.1?true"],
        ["audio_preload_next", "flags.2?true"],
        ["phonecalls_less_data", "flags.3?true"],
        ["stories_preload", "flags.4?true"],
        ["photo_size_max", "int"],
        ["video_size_max", "long"],
        ["file_size_max", "long"],
        ["video_upload_maxbitrate", "int"],
        ["small_queue_active_operations_max", "int"],
        ["large_queue_active_operations_max", "int"]
      ],
      "AutoDownloadSettings"
    ],
    "account.autoDownloadSettings": [
      1674235686,
      [
        ["low", "AutoDownloadSettings"],
        ["medium", "AutoDownloadSettings"],
        ["high", "AutoDownloadSettings"]
      ],
      "account.AutoDownloadSettings"
    ],
    emojiKeyword: [
      3585325561,
      [
        ["keyword", "string"],
        ["emoticons", "Vector<string>"]
      ],
      "EmojiKeyword"
    ],
    emojiKeywordDeleted: [
      594408994,
      [
        ["keyword", "string"],
        ["emoticons", "Vector<string>"]
      ],
      "EmojiKeyword"
    ],
    emojiKeywordsDifference: [
      1556570557,
      [
        ["lang_code", "string"],
        ["from_version", "int"],
        ["version", "int"],
        ["keywords", "Vector<EmojiKeyword>"]
      ],
      "EmojiKeywordsDifference"
    ],
    emojiURL: [
      2775937949,
      [
        ["url", "string"]
      ],
      "EmojiURL"
    ],
    emojiLanguage: [
      3019592545,
      [
        ["lang_code", "string"]
      ],
      "EmojiLanguage"
    ],
    folder: [
      4283715173,
      [
        ["flags", "#"],
        ["autofill_new_broadcasts", "flags.0?true"],
        ["autofill_public_groups", "flags.1?true"],
        ["autofill_new_correspondents", "flags.2?true"],
        ["id", "int"],
        ["title", "string"],
        ["photo", "flags.3?ChatPhoto"]
      ],
      "Folder"
    ],
    inputFolderPeer: [
      4224893590,
      [
        ["peer", "InputPeer"],
        ["folder_id", "int"]
      ],
      "InputFolderPeer"
    ],
    folderPeer: [
      3921323624,
      [
        ["peer", "Peer"],
        ["folder_id", "int"]
      ],
      "FolderPeer"
    ],
    "messages.searchCounter": [
      3896830975,
      [
        ["flags", "#"],
        ["inexact", "flags.1?true"],
        ["filter", "MessagesFilter"],
        ["count", "int"]
      ],
      "messages.SearchCounter"
    ],
    urlAuthResultRequest: [
      2463316494,
      [
        ["flags", "#"],
        ["request_write_access", "flags.0?true"],
        ["bot", "User"],
        ["domain", "string"]
      ],
      "UrlAuthResult"
    ],
    urlAuthResultAccepted: [
      2408320590,
      [
        ["url", "string"]
      ],
      "UrlAuthResult"
    ],
    urlAuthResultDefault: [
      2849430303,
      [],
      "UrlAuthResult"
    ],
    channelLocationEmpty: [
      3216354699,
      [],
      "ChannelLocation"
    ],
    channelLocation: [
      547062491,
      [
        ["geo_point", "GeoPoint"],
        ["address", "string"]
      ],
      "ChannelLocation"
    ],
    peerLocated: [
      3393592157,
      [
        ["peer", "Peer"],
        ["expires", "int"],
        ["distance", "int"]
      ],
      "PeerLocated"
    ],
    peerSelfLocated: [
      4176226379,
      [
        ["expires", "int"]
      ],
      "PeerLocated"
    ],
    restrictionReason: [
      3497176244,
      [
        ["platform", "string"],
        ["reason", "string"],
        ["text", "string"]
      ],
      "RestrictionReason"
    ],
    inputTheme: [
      1012306921,
      [
        ["id", "long"],
        ["access_hash", "long"]
      ],
      "InputTheme"
    ],
    inputThemeSlug: [
      4119399921,
      [
        ["slug", "string"]
      ],
      "InputTheme"
    ],
    theme: [
      2685298646,
      [
        ["flags", "#"],
        ["creator", "flags.0?true"],
        ["default", "flags.1?true"],
        ["for_chat", "flags.5?true"],
        ["id", "long"],
        ["access_hash", "long"],
        ["slug", "string"],
        ["title", "string"],
        ["document", "flags.2?Document"],
        ["settings", "flags.3?Vector<ThemeSettings>"],
        ["emoticon", "flags.6?string"],
        ["installs_count", "flags.4?int"]
      ],
      "Theme"
    ],
    "account.themesNotModified": [
      4095653410,
      [],
      "account.Themes"
    ],
    "account.themes": [
      2587724909,
      [
        ["hash", "long"],
        ["themes", "Vector<Theme>"]
      ],
      "account.Themes"
    ],
    "auth.loginToken": [
      1654593920,
      [
        ["expires", "int"],
        ["token", "bytes"]
      ],
      "auth.LoginToken"
    ],
    "auth.loginTokenMigrateTo": [
      110008598,
      [
        ["dc_id", "int"],
        ["token", "bytes"]
      ],
      "auth.LoginToken"
    ],
    "auth.loginTokenSuccess": [
      957176926,
      [
        ["authorization", "auth.Authorization"]
      ],
      "auth.LoginToken"
    ],
    "account.contentSettings": [
      1474462241,
      [
        ["flags", "#"],
        ["sensitive_enabled", "flags.0?true"],
        ["sensitive_can_change", "flags.1?true"]
      ],
      "account.ContentSettings"
    ],
    "messages.inactiveChats": [
      2837970629,
      [
        ["dates", "Vector<int>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.InactiveChats"
    ],
    baseThemeClassic: [
      3282117730,
      [],
      "BaseTheme"
    ],
    baseThemeDay: [
      4225242760,
      [],
      "BaseTheme"
    ],
    baseThemeNight: [
      3081969320,
      [],
      "BaseTheme"
    ],
    baseThemeTinted: [
      1834973166,
      [],
      "BaseTheme"
    ],
    baseThemeArctic: [
      1527845466,
      [],
      "BaseTheme"
    ],
    inputThemeSettings: [
      2413711439,
      [
        ["flags", "#"],
        ["message_colors_animated", "flags.2?true"],
        ["base_theme", "BaseTheme"],
        ["accent_color", "int"],
        ["outbox_accent_color", "flags.3?int"],
        ["message_colors", "flags.0?Vector<int>"],
        ["wallpaper", "flags.1?InputWallPaper"],
        ["wallpaper_settings", "flags.1?WallPaperSettings"]
      ],
      "InputThemeSettings"
    ],
    themeSettings: [
      4200117972,
      [
        ["flags", "#"],
        ["message_colors_animated", "flags.2?true"],
        ["base_theme", "BaseTheme"],
        ["accent_color", "int"],
        ["outbox_accent_color", "flags.3?int"],
        ["message_colors", "flags.0?Vector<int>"],
        ["wallpaper", "flags.1?WallPaper"]
      ],
      "ThemeSettings"
    ],
    webPageAttributeTheme: [
      1421174295,
      [
        ["flags", "#"],
        ["documents", "flags.0?Vector<Document>"],
        ["settings", "flags.1?ThemeSettings"]
      ],
      "WebPageAttribute"
    ],
    webPageAttributeStory: [
      781501415,
      [
        ["flags", "#"],
        ["peer", "Peer"],
        ["id", "int"],
        ["story", "flags.0?StoryItem"]
      ],
      "WebPageAttribute"
    ],
    webPageAttributeStickerSet: [
      1355547603,
      [
        ["flags", "#"],
        ["emojis", "flags.0?true"],
        ["text_color", "flags.1?true"],
        ["stickers", "Vector<Document>"]
      ],
      "WebPageAttribute"
    ],
    webPageAttributeUniqueStarGift: [
      3480186296,
      [
        ["gift", "StarGift"]
      ],
      "WebPageAttribute"
    ],
    webPageAttributeStarGiftCollection: [
      835375875,
      [
        ["icons", "Vector<Document>"]
      ],
      "WebPageAttribute"
    ],
    webPageAttributeStarGiftAuction: [
      29770178,
      [
        ["gift", "StarGift"],
        ["end_date", "int"]
      ],
      "WebPageAttribute"
    ],
    "messages.votesList": [
      1218005070,
      [
        ["flags", "#"],
        ["count", "int"],
        ["votes", "Vector<MessagePeerVote>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"],
        ["next_offset", "flags.0?string"]
      ],
      "messages.VotesList"
    ],
    bankCardOpenUrl: [
      4117234314,
      [
        ["url", "string"],
        ["name", "string"]
      ],
      "BankCardOpenUrl"
    ],
    "payments.bankCardData": [
      1042605427,
      [
        ["title", "string"],
        ["open_urls", "Vector<BankCardOpenUrl>"]
      ],
      "payments.BankCardData"
    ],
    dialogFilter: [
      2856789585,
      [
        ["flags", "#"],
        ["contacts", "flags.0?true"],
        ["non_contacts", "flags.1?true"],
        ["groups", "flags.2?true"],
        ["broadcasts", "flags.3?true"],
        ["bots", "flags.4?true"],
        ["exclude_muted", "flags.11?true"],
        ["exclude_read", "flags.12?true"],
        ["exclude_archived", "flags.13?true"],
        ["title_noanimate", "flags.28?true"],
        ["id", "int"],
        ["title", "TextWithEntities"],
        ["emoticon", "flags.25?string"],
        ["color", "flags.27?int"],
        ["pinned_peers", "Vector<InputPeer>"],
        ["include_peers", "Vector<InputPeer>"],
        ["exclude_peers", "Vector<InputPeer>"]
      ],
      "DialogFilter"
    ],
    dialogFilterDefault: [
      909284270,
      [],
      "DialogFilter"
    ],
    dialogFilterChatlist: [
      2522053591,
      [
        ["flags", "#"],
        ["has_my_invites", "flags.26?true"],
        ["title_noanimate", "flags.28?true"],
        ["id", "int"],
        ["title", "TextWithEntities"],
        ["emoticon", "flags.25?string"],
        ["color", "flags.27?int"],
        ["pinned_peers", "Vector<InputPeer>"],
        ["include_peers", "Vector<InputPeer>"]
      ],
      "DialogFilter"
    ],
    dialogFilterSuggested: [
      2004110666,
      [
        ["filter", "DialogFilter"],
        ["description", "string"]
      ],
      "DialogFilterSuggested"
    ],
    statsDateRangeDays: [
      3057118639,
      [
        ["min_date", "int"],
        ["max_date", "int"]
      ],
      "StatsDateRangeDays"
    ],
    statsAbsValueAndPrev: [
      3410210014,
      [
        ["current", "double"],
        ["previous", "double"]
      ],
      "StatsAbsValueAndPrev"
    ],
    statsPercentValue: [
      3419287520,
      [
        ["part", "double"],
        ["total", "double"]
      ],
      "StatsPercentValue"
    ],
    statsGraphAsync: [
      1244130093,
      [
        ["token", "string"]
      ],
      "StatsGraph"
    ],
    statsGraphError: [
      3202127906,
      [
        ["error", "string"]
      ],
      "StatsGraph"
    ],
    statsGraph: [
      2393138358,
      [
        ["flags", "#"],
        ["json", "DataJSON"],
        ["zoom_token", "flags.0?string"]
      ],
      "StatsGraph"
    ],
    "stats.broadcastStats": [
      963421692,
      [
        ["period", "StatsDateRangeDays"],
        ["followers", "StatsAbsValueAndPrev"],
        ["views_per_post", "StatsAbsValueAndPrev"],
        ["shares_per_post", "StatsAbsValueAndPrev"],
        ["reactions_per_post", "StatsAbsValueAndPrev"],
        ["views_per_story", "StatsAbsValueAndPrev"],
        ["shares_per_story", "StatsAbsValueAndPrev"],
        ["reactions_per_story", "StatsAbsValueAndPrev"],
        ["enabled_notifications", "StatsPercentValue"],
        ["growth_graph", "StatsGraph"],
        ["followers_graph", "StatsGraph"],
        ["mute_graph", "StatsGraph"],
        ["top_hours_graph", "StatsGraph"],
        ["interactions_graph", "StatsGraph"],
        ["iv_interactions_graph", "StatsGraph"],
        ["views_by_source_graph", "StatsGraph"],
        ["new_followers_by_source_graph", "StatsGraph"],
        ["languages_graph", "StatsGraph"],
        ["reactions_by_emotion_graph", "StatsGraph"],
        ["story_interactions_graph", "StatsGraph"],
        ["story_reactions_by_emotion_graph", "StatsGraph"],
        ["recent_posts_interactions", "Vector<PostInteractionCounters>"]
      ],
      "stats.BroadcastStats"
    ],
    "help.promoDataEmpty": [
      2566302837,
      [
        ["expires", "int"]
      ],
      "help.PromoData"
    ],
    "help.promoData": [
      145021050,
      [
        ["flags", "#"],
        ["proxy", "flags.0?true"],
        ["expires", "int"],
        ["peer", "flags.3?Peer"],
        ["psa_type", "flags.1?string"],
        ["psa_message", "flags.2?string"],
        ["pending_suggestions", "Vector<string>"],
        ["dismissed_suggestions", "Vector<string>"],
        ["custom_pending_suggestion", "flags.4?PendingSuggestion"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "help.PromoData"
    ],
    videoSize: [
      3727929492,
      [
        ["flags", "#"],
        ["type", "string"],
        ["w", "int"],
        ["h", "int"],
        ["size", "int"],
        ["video_start_ts", "flags.0?double"]
      ],
      "VideoSize"
    ],
    videoSizeEmojiMarkup: [
      4166795580,
      [
        ["emoji_id", "long"],
        ["background_colors", "Vector<int>"]
      ],
      "VideoSize"
    ],
    videoSizeStickerMarkup: [
      228623102,
      [
        ["stickerset", "InputStickerSet"],
        ["sticker_id", "long"],
        ["background_colors", "Vector<int>"]
      ],
      "VideoSize"
    ],
    statsGroupTopPoster: [
      2634330011,
      [
        ["user_id", "long"],
        ["messages", "int"],
        ["avg_chars", "int"]
      ],
      "StatsGroupTopPoster"
    ],
    statsGroupTopAdmin: [
      3612888199,
      [
        ["user_id", "long"],
        ["deleted", "int"],
        ["kicked", "int"],
        ["banned", "int"]
      ],
      "StatsGroupTopAdmin"
    ],
    statsGroupTopInviter: [
      1398765469,
      [
        ["user_id", "long"],
        ["invitations", "int"]
      ],
      "StatsGroupTopInviter"
    ],
    "stats.megagroupStats": [
      4018141462,
      [
        ["period", "StatsDateRangeDays"],
        ["members", "StatsAbsValueAndPrev"],
        ["messages", "StatsAbsValueAndPrev"],
        ["viewers", "StatsAbsValueAndPrev"],
        ["posters", "StatsAbsValueAndPrev"],
        ["growth_graph", "StatsGraph"],
        ["members_graph", "StatsGraph"],
        ["new_members_by_source_graph", "StatsGraph"],
        ["languages_graph", "StatsGraph"],
        ["messages_graph", "StatsGraph"],
        ["actions_graph", "StatsGraph"],
        ["top_hours_graph", "StatsGraph"],
        ["weekdays_graph", "StatsGraph"],
        ["top_posters", "Vector<StatsGroupTopPoster>"],
        ["top_admins", "Vector<StatsGroupTopAdmin>"],
        ["top_inviters", "Vector<StatsGroupTopInviter>"],
        ["users", "Vector<User>"]
      ],
      "stats.MegagroupStats"
    ],
    globalPrivacySettings: [
      4265718607,
      [
        ["flags", "#"],
        ["archive_and_mute_new_noncontact_peers", "flags.0?true"],
        ["keep_archived_unmuted", "flags.1?true"],
        ["keep_archived_folders", "flags.2?true"],
        ["hide_read_marks", "flags.3?true"],
        ["new_noncontact_peers_require_premium", "flags.4?true"],
        ["display_gifts_button", "flags.7?true"],
        ["noncontact_peers_paid_stars", "flags.5?long"],
        ["disallowed_gifts", "flags.6?DisallowedGiftsSettings"]
      ],
      "GlobalPrivacySettings"
    ],
    "help.countryCode": [
      1107543535,
      [
        ["flags", "#"],
        ["country_code", "string"],
        ["prefixes", "flags.0?Vector<string>"],
        ["patterns", "flags.1?Vector<string>"]
      ],
      "help.CountryCode"
    ],
    "help.country": [
      3280440867,
      [
        ["flags", "#"],
        ["hidden", "flags.0?true"],
        ["iso2", "string"],
        ["default_name", "string"],
        ["name", "flags.1?string"],
        ["country_codes", "Vector<help.CountryCode>"]
      ],
      "help.Country"
    ],
    "help.countriesListNotModified": [
      2479628082,
      [],
      "help.CountriesList"
    ],
    "help.countriesList": [
      2278585758,
      [
        ["countries", "Vector<help.Country>"],
        ["hash", "int"]
      ],
      "help.CountriesList"
    ],
    messageViews: [
      1163625789,
      [
        ["flags", "#"],
        ["views", "flags.0?int"],
        ["forwards", "flags.1?int"],
        ["replies", "flags.2?MessageReplies"]
      ],
      "MessageViews"
    ],
    "messages.messageViews": [
      3066361155,
      [
        ["views", "Vector<MessageViews>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.MessageViews"
    ],
    "messages.discussionMessage": [
      2788431746,
      [
        ["flags", "#"],
        ["messages", "Vector<Message>"],
        ["max_id", "flags.0?int"],
        ["read_inbox_max_id", "flags.1?int"],
        ["read_outbox_max_id", "flags.2?int"],
        ["unread_count", "int"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.DiscussionMessage"
    ],
    messageReplyHeader: [
      1763137035,
      [
        ["flags", "#"],
        ["reply_to_scheduled", "flags.2?true"],
        ["forum_topic", "flags.3?true"],
        ["quote", "flags.9?true"],
        ["reply_to_msg_id", "flags.4?int"],
        ["reply_to_peer_id", "flags.0?Peer"],
        ["reply_from", "flags.5?MessageFwdHeader"],
        ["reply_media", "flags.8?MessageMedia"],
        ["reply_to_top_id", "flags.1?int"],
        ["quote_text", "flags.6?string"],
        ["quote_entities", "flags.7?Vector<MessageEntity>"],
        ["quote_offset", "flags.10?int"],
        ["todo_item_id", "flags.11?int"]
      ],
      "MessageReplyHeader"
    ],
    messageReplyStoryHeader: [
      240843065,
      [
        ["peer", "Peer"],
        ["story_id", "int"]
      ],
      "MessageReplyHeader"
    ],
    messageReplies: [
      2211844034,
      [
        ["flags", "#"],
        ["comments", "flags.0?true"],
        ["replies", "int"],
        ["replies_pts", "int"],
        ["recent_repliers", "flags.1?Vector<Peer>"],
        ["channel_id", "flags.0?long"],
        ["max_id", "flags.2?int"],
        ["read_max_id", "flags.3?int"]
      ],
      "MessageReplies"
    ],
    peerBlocked: [
      3908927508,
      [
        ["peer_id", "Peer"],
        ["date", "int"]
      ],
      "PeerBlocked"
    ],
    "stats.messageStats": [
      2145983508,
      [
        ["views_graph", "StatsGraph"],
        ["reactions_by_emotion_graph", "StatsGraph"]
      ],
      "stats.MessageStats"
    ],
    groupCallDiscarded: [
      2004925620,
      [
        ["id", "long"],
        ["access_hash", "long"],
        ["duration", "int"]
      ],
      "GroupCall"
    ],
    groupCall: [
      4021466647,
      [
        ["flags", "#"],
        ["join_muted", "flags.1?true"],
        ["can_change_join_muted", "flags.2?true"],
        ["join_date_asc", "flags.6?true"],
        ["schedule_start_subscribed", "flags.8?true"],
        ["can_start_video", "flags.9?true"],
        ["record_video_active", "flags.11?true"],
        ["rtmp_stream", "flags.12?true"],
        ["listeners_hidden", "flags.13?true"],
        ["conference", "flags.14?true"],
        ["creator", "flags.15?true"],
        ["messages_enabled", "flags.17?true"],
        ["can_change_messages_enabled", "flags.18?true"],
        ["min", "flags.19?true"],
        ["id", "long"],
        ["access_hash", "long"],
        ["participants_count", "int"],
        ["title", "flags.3?string"],
        ["stream_dc_id", "flags.4?int"],
        ["record_start_date", "flags.5?int"],
        ["schedule_date", "flags.7?int"],
        ["unmuted_video_count", "flags.10?int"],
        ["unmuted_video_limit", "int"],
        ["version", "int"],
        ["invite_link", "flags.16?string"],
        ["send_paid_messages_stars", "flags.20?long"],
        ["default_send_as", "flags.21?Peer"]
      ],
      "GroupCall"
    ],
    inputGroupCall: [
      3635053583,
      [
        ["id", "long"],
        ["access_hash", "long"]
      ],
      "InputGroupCall"
    ],
    inputGroupCallSlug: [
      4261839423,
      [
        ["slug", "string"]
      ],
      "InputGroupCall"
    ],
    inputGroupCallInviteMessage: [
      2349883455,
      [
        ["msg_id", "int"]
      ],
      "InputGroupCall"
    ],
    groupCallParticipant: [
      708691884,
      [
        ["flags", "#"],
        ["muted", "flags.0?true"],
        ["left", "flags.1?true"],
        ["can_self_unmute", "flags.2?true"],
        ["just_joined", "flags.4?true"],
        ["versioned", "flags.5?true"],
        ["min", "flags.8?true"],
        ["muted_by_you", "flags.9?true"],
        ["volume_by_admin", "flags.10?true"],
        ["self", "flags.12?true"],
        ["video_joined", "flags.15?true"],
        ["peer", "Peer"],
        ["date", "int"],
        ["active_date", "flags.3?int"],
        ["source", "int"],
        ["volume", "flags.7?int"],
        ["about", "flags.11?string"],
        ["raise_hand_rating", "flags.13?long"],
        ["video", "flags.6?GroupCallParticipantVideo"],
        ["presentation", "flags.14?GroupCallParticipantVideo"],
        ["paid_stars_total", "flags.16?long"]
      ],
      "GroupCallParticipant"
    ],
    "phone.groupCall": [
      2658302637,
      [
        ["call", "GroupCall"],
        ["participants", "Vector<GroupCallParticipant>"],
        ["participants_next_offset", "string"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "phone.GroupCall"
    ],
    "phone.groupParticipants": [
      4101460406,
      [
        ["count", "int"],
        ["participants", "Vector<GroupCallParticipant>"],
        ["next_offset", "string"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"],
        ["version", "int"]
      ],
      "phone.GroupParticipants"
    ],
    inlineQueryPeerTypeSameBotPM: [
      813821341,
      [],
      "InlineQueryPeerType"
    ],
    inlineQueryPeerTypePM: [
      2201751468,
      [],
      "InlineQueryPeerType"
    ],
    inlineQueryPeerTypeChat: [
      3613836554,
      [],
      "InlineQueryPeerType"
    ],
    inlineQueryPeerTypeMegagroup: [
      1589952067,
      [],
      "InlineQueryPeerType"
    ],
    inlineQueryPeerTypeBroadcast: [
      1664413338,
      [],
      "InlineQueryPeerType"
    ],
    inlineQueryPeerTypeBotPM: [
      238759180,
      [],
      "InlineQueryPeerType"
    ],
    "messages.historyImport": [
      375566091,
      [
        ["id", "long"]
      ],
      "messages.HistoryImport"
    ],
    "messages.historyImportParsed": [
      1578088377,
      [
        ["flags", "#"],
        ["pm", "flags.0?true"],
        ["group", "flags.1?true"],
        ["title", "flags.2?string"]
      ],
      "messages.HistoryImportParsed"
    ],
    "messages.affectedFoundMessages": [
      4019011180,
      [
        ["pts", "int"],
        ["pts_count", "int"],
        ["offset", "int"],
        ["messages", "Vector<int>"]
      ],
      "messages.AffectedFoundMessages"
    ],
    chatInviteImporter: [
      2354765785,
      [
        ["flags", "#"],
        ["requested", "flags.0?true"],
        ["via_chatlist", "flags.3?true"],
        ["user_id", "long"],
        ["date", "int"],
        ["about", "flags.2?string"],
        ["approved_by", "flags.1?long"]
      ],
      "ChatInviteImporter"
    ],
    "messages.exportedChatInvites": [
      3183881676,
      [
        ["count", "int"],
        ["invites", "Vector<ExportedChatInvite>"],
        ["users", "Vector<User>"]
      ],
      "messages.ExportedChatInvites"
    ],
    "messages.exportedChatInvite": [
      410107472,
      [
        ["invite", "ExportedChatInvite"],
        ["users", "Vector<User>"]
      ],
      "messages.ExportedChatInvite"
    ],
    "messages.exportedChatInviteReplaced": [
      572915951,
      [
        ["invite", "ExportedChatInvite"],
        ["new_invite", "ExportedChatInvite"],
        ["users", "Vector<User>"]
      ],
      "messages.ExportedChatInvite"
    ],
    "messages.chatInviteImporters": [
      2176233482,
      [
        ["count", "int"],
        ["importers", "Vector<ChatInviteImporter>"],
        ["users", "Vector<User>"]
      ],
      "messages.ChatInviteImporters"
    ],
    chatAdminWithInvites: [
      4075613987,
      [
        ["admin_id", "long"],
        ["invites_count", "int"],
        ["revoked_invites_count", "int"]
      ],
      "ChatAdminWithInvites"
    ],
    "messages.chatAdminsWithInvites": [
      3063640791,
      [
        ["admins", "Vector<ChatAdminWithInvites>"],
        ["users", "Vector<User>"]
      ],
      "messages.ChatAdminsWithInvites"
    ],
    "messages.checkedHistoryImportPeer": [
      2723014423,
      [
        ["confirm_text", "string"]
      ],
      "messages.CheckedHistoryImportPeer"
    ],
    "phone.joinAsPeers": [
      2951045695,
      [
        ["peers", "Vector<Peer>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "phone.JoinAsPeers"
    ],
    "phone.exportedGroupCallInvite": [
      541839704,
      [
        ["link", "string"]
      ],
      "phone.ExportedGroupCallInvite"
    ],
    groupCallParticipantVideoSourceGroup: [
      3702593719,
      [
        ["semantics", "string"],
        ["sources", "Vector<int>"]
      ],
      "GroupCallParticipantVideoSourceGroup"
    ],
    groupCallParticipantVideo: [
      1735736008,
      [
        ["flags", "#"],
        ["paused", "flags.0?true"],
        ["endpoint", "string"],
        ["source_groups", "Vector<GroupCallParticipantVideoSourceGroup>"],
        ["audio_source", "flags.1?int"]
      ],
      "GroupCallParticipantVideo"
    ],
    "stickers.suggestedShortName": [
      2248056895,
      [
        ["short_name", "string"]
      ],
      "stickers.SuggestedShortName"
    ],
    botCommandScopeDefault: [
      795652779,
      [],
      "BotCommandScope"
    ],
    botCommandScopeUsers: [
      1011811544,
      [],
      "BotCommandScope"
    ],
    botCommandScopeChats: [
      1877059713,
      [],
      "BotCommandScope"
    ],
    botCommandScopeChatAdmins: [
      3114950762,
      [],
      "BotCommandScope"
    ],
    botCommandScopePeer: [
      3684534653,
      [
        ["peer", "InputPeer"]
      ],
      "BotCommandScope"
    ],
    botCommandScopePeerAdmins: [
      1071145937,
      [
        ["peer", "InputPeer"]
      ],
      "BotCommandScope"
    ],
    botCommandScopePeerUser: [
      169026035,
      [
        ["peer", "InputPeer"],
        ["user_id", "InputUser"]
      ],
      "BotCommandScope"
    ],
    "account.resetPasswordFailedWait": [
      3816265825,
      [
        ["retry_date", "int"]
      ],
      "account.ResetPasswordResult"
    ],
    "account.resetPasswordRequestedWait": [
      3924819069,
      [
        ["until_date", "int"]
      ],
      "account.ResetPasswordResult"
    ],
    "account.resetPasswordOk": [
      3911636542,
      [],
      "account.ResetPasswordResult"
    ],
    chatTheme: [
      3286236164,
      [
        ["emoticon", "string"]
      ],
      "ChatTheme"
    ],
    chatThemeUniqueGift: [
      878246344,
      [
        ["gift", "StarGift"],
        ["theme_settings", "Vector<ThemeSettings>"]
      ],
      "ChatTheme"
    ],
    "account.chatThemesNotModified": [
      3759268292,
      [],
      "account.ChatThemes"
    ],
    "account.chatThemes": [
      3188294003,
      [
        ["flags", "#"],
        ["hash", "long"],
        ["themes", "Vector<ChatTheme>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"],
        ["next_offset", "flags.0?string"]
      ],
      "account.ChatThemes"
    ],
    sponsoredMessage: [
      2109703795,
      [
        ["flags", "#"],
        ["recommended", "flags.5?true"],
        ["can_report", "flags.12?true"],
        ["random_id", "bytes"],
        ["url", "string"],
        ["title", "string"],
        ["message", "string"],
        ["entities", "flags.1?Vector<MessageEntity>"],
        ["photo", "flags.6?Photo"],
        ["media", "flags.14?MessageMedia"],
        ["color", "flags.13?PeerColor"],
        ["button_text", "string"],
        ["sponsor_info", "flags.7?string"],
        ["additional_info", "flags.8?string"],
        ["min_display_duration", "flags.15?int"],
        ["max_display_duration", "flags.15?int"]
      ],
      "SponsoredMessage"
    ],
    "messages.sponsoredMessages": [
      4292502893,
      [
        ["flags", "#"],
        ["posts_between", "flags.0?int"],
        ["start_delay", "flags.1?int"],
        ["between_delay", "flags.2?int"],
        ["messages", "Vector<SponsoredMessage>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.SponsoredMessages"
    ],
    "messages.sponsoredMessagesEmpty": [
      406407439,
      [],
      "messages.SponsoredMessages"
    ],
    searchResultsCalendarPeriod: [
      3383776159,
      [
        ["date", "int"],
        ["min_msg_id", "int"],
        ["max_msg_id", "int"],
        ["count", "int"]
      ],
      "SearchResultsCalendarPeriod"
    ],
    "messages.searchResultsCalendar": [
      343859772,
      [
        ["flags", "#"],
        ["inexact", "flags.0?true"],
        ["count", "int"],
        ["min_date", "int"],
        ["min_msg_id", "int"],
        ["offset_id_offset", "flags.1?int"],
        ["periods", "Vector<SearchResultsCalendarPeriod>"],
        ["messages", "Vector<Message>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.SearchResultsCalendar"
    ],
    searchResultPosition: [
      2137295719,
      [
        ["msg_id", "int"],
        ["date", "int"],
        ["offset", "int"]
      ],
      "SearchResultsPosition"
    ],
    "messages.searchResultsPositions": [
      1404185519,
      [
        ["count", "int"],
        ["positions", "Vector<SearchResultsPosition>"]
      ],
      "messages.SearchResultsPositions"
    ],
    "channels.sendAsPeers": [
      4103516358,
      [
        ["peers", "Vector<SendAsPeer>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "channels.SendAsPeers"
    ],
    "users.userFull": [
      997004590,
      [
        ["full_user", "UserFull"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "users.UserFull"
    ],
    "messages.peerSettings": [
      1753266509,
      [
        ["settings", "PeerSettings"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.PeerSettings"
    ],
    "auth.loggedOut": [
      3282207583,
      [
        ["flags", "#"],
        ["future_auth_token", "flags.0?bytes"]
      ],
      "auth.LoggedOut"
    ],
    reactionCount: [
      2748435328,
      [
        ["flags", "#"],
        ["chosen_order", "flags.0?int"],
        ["reaction", "Reaction"],
        ["count", "int"]
      ],
      "ReactionCount"
    ],
    messageReactions: [
      171155211,
      [
        ["flags", "#"],
        ["min", "flags.0?true"],
        ["can_see_list", "flags.2?true"],
        ["reactions_as_tags", "flags.3?true"],
        ["results", "Vector<ReactionCount>"],
        ["recent_reactions", "flags.1?Vector<MessagePeerReaction>"],
        ["top_reactors", "flags.4?Vector<MessageReactor>"]
      ],
      "MessageReactions"
    ],
    "messages.messageReactionsList": [
      834488621,
      [
        ["flags", "#"],
        ["count", "int"],
        ["reactions", "Vector<MessagePeerReaction>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"],
        ["next_offset", "flags.0?string"]
      ],
      "messages.MessageReactionsList"
    ],
    availableReaction: [
      3229084673,
      [
        ["flags", "#"],
        ["inactive", "flags.0?true"],
        ["premium", "flags.2?true"],
        ["reaction", "string"],
        ["title", "string"],
        ["static_icon", "Document"],
        ["appear_animation", "Document"],
        ["select_animation", "Document"],
        ["activate_animation", "Document"],
        ["effect_animation", "Document"],
        ["around_animation", "flags.1?Document"],
        ["center_icon", "flags.1?Document"]
      ],
      "AvailableReaction"
    ],
    "messages.availableReactionsNotModified": [
      2668042583,
      [],
      "messages.AvailableReactions"
    ],
    "messages.availableReactions": [
      1989032621,
      [
        ["hash", "int"],
        ["reactions", "Vector<AvailableReaction>"]
      ],
      "messages.AvailableReactions"
    ],
    messagePeerReaction: [
      2356786748,
      [
        ["flags", "#"],
        ["big", "flags.0?true"],
        ["unread", "flags.1?true"],
        ["my", "flags.2?true"],
        ["peer_id", "Peer"],
        ["date", "int"],
        ["reaction", "Reaction"]
      ],
      "MessagePeerReaction"
    ],
    groupCallStreamChannel: [
      2162903215,
      [
        ["channel", "int"],
        ["scale", "int"],
        ["last_timestamp_ms", "long"]
      ],
      "GroupCallStreamChannel"
    ],
    "phone.groupCallStreamChannels": [
      3504636594,
      [
        ["channels", "Vector<GroupCallStreamChannel>"]
      ],
      "phone.GroupCallStreamChannels"
    ],
    "phone.groupCallStreamRtmpUrl": [
      767505458,
      [
        ["url", "string"],
        ["key", "string"]
      ],
      "phone.GroupCallStreamRtmpUrl"
    ],
    attachMenuBotIconColor: [
      1165423600,
      [
        ["name", "string"],
        ["color", "int"]
      ],
      "AttachMenuBotIconColor"
    ],
    attachMenuBotIcon: [
      2997303403,
      [
        ["flags", "#"],
        ["name", "string"],
        ["icon", "Document"],
        ["colors", "flags.0?Vector<AttachMenuBotIconColor>"]
      ],
      "AttachMenuBotIcon"
    ],
    attachMenuBot: [
      3641544190,
      [
        ["flags", "#"],
        ["inactive", "flags.0?true"],
        ["has_settings", "flags.1?true"],
        ["request_write_access", "flags.2?true"],
        ["show_in_attach_menu", "flags.3?true"],
        ["show_in_side_menu", "flags.4?true"],
        ["side_menu_disclaimer_needed", "flags.5?true"],
        ["bot_id", "long"],
        ["short_name", "string"],
        ["peer_types", "flags.3?Vector<AttachMenuPeerType>"],
        ["icons", "Vector<AttachMenuBotIcon>"]
      ],
      "AttachMenuBot"
    ],
    attachMenuBotsNotModified: [
      4057500252,
      [],
      "AttachMenuBots"
    ],
    attachMenuBots: [
      1011024320,
      [
        ["hash", "long"],
        ["bots", "Vector<AttachMenuBot>"],
        ["users", "Vector<User>"]
      ],
      "AttachMenuBots"
    ],
    attachMenuBotsBot: [
      2478794367,
      [
        ["bot", "AttachMenuBot"],
        ["users", "Vector<User>"]
      ],
      "AttachMenuBotsBot"
    ],
    webViewResultUrl: [
      1294139288,
      [
        ["flags", "#"],
        ["fullsize", "flags.1?true"],
        ["fullscreen", "flags.2?true"],
        ["query_id", "flags.0?long"],
        ["url", "string"]
      ],
      "WebViewResult"
    ],
    webViewMessageSent: [
      211046684,
      [
        ["flags", "#"],
        ["msg_id", "flags.0?InputBotInlineMessageID"]
      ],
      "WebViewMessageSent"
    ],
    botMenuButtonDefault: [
      1966318984,
      [],
      "BotMenuButton"
    ],
    botMenuButtonCommands: [
      1113113093,
      [],
      "BotMenuButton"
    ],
    botMenuButton: [
      3350559974,
      [
        ["text", "string"],
        ["url", "string"]
      ],
      "BotMenuButton"
    ],
    "account.savedRingtonesNotModified": [
      4227262641,
      [],
      "account.SavedRingtones"
    ],
    "account.savedRingtones": [
      3253284037,
      [
        ["hash", "long"],
        ["ringtones", "Vector<Document>"]
      ],
      "account.SavedRingtones"
    ],
    notificationSoundDefault: [
      2548612798,
      [],
      "NotificationSound"
    ],
    notificationSoundNone: [
      1863070943,
      [],
      "NotificationSound"
    ],
    notificationSoundLocal: [
      2198575844,
      [
        ["title", "string"],
        ["data", "string"]
      ],
      "NotificationSound"
    ],
    notificationSoundRingtone: [
      4285300809,
      [
        ["id", "long"]
      ],
      "NotificationSound"
    ],
    "account.savedRingtone": [
      3072737133,
      [],
      "account.SavedRingtone"
    ],
    "account.savedRingtoneConverted": [
      523271863,
      [
        ["document", "Document"]
      ],
      "account.SavedRingtone"
    ],
    attachMenuPeerTypeSameBotPM: [
      2104224014,
      [],
      "AttachMenuPeerType"
    ],
    attachMenuPeerTypeBotPM: [
      3274439194,
      [],
      "AttachMenuPeerType"
    ],
    attachMenuPeerTypePM: [
      4047950623,
      [],
      "AttachMenuPeerType"
    ],
    attachMenuPeerTypeChat: [
      84480319,
      [],
      "AttachMenuPeerType"
    ],
    attachMenuPeerTypeBroadcast: [
      2080104188,
      [],
      "AttachMenuPeerType"
    ],
    inputInvoiceMessage: [
      3317000281,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"]
      ],
      "InputInvoice"
    ],
    inputInvoiceSlug: [
      3274099439,
      [
        ["slug", "string"]
      ],
      "InputInvoice"
    ],
    inputInvoicePremiumGiftCode: [
      2560125965,
      [
        ["purpose", "InputStorePaymentPurpose"],
        ["option", "PremiumGiftCodeOption"]
      ],
      "InputInvoice"
    ],
    inputInvoiceStars: [
      1710230755,
      [
        ["purpose", "InputStorePaymentPurpose"]
      ],
      "InputInvoice"
    ],
    inputInvoiceChatInviteSubscription: [
      887591921,
      [
        ["hash", "string"]
      ],
      "InputInvoice"
    ],
    inputInvoiceStarGift: [
      3898760850,
      [
        ["flags", "#"],
        ["hide_name", "flags.0?true"],
        ["include_upgrade", "flags.2?true"],
        ["peer", "InputPeer"],
        ["gift_id", "long"],
        ["message", "flags.1?TextWithEntities"]
      ],
      "InputInvoice"
    ],
    inputInvoiceStarGiftUpgrade: [
      1300335965,
      [
        ["flags", "#"],
        ["keep_original_details", "flags.0?true"],
        ["stargift", "InputSavedStarGift"]
      ],
      "InputInvoice"
    ],
    inputInvoiceStarGiftTransfer: [
      1247763417,
      [
        ["stargift", "InputSavedStarGift"],
        ["to_id", "InputPeer"]
      ],
      "InputInvoice"
    ],
    inputInvoicePremiumGiftStars: [
      3669668591,
      [
        ["flags", "#"],
        ["user_id", "InputUser"],
        ["months", "int"],
        ["message", "flags.0?TextWithEntities"]
      ],
      "InputInvoice"
    ],
    inputInvoiceBusinessBotTransferStars: [
      4103700034,
      [
        ["bot", "InputUser"],
        ["stars", "long"]
      ],
      "InputInvoice"
    ],
    inputInvoiceStarGiftResale: [
      3281998628,
      [
        ["flags", "#"],
        ["ton", "flags.0?true"],
        ["slug", "string"],
        ["to_id", "InputPeer"]
      ],
      "InputInvoice"
    ],
    inputInvoiceStarGiftPrepaidUpgrade: [
      2584430776,
      [
        ["peer", "InputPeer"],
        ["hash", "string"]
      ],
      "InputInvoice"
    ],
    inputInvoicePremiumAuthCode: [
      1048049172,
      [
        ["purpose", "InputStorePaymentPurpose"]
      ],
      "InputInvoice"
    ],
    inputInvoiceStarGiftDropOriginalDetails: [
      153344209,
      [
        ["stargift", "InputSavedStarGift"]
      ],
      "InputInvoice"
    ],
    inputInvoiceStarGiftAuctionBid: [
      516618768,
      [
        ["flags", "#"],
        ["hide_name", "flags.0?true"],
        ["update_bid", "flags.2?true"],
        ["peer", "flags.3?InputPeer"],
        ["gift_id", "long"],
        ["bid_amount", "long"],
        ["message", "flags.1?TextWithEntities"]
      ],
      "InputInvoice"
    ],
    "payments.exportedInvoice": [
      2932919257,
      [
        ["url", "string"]
      ],
      "payments.ExportedInvoice"
    ],
    "messages.transcribedAudio": [
      3485063511,
      [
        ["flags", "#"],
        ["pending", "flags.0?true"],
        ["transcription_id", "long"],
        ["text", "string"],
        ["trial_remains_num", "flags.1?int"],
        ["trial_remains_until_date", "flags.1?int"]
      ],
      "messages.TranscribedAudio"
    ],
    "help.premiumPromo": [
      1395946908,
      [
        ["status_text", "string"],
        ["status_entities", "Vector<MessageEntity>"],
        ["video_sections", "Vector<string>"],
        ["videos", "Vector<Document>"],
        ["period_options", "Vector<PremiumSubscriptionOption>"],
        ["users", "Vector<User>"]
      ],
      "help.PremiumPromo"
    ],
    inputStorePaymentPremiumSubscription: [
      2792693350,
      [
        ["flags", "#"],
        ["restore", "flags.0?true"],
        ["upgrade", "flags.1?true"]
      ],
      "InputStorePaymentPurpose"
    ],
    inputStorePaymentGiftPremium: [
      1634697192,
      [
        ["user_id", "InputUser"],
        ["currency", "string"],
        ["amount", "long"]
      ],
      "InputStorePaymentPurpose"
    ],
    inputStorePaymentPremiumGiftCode: [
      4219011987,
      [
        ["flags", "#"],
        ["users", "Vector<InputUser>"],
        ["boost_peer", "flags.0?InputPeer"],
        ["currency", "string"],
        ["amount", "long"],
        ["message", "flags.1?TextWithEntities"]
      ],
      "InputStorePaymentPurpose"
    ],
    inputStorePaymentPremiumGiveaway: [
      369444042,
      [
        ["flags", "#"],
        ["only_new_subscribers", "flags.0?true"],
        ["winners_are_visible", "flags.3?true"],
        ["boost_peer", "InputPeer"],
        ["additional_peers", "flags.1?Vector<InputPeer>"],
        ["countries_iso2", "flags.2?Vector<string>"],
        ["prize_description", "flags.4?string"],
        ["random_id", "long"],
        ["until_date", "int"],
        ["currency", "string"],
        ["amount", "long"]
      ],
      "InputStorePaymentPurpose"
    ],
    inputStorePaymentStarsTopup: [
      4188186315,
      [
        ["flags", "#"],
        ["stars", "long"],
        ["currency", "string"],
        ["amount", "long"],
        ["spend_purpose_peer", "flags.0?InputPeer"]
      ],
      "InputStorePaymentPurpose"
    ],
    inputStorePaymentStarsGift: [
      494149367,
      [
        ["user_id", "InputUser"],
        ["stars", "long"],
        ["currency", "string"],
        ["amount", "long"]
      ],
      "InputStorePaymentPurpose"
    ],
    inputStorePaymentStarsGiveaway: [
      1964968186,
      [
        ["flags", "#"],
        ["only_new_subscribers", "flags.0?true"],
        ["winners_are_visible", "flags.3?true"],
        ["stars", "long"],
        ["boost_peer", "InputPeer"],
        ["additional_peers", "flags.1?Vector<InputPeer>"],
        ["countries_iso2", "flags.2?Vector<string>"],
        ["prize_description", "flags.4?string"],
        ["random_id", "long"],
        ["until_date", "int"],
        ["currency", "string"],
        ["amount", "long"],
        ["users", "int"]
      ],
      "InputStorePaymentPurpose"
    ],
    inputStorePaymentAuthCode: [
      2612159341,
      [
        ["flags", "#"],
        ["restore", "flags.0?true"],
        ["phone_number", "string"],
        ["phone_code_hash", "string"],
        ["currency", "string"],
        ["amount", "long"]
      ],
      "InputStorePaymentPurpose"
    ],
    paymentFormMethod: [
      2298016283,
      [
        ["url", "string"],
        ["title", "string"]
      ],
      "PaymentFormMethod"
    ],
    emojiStatusEmpty: [
      769727150,
      [],
      "EmojiStatus"
    ],
    emojiStatus: [
      3892250250,
      [
        ["flags", "#"],
        ["document_id", "long"],
        ["until", "flags.0?int"]
      ],
      "EmojiStatus"
    ],
    emojiStatusCollectible: [
      1904500795,
      [
        ["flags", "#"],
        ["collectible_id", "long"],
        ["document_id", "long"],
        ["title", "string"],
        ["slug", "string"],
        ["pattern_document_id", "long"],
        ["center_color", "int"],
        ["edge_color", "int"],
        ["pattern_color", "int"],
        ["text_color", "int"],
        ["until", "flags.0?int"]
      ],
      "EmojiStatus"
    ],
    inputEmojiStatusCollectible: [
      118758847,
      [
        ["flags", "#"],
        ["collectible_id", "long"],
        ["until", "flags.0?int"]
      ],
      "EmojiStatus"
    ],
    "account.emojiStatusesNotModified": [
      3498894917,
      [],
      "account.EmojiStatuses"
    ],
    "account.emojiStatuses": [
      2428790737,
      [
        ["hash", "long"],
        ["statuses", "Vector<EmojiStatus>"]
      ],
      "account.EmojiStatuses"
    ],
    reactionEmpty: [
      2046153753,
      [],
      "Reaction"
    ],
    reactionEmoji: [
      455247544,
      [
        ["emoticon", "string"]
      ],
      "Reaction"
    ],
    reactionCustomEmoji: [
      2302016627,
      [
        ["document_id", "long"]
      ],
      "Reaction"
    ],
    reactionPaid: [
      1379771627,
      [],
      "Reaction"
    ],
    chatReactionsNone: [
      3942396604,
      [],
      "ChatReactions"
    ],
    chatReactionsAll: [
      1385335754,
      [
        ["flags", "#"],
        ["allow_custom", "flags.0?true"]
      ],
      "ChatReactions"
    ],
    chatReactionsSome: [
      1713193015,
      [
        ["reactions", "Vector<Reaction>"]
      ],
      "ChatReactions"
    ],
    "messages.reactionsNotModified": [
      2960120799,
      [],
      "messages.Reactions"
    ],
    "messages.reactions": [
      3942512406,
      [
        ["hash", "long"],
        ["reactions", "Vector<Reaction>"]
      ],
      "messages.Reactions"
    ],
    emailVerifyPurposeLoginSetup: [
      1128644211,
      [
        ["phone_number", "string"],
        ["phone_code_hash", "string"]
      ],
      "EmailVerifyPurpose"
    ],
    emailVerifyPurposeLoginChange: [
      1383932651,
      [],
      "EmailVerifyPurpose"
    ],
    emailVerifyPurposePassport: [
      3153401477,
      [],
      "EmailVerifyPurpose"
    ],
    emailVerificationCode: [
      2452510121,
      [
        ["code", "string"]
      ],
      "EmailVerification"
    ],
    emailVerificationGoogle: [
      3683688130,
      [
        ["token", "string"]
      ],
      "EmailVerification"
    ],
    emailVerificationApple: [
      2530243837,
      [
        ["token", "string"]
      ],
      "EmailVerification"
    ],
    "account.emailVerified": [
      731303195,
      [
        ["email", "string"]
      ],
      "account.EmailVerified"
    ],
    "account.emailVerifiedLogin": [
      3787132257,
      [
        ["email", "string"],
        ["sent_code", "auth.SentCode"]
      ],
      "account.EmailVerified"
    ],
    premiumSubscriptionOption: [
      1596792306,
      [
        ["flags", "#"],
        ["current", "flags.1?true"],
        ["can_purchase_upgrade", "flags.2?true"],
        ["transaction", "flags.3?string"],
        ["months", "int"],
        ["currency", "string"],
        ["amount", "long"],
        ["bot_url", "string"],
        ["store_product", "flags.0?string"]
      ],
      "PremiumSubscriptionOption"
    ],
    sendAsPeer: [
      3088871476,
      [
        ["flags", "#"],
        ["premium_required", "flags.0?true"],
        ["peer", "Peer"]
      ],
      "SendAsPeer"
    ],
    messageExtendedMediaPreview: [
      2908916936,
      [
        ["flags", "#"],
        ["w", "flags.0?int"],
        ["h", "flags.0?int"],
        ["thumb", "flags.1?PhotoSize"],
        ["video_duration", "flags.2?int"]
      ],
      "MessageExtendedMedia"
    ],
    messageExtendedMedia: [
      3997670500,
      [
        ["media", "MessageMedia"]
      ],
      "MessageExtendedMedia"
    ],
    stickerKeyword: [
      4244550300,
      [
        ["document_id", "long"],
        ["keyword", "Vector<string>"]
      ],
      "StickerKeyword"
    ],
    username: [
      3020371527,
      [
        ["flags", "#"],
        ["editable", "flags.0?true"],
        ["active", "flags.1?true"],
        ["username", "string"]
      ],
      "Username"
    ],
    forumTopicDeleted: [
      37687451,
      [
        ["id", "int"]
      ],
      "ForumTopic"
    ],
    forumTopic: [
      3456044746,
      [
        ["flags", "#"],
        ["my", "flags.1?true"],
        ["closed", "flags.2?true"],
        ["pinned", "flags.3?true"],
        ["short", "flags.5?true"],
        ["hidden", "flags.6?true"],
        ["title_missing", "flags.7?true"],
        ["id", "int"],
        ["date", "int"],
        ["peer", "Peer"],
        ["title", "string"],
        ["icon_color", "int"],
        ["icon_emoji_id", "flags.0?long"],
        ["top_message", "int"],
        ["read_inbox_max_id", "int"],
        ["read_outbox_max_id", "int"],
        ["unread_count", "int"],
        ["unread_mentions_count", "int"],
        ["unread_reactions_count", "int"],
        ["from_id", "Peer"],
        ["notify_settings", "PeerNotifySettings"],
        ["draft", "flags.4?DraftMessage"]
      ],
      "ForumTopic"
    ],
    "messages.forumTopics": [
      913709011,
      [
        ["flags", "#"],
        ["order_by_create_date", "flags.0?true"],
        ["count", "int"],
        ["topics", "Vector<ForumTopic>"],
        ["messages", "Vector<Message>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"],
        ["pts", "int"]
      ],
      "messages.ForumTopics"
    ],
    defaultHistoryTTL: [
      1135897376,
      [
        ["period", "int"]
      ],
      "DefaultHistoryTTL"
    ],
    exportedContactToken: [
      1103040667,
      [
        ["url", "string"],
        ["expires", "int"]
      ],
      "ExportedContactToken"
    ],
    requestPeerTypeUser: [
      1597737472,
      [
        ["flags", "#"],
        ["bot", "flags.0?Bool"],
        ["premium", "flags.1?Bool"]
      ],
      "RequestPeerType"
    ],
    requestPeerTypeChat: [
      3387977243,
      [
        ["flags", "#"],
        ["creator", "flags.0?true"],
        ["bot_participant", "flags.5?true"],
        ["has_username", "flags.3?Bool"],
        ["forum", "flags.4?Bool"],
        ["user_admin_rights", "flags.1?ChatAdminRights"],
        ["bot_admin_rights", "flags.2?ChatAdminRights"]
      ],
      "RequestPeerType"
    ],
    requestPeerTypeBroadcast: [
      865857388,
      [
        ["flags", "#"],
        ["creator", "flags.0?true"],
        ["has_username", "flags.3?Bool"],
        ["user_admin_rights", "flags.1?ChatAdminRights"],
        ["bot_admin_rights", "flags.2?ChatAdminRights"]
      ],
      "RequestPeerType"
    ],
    emojiListNotModified: [
      1209970170,
      [],
      "EmojiList"
    ],
    emojiList: [
      2048790993,
      [
        ["hash", "long"],
        ["document_id", "Vector<long>"]
      ],
      "EmojiList"
    ],
    emojiGroup: [
      2056961449,
      [
        ["title", "string"],
        ["icon_emoji_id", "long"],
        ["emoticons", "Vector<string>"]
      ],
      "EmojiGroup"
    ],
    emojiGroupGreeting: [
      2161274055,
      [
        ["title", "string"],
        ["icon_emoji_id", "long"],
        ["emoticons", "Vector<string>"]
      ],
      "EmojiGroup"
    ],
    emojiGroupPremium: [
      154914612,
      [
        ["title", "string"],
        ["icon_emoji_id", "long"]
      ],
      "EmojiGroup"
    ],
    "messages.emojiGroupsNotModified": [
      1874111879,
      [],
      "messages.EmojiGroups"
    ],
    "messages.emojiGroups": [
      2283780427,
      [
        ["hash", "int"],
        ["groups", "Vector<EmojiGroup>"]
      ],
      "messages.EmojiGroups"
    ],
    textWithEntities: [
      1964978502,
      [
        ["text", "string"],
        ["entities", "Vector<MessageEntity>"]
      ],
      "TextWithEntities"
    ],
    "messages.translateResult": [
      870003448,
      [
        ["result", "Vector<TextWithEntities>"]
      ],
      "messages.TranslatedText"
    ],
    autoSaveSettings: [
      3360175310,
      [
        ["flags", "#"],
        ["photos", "flags.0?true"],
        ["videos", "flags.1?true"],
        ["video_max_size", "flags.2?long"]
      ],
      "AutoSaveSettings"
    ],
    autoSaveException: [
      2170563911,
      [
        ["peer", "Peer"],
        ["settings", "AutoSaveSettings"]
      ],
      "AutoSaveException"
    ],
    "account.autoSaveSettings": [
      1279133341,
      [
        ["users_settings", "AutoSaveSettings"],
        ["chats_settings", "AutoSaveSettings"],
        ["broadcasts_settings", "AutoSaveSettings"],
        ["exceptions", "Vector<AutoSaveException>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "account.AutoSaveSettings"
    ],
    "help.appConfigNotModified": [
      2094949405,
      [],
      "help.AppConfig"
    ],
    "help.appConfig": [
      3709368366,
      [
        ["hash", "int"],
        ["config", "JSONValue"]
      ],
      "help.AppConfig"
    ],
    inputBotAppID: [
      2837495162,
      [
        ["id", "long"],
        ["access_hash", "long"]
      ],
      "InputBotApp"
    ],
    inputBotAppShortName: [
      2425095175,
      [
        ["bot_id", "InputUser"],
        ["short_name", "string"]
      ],
      "InputBotApp"
    ],
    botAppNotModified: [
      1571189943,
      [],
      "BotApp"
    ],
    botApp: [
      2516373974,
      [
        ["flags", "#"],
        ["id", "long"],
        ["access_hash", "long"],
        ["short_name", "string"],
        ["title", "string"],
        ["description", "string"],
        ["photo", "Photo"],
        ["document", "flags.0?Document"],
        ["hash", "long"]
      ],
      "BotApp"
    ],
    "messages.botApp": [
      3947933173,
      [
        ["flags", "#"],
        ["inactive", "flags.0?true"],
        ["request_write_access", "flags.1?true"],
        ["has_settings", "flags.2?true"],
        ["app", "BotApp"]
      ],
      "messages.BotApp"
    ],
    inlineBotWebView: [
      3044185557,
      [
        ["text", "string"],
        ["url", "string"]
      ],
      "InlineBotWebView"
    ],
    readParticipantDate: [
      1246753138,
      [
        ["user_id", "long"],
        ["date", "int"]
      ],
      "ReadParticipantDate"
    ],
    inputChatlistDialogFilter: [
      4091599411,
      [
        ["filter_id", "int"]
      ],
      "InputChatlist"
    ],
    exportedChatlistInvite: [
      206668204,
      [
        ["flags", "#"],
        ["title", "string"],
        ["url", "string"],
        ["peers", "Vector<Peer>"]
      ],
      "ExportedChatlistInvite"
    ],
    "chatlists.exportedChatlistInvite": [
      283567014,
      [
        ["filter", "DialogFilter"],
        ["invite", "ExportedChatlistInvite"]
      ],
      "chatlists.ExportedChatlistInvite"
    ],
    "chatlists.exportedInvites": [
      279670215,
      [
        ["invites", "Vector<ExportedChatlistInvite>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "chatlists.ExportedInvites"
    ],
    "chatlists.chatlistInviteAlready": [
      4203214425,
      [
        ["filter_id", "int"],
        ["missing_peers", "Vector<Peer>"],
        ["already_peers", "Vector<Peer>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "chatlists.ChatlistInvite"
    ],
    "chatlists.chatlistInvite": [
      4044279343,
      [
        ["flags", "#"],
        ["title_noanimate", "flags.1?true"],
        ["title", "TextWithEntities"],
        ["emoticon", "flags.0?string"],
        ["peers", "Vector<Peer>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "chatlists.ChatlistInvite"
    ],
    "chatlists.chatlistUpdates": [
      2478671757,
      [
        ["missing_peers", "Vector<Peer>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "chatlists.ChatlistUpdates"
    ],
    "bots.botInfo": [
      3903288752,
      [
        ["name", "string"],
        ["about", "string"],
        ["description", "string"]
      ],
      "bots.BotInfo"
    ],
    messagePeerVote: [
      3066834268,
      [
        ["peer", "Peer"],
        ["option", "bytes"],
        ["date", "int"]
      ],
      "MessagePeerVote"
    ],
    messagePeerVoteInputOption: [
      1959634180,
      [
        ["peer", "Peer"],
        ["date", "int"]
      ],
      "MessagePeerVote"
    ],
    messagePeerVoteMultiple: [
      1177089766,
      [
        ["peer", "Peer"],
        ["options", "Vector<bytes>"],
        ["date", "int"]
      ],
      "MessagePeerVote"
    ],
    storyViews: [
      2371443926,
      [
        ["flags", "#"],
        ["has_viewers", "flags.1?true"],
        ["views_count", "int"],
        ["forwards_count", "flags.2?int"],
        ["reactions", "flags.3?Vector<ReactionCount>"],
        ["reactions_count", "flags.4?int"],
        ["recent_viewers", "flags.0?Vector<long>"]
      ],
      "StoryViews"
    ],
    storyItemDeleted: [
      1374088783,
      [
        ["id", "int"]
      ],
      "StoryItem"
    ],
    storyItemSkipped: [
      4289579283,
      [
        ["flags", "#"],
        ["close_friends", "flags.8?true"],
        ["live", "flags.9?true"],
        ["id", "int"],
        ["date", "int"],
        ["expire_date", "int"]
      ],
      "StoryItem"
    ],
    storyItem: [
      3992020209,
      [
        ["flags", "#"],
        ["pinned", "flags.5?true"],
        ["public", "flags.7?true"],
        ["close_friends", "flags.8?true"],
        ["min", "flags.9?true"],
        ["noforwards", "flags.10?true"],
        ["edited", "flags.11?true"],
        ["contacts", "flags.12?true"],
        ["selected_contacts", "flags.13?true"],
        ["out", "flags.16?true"],
        ["id", "int"],
        ["date", "int"],
        ["from_id", "flags.18?Peer"],
        ["fwd_from", "flags.17?StoryFwdHeader"],
        ["expire_date", "int"],
        ["caption", "flags.0?string"],
        ["entities", "flags.1?Vector<MessageEntity>"],
        ["media", "MessageMedia"],
        ["media_areas", "flags.14?Vector<MediaArea>"],
        ["privacy", "flags.2?Vector<PrivacyRule>"],
        ["views", "flags.3?StoryViews"],
        ["sent_reaction", "flags.15?Reaction"],
        ["albums", "flags.19?Vector<int>"]
      ],
      "StoryItem"
    ],
    "stories.allStoriesNotModified": [
      291044926,
      [
        ["flags", "#"],
        ["state", "string"],
        ["stealth_mode", "StoriesStealthMode"]
      ],
      "stories.AllStories"
    ],
    "stories.allStories": [
      1862033025,
      [
        ["flags", "#"],
        ["has_more", "flags.0?true"],
        ["count", "int"],
        ["state", "string"],
        ["peer_stories", "Vector<PeerStories>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"],
        ["stealth_mode", "StoriesStealthMode"]
      ],
      "stories.AllStories"
    ],
    "stories.stories": [
      1673780490,
      [
        ["flags", "#"],
        ["count", "int"],
        ["stories", "Vector<StoryItem>"],
        ["pinned_to_top", "flags.0?Vector<int>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "stories.Stories"
    ],
    storyView: [
      2965236421,
      [
        ["flags", "#"],
        ["blocked", "flags.0?true"],
        ["blocked_my_stories_from", "flags.1?true"],
        ["user_id", "long"],
        ["date", "int"],
        ["reaction", "flags.2?Reaction"]
      ],
      "StoryView"
    ],
    storyViewPublicForward: [
      2424530699,
      [
        ["flags", "#"],
        ["blocked", "flags.0?true"],
        ["blocked_my_stories_from", "flags.1?true"],
        ["message", "Message"]
      ],
      "StoryView"
    ],
    storyViewPublicRepost: [
      3178549065,
      [
        ["flags", "#"],
        ["blocked", "flags.0?true"],
        ["blocked_my_stories_from", "flags.1?true"],
        ["peer_id", "Peer"],
        ["story", "StoryItem"]
      ],
      "StoryView"
    ],
    "stories.storyViewsList": [
      1507299269,
      [
        ["flags", "#"],
        ["count", "int"],
        ["views_count", "int"],
        ["forwards_count", "int"],
        ["reactions_count", "int"],
        ["views", "Vector<StoryView>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"],
        ["next_offset", "flags.0?string"]
      ],
      "stories.StoryViewsList"
    ],
    "stories.storyViews": [
      3734957341,
      [
        ["views", "Vector<StoryViews>"],
        ["users", "Vector<User>"]
      ],
      "stories.StoryViews"
    ],
    inputReplyToMessage: [
      2258615824,
      [
        ["flags", "#"],
        ["reply_to_msg_id", "int"],
        ["top_msg_id", "flags.0?int"],
        ["reply_to_peer_id", "flags.1?InputPeer"],
        ["quote_text", "flags.2?string"],
        ["quote_entities", "flags.3?Vector<MessageEntity>"],
        ["quote_offset", "flags.4?int"],
        ["monoforum_peer_id", "flags.5?InputPeer"],
        ["todo_item_id", "flags.6?int"]
      ],
      "InputReplyTo"
    ],
    inputReplyToStory: [
      1484862010,
      [
        ["peer", "InputPeer"],
        ["story_id", "int"]
      ],
      "InputReplyTo"
    ],
    inputReplyToMonoForum: [
      1775660101,
      [
        ["monoforum_peer_id", "InputPeer"]
      ],
      "InputReplyTo"
    ],
    exportedStoryLink: [
      1070138683,
      [
        ["link", "string"]
      ],
      "ExportedStoryLink"
    ],
    storiesStealthMode: [
      1898850301,
      [
        ["flags", "#"],
        ["active_until_date", "flags.0?int"],
        ["cooldown_until_date", "flags.1?int"]
      ],
      "StoriesStealthMode"
    ],
    mediaAreaCoordinates: [
      3486113794,
      [
        ["flags", "#"],
        ["x", "double"],
        ["y", "double"],
        ["w", "double"],
        ["h", "double"],
        ["rotation", "double"],
        ["radius", "flags.0?double"]
      ],
      "MediaAreaCoordinates"
    ],
    mediaAreaVenue: [
      3196246940,
      [
        ["coordinates", "MediaAreaCoordinates"],
        ["geo", "GeoPoint"],
        ["title", "string"],
        ["address", "string"],
        ["provider", "string"],
        ["venue_id", "string"],
        ["venue_type", "string"]
      ],
      "MediaArea"
    ],
    inputMediaAreaVenue: [
      2994872703,
      [
        ["coordinates", "MediaAreaCoordinates"],
        ["query_id", "long"],
        ["result_id", "string"]
      ],
      "MediaArea"
    ],
    mediaAreaGeoPoint: [
      3402974509,
      [
        ["flags", "#"],
        ["coordinates", "MediaAreaCoordinates"],
        ["geo", "GeoPoint"],
        ["address", "flags.0?GeoPointAddress"]
      ],
      "MediaArea"
    ],
    mediaAreaSuggestedReaction: [
      340088945,
      [
        ["flags", "#"],
        ["dark", "flags.0?true"],
        ["flipped", "flags.1?true"],
        ["coordinates", "MediaAreaCoordinates"],
        ["reaction", "Reaction"]
      ],
      "MediaArea"
    ],
    mediaAreaChannelPost: [
      1996756655,
      [
        ["coordinates", "MediaAreaCoordinates"],
        ["channel_id", "long"],
        ["msg_id", "int"]
      ],
      "MediaArea"
    ],
    inputMediaAreaChannelPost: [
      577893055,
      [
        ["coordinates", "MediaAreaCoordinates"],
        ["channel", "InputChannel"],
        ["msg_id", "int"]
      ],
      "MediaArea"
    ],
    mediaAreaUrl: [
      926421125,
      [
        ["coordinates", "MediaAreaCoordinates"],
        ["url", "string"]
      ],
      "MediaArea"
    ],
    mediaAreaWeather: [
      1235637404,
      [
        ["coordinates", "MediaAreaCoordinates"],
        ["emoji", "string"],
        ["temperature_c", "double"],
        ["color", "int"]
      ],
      "MediaArea"
    ],
    mediaAreaStarGift: [
      1468491885,
      [
        ["coordinates", "MediaAreaCoordinates"],
        ["slug", "string"]
      ],
      "MediaArea"
    ],
    peerStories: [
      2587224473,
      [
        ["flags", "#"],
        ["peer", "Peer"],
        ["max_read_id", "flags.0?int"],
        ["stories", "Vector<StoryItem>"]
      ],
      "PeerStories"
    ],
    "stories.peerStories": [
      3404105576,
      [
        ["stories", "PeerStories"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "stories.PeerStories"
    ],
    "messages.webPage": [
      4250800829,
      [
        ["webpage", "WebPage"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.WebPage"
    ],
    premiumGiftCodeOption: [
      629052971,
      [
        ["flags", "#"],
        ["users", "int"],
        ["months", "int"],
        ["store_product", "flags.0?string"],
        ["store_quantity", "flags.1?int"],
        ["currency", "string"],
        ["amount", "long"]
      ],
      "PremiumGiftCodeOption"
    ],
    "payments.checkedGiftCode": [
      3952623503,
      [
        ["flags", "#"],
        ["via_giveaway", "flags.2?true"],
        ["from_id", "flags.4?Peer"],
        ["giveaway_msg_id", "flags.3?int"],
        ["to_id", "flags.0?long"],
        ["date", "int"],
        ["days", "int"],
        ["used_date", "flags.1?int"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "payments.CheckedGiftCode"
    ],
    "payments.giveawayInfo": [
      1130879648,
      [
        ["flags", "#"],
        ["participating", "flags.0?true"],
        ["preparing_results", "flags.3?true"],
        ["start_date", "int"],
        ["joined_too_early_date", "flags.1?int"],
        ["admin_disallowed_chat_id", "flags.2?long"],
        ["disallowed_country", "flags.4?string"]
      ],
      "payments.GiveawayInfo"
    ],
    "payments.giveawayInfoResults": [
      3782600303,
      [
        ["flags", "#"],
        ["winner", "flags.0?true"],
        ["refunded", "flags.1?true"],
        ["start_date", "int"],
        ["gift_code_slug", "flags.3?string"],
        ["stars_prize", "flags.4?long"],
        ["finish_date", "int"],
        ["winners_count", "int"],
        ["activated_count", "flags.2?int"]
      ],
      "payments.GiveawayInfo"
    ],
    prepaidGiveaway: [
      2991824212,
      [
        ["id", "long"],
        ["months", "int"],
        ["quantity", "int"],
        ["date", "int"]
      ],
      "PrepaidGiveaway"
    ],
    prepaidStarsGiveaway: [
      2594011104,
      [
        ["id", "long"],
        ["stars", "long"],
        ["quantity", "int"],
        ["boosts", "int"],
        ["date", "int"]
      ],
      "PrepaidGiveaway"
    ],
    boost: [
      1262359766,
      [
        ["flags", "#"],
        ["gift", "flags.1?true"],
        ["giveaway", "flags.2?true"],
        ["unclaimed", "flags.3?true"],
        ["id", "string"],
        ["user_id", "flags.0?long"],
        ["giveaway_msg_id", "flags.2?int"],
        ["date", "int"],
        ["expires", "int"],
        ["used_gift_slug", "flags.4?string"],
        ["multiplier", "flags.5?int"],
        ["stars", "flags.6?long"]
      ],
      "Boost"
    ],
    "premium.boostsList": [
      2264424764,
      [
        ["flags", "#"],
        ["count", "int"],
        ["boosts", "Vector<Boost>"],
        ["next_offset", "flags.0?string"],
        ["users", "Vector<User>"]
      ],
      "premium.BoostsList"
    ],
    myBoost: [
      3293069660,
      [
        ["flags", "#"],
        ["slot", "int"],
        ["peer", "flags.0?Peer"],
        ["date", "int"],
        ["expires", "int"],
        ["cooldown_until_date", "flags.1?int"]
      ],
      "MyBoost"
    ],
    "premium.myBoosts": [
      2598512866,
      [
        ["my_boosts", "Vector<MyBoost>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "premium.MyBoosts"
    ],
    "premium.boostsStatus": [
      1230586490,
      [
        ["flags", "#"],
        ["my_boost", "flags.2?true"],
        ["level", "int"],
        ["current_level_boosts", "int"],
        ["boosts", "int"],
        ["gift_boosts", "flags.4?int"],
        ["next_level_boosts", "flags.0?int"],
        ["premium_audience", "flags.1?StatsPercentValue"],
        ["boost_url", "string"],
        ["prepaid_giveaways", "flags.3?Vector<PrepaidGiveaway>"],
        ["my_boost_slots", "flags.2?Vector<int>"]
      ],
      "premium.BoostsStatus"
    ],
    storyFwdHeader: [
      3089555792,
      [
        ["flags", "#"],
        ["modified", "flags.3?true"],
        ["from", "flags.0?Peer"],
        ["from_name", "flags.1?string"],
        ["story_id", "flags.2?int"]
      ],
      "StoryFwdHeader"
    ],
    postInteractionCountersMessage: [
      3875901055,
      [
        ["msg_id", "int"],
        ["views", "int"],
        ["forwards", "int"],
        ["reactions", "int"]
      ],
      "PostInteractionCounters"
    ],
    postInteractionCountersStory: [
      2319978023,
      [
        ["story_id", "int"],
        ["views", "int"],
        ["forwards", "int"],
        ["reactions", "int"]
      ],
      "PostInteractionCounters"
    ],
    "stats.storyStats": [
      1355613820,
      [
        ["views_graph", "StatsGraph"],
        ["reactions_by_emotion_graph", "StatsGraph"]
      ],
      "stats.StoryStats"
    ],
    publicForwardMessage: [
      32685898,
      [
        ["message", "Message"]
      ],
      "PublicForward"
    ],
    publicForwardStory: [
      3992169936,
      [
        ["peer", "Peer"],
        ["story", "StoryItem"]
      ],
      "PublicForward"
    ],
    "stats.publicForwards": [
      2466479648,
      [
        ["flags", "#"],
        ["count", "int"],
        ["forwards", "Vector<PublicForward>"],
        ["next_offset", "flags.0?string"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "stats.PublicForwards"
    ],
    peerColor: [
      3041614543,
      [
        ["flags", "#"],
        ["color", "flags.0?int"],
        ["background_emoji_id", "flags.1?long"]
      ],
      "PeerColor"
    ],
    peerColorCollectible: [
      3116393370,
      [
        ["flags", "#"],
        ["collectible_id", "long"],
        ["gift_emoji_id", "long"],
        ["background_emoji_id", "long"],
        ["accent_color", "int"],
        ["colors", "Vector<int>"],
        ["dark_accent_color", "flags.0?int"],
        ["dark_colors", "flags.1?Vector<int>"]
      ],
      "PeerColor"
    ],
    inputPeerColorCollectible: [
      3102377641,
      [
        ["collectible_id", "long"]
      ],
      "PeerColor"
    ],
    "help.peerColorSet": [
      639736408,
      [
        ["colors", "Vector<int>"]
      ],
      "help.PeerColorSet"
    ],
    "help.peerColorProfileSet": [
      1987928555,
      [
        ["palette_colors", "Vector<int>"],
        ["bg_colors", "Vector<int>"],
        ["story_colors", "Vector<int>"]
      ],
      "help.PeerColorSet"
    ],
    "help.peerColorOption": [
      2917953214,
      [
        ["flags", "#"],
        ["hidden", "flags.0?true"],
        ["color_id", "int"],
        ["colors", "flags.1?help.PeerColorSet"],
        ["dark_colors", "flags.2?help.PeerColorSet"],
        ["channel_min_level", "flags.3?int"],
        ["group_min_level", "flags.4?int"]
      ],
      "help.PeerColorOption"
    ],
    "help.peerColorsNotModified": [
      732034510,
      [],
      "help.PeerColors"
    ],
    "help.peerColors": [
      16313608,
      [
        ["hash", "int"],
        ["colors", "Vector<help.PeerColorOption>"]
      ],
      "help.PeerColors"
    ],
    storyReaction: [
      1620104917,
      [
        ["peer_id", "Peer"],
        ["date", "int"],
        ["reaction", "Reaction"]
      ],
      "StoryReaction"
    ],
    storyReactionPublicForward: [
      3148555843,
      [
        ["message", "Message"]
      ],
      "StoryReaction"
    ],
    storyReactionPublicRepost: [
      3486322451,
      [
        ["peer_id", "Peer"],
        ["story", "StoryItem"]
      ],
      "StoryReaction"
    ],
    "stories.storyReactionsList": [
      2858383516,
      [
        ["flags", "#"],
        ["count", "int"],
        ["reactions", "Vector<StoryReaction>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"],
        ["next_offset", "flags.0?string"]
      ],
      "stories.StoryReactionsList"
    ],
    savedDialog: [
      3179793260,
      [
        ["flags", "#"],
        ["pinned", "flags.2?true"],
        ["peer", "Peer"],
        ["top_message", "int"]
      ],
      "SavedDialog"
    ],
    monoForumDialog: [
      1681948327,
      [
        ["flags", "#"],
        ["unread_mark", "flags.3?true"],
        ["nopaid_messages_exception", "flags.4?true"],
        ["peer", "Peer"],
        ["top_message", "int"],
        ["read_inbox_max_id", "int"],
        ["read_outbox_max_id", "int"],
        ["unread_count", "int"],
        ["unread_reactions_count", "int"],
        ["draft", "flags.1?DraftMessage"]
      ],
      "SavedDialog"
    ],
    "messages.savedDialogs": [
      4164608545,
      [
        ["dialogs", "Vector<SavedDialog>"],
        ["messages", "Vector<Message>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.SavedDialogs"
    ],
    "messages.savedDialogsSlice": [
      1153080793,
      [
        ["count", "int"],
        ["dialogs", "Vector<SavedDialog>"],
        ["messages", "Vector<Message>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.SavedDialogs"
    ],
    "messages.savedDialogsNotModified": [
      3223285736,
      [
        ["count", "int"]
      ],
      "messages.SavedDialogs"
    ],
    savedReactionTag: [
      3413112872,
      [
        ["flags", "#"],
        ["reaction", "Reaction"],
        ["title", "flags.0?string"],
        ["count", "int"]
      ],
      "SavedReactionTag"
    ],
    "messages.savedReactionTagsNotModified": [
      2291882479,
      [],
      "messages.SavedReactionTags"
    ],
    "messages.savedReactionTags": [
      844731658,
      [
        ["tags", "Vector<SavedReactionTag>"],
        ["hash", "long"]
      ],
      "messages.SavedReactionTags"
    ],
    outboxReadDate: [
      1001931436,
      [
        ["date", "int"]
      ],
      "OutboxReadDate"
    ],
    "smsjobs.eligibleToJoin": [
      3700114639,
      [
        ["terms_url", "string"],
        ["monthly_sent_sms", "int"]
      ],
      "smsjobs.EligibilityToJoin"
    ],
    "smsjobs.status": [
      720277905,
      [
        ["flags", "#"],
        ["allow_international", "flags.0?true"],
        ["recent_sent", "int"],
        ["recent_since", "int"],
        ["recent_remains", "int"],
        ["total_sent", "int"],
        ["total_since", "int"],
        ["last_gift_slug", "flags.1?string"],
        ["terms_url", "string"]
      ],
      "smsjobs.Status"
    ],
    smsJob: [
      3869372088,
      [
        ["job_id", "string"],
        ["phone_number", "string"],
        ["text", "string"]
      ],
      "SmsJob"
    ],
    businessWeeklyOpen: [
      302717625,
      [
        ["start_minute", "int"],
        ["end_minute", "int"]
      ],
      "BusinessWeeklyOpen"
    ],
    businessWorkHours: [
      2358423704,
      [
        ["flags", "#"],
        ["open_now", "flags.0?true"],
        ["timezone_id", "string"],
        ["weekly_open", "Vector<BusinessWeeklyOpen>"]
      ],
      "BusinessWorkHours"
    ],
    businessLocation: [
      2891717367,
      [
        ["flags", "#"],
        ["geo_point", "flags.0?GeoPoint"],
        ["address", "string"]
      ],
      "BusinessLocation"
    ],
    inputBusinessRecipients: [
      1871393450,
      [
        ["flags", "#"],
        ["existing_chats", "flags.0?true"],
        ["new_chats", "flags.1?true"],
        ["contacts", "flags.2?true"],
        ["non_contacts", "flags.3?true"],
        ["exclude_selected", "flags.5?true"],
        ["users", "flags.4?Vector<InputUser>"]
      ],
      "InputBusinessRecipients"
    ],
    businessRecipients: [
      554733559,
      [
        ["flags", "#"],
        ["existing_chats", "flags.0?true"],
        ["new_chats", "flags.1?true"],
        ["contacts", "flags.2?true"],
        ["non_contacts", "flags.3?true"],
        ["exclude_selected", "flags.5?true"],
        ["users", "flags.4?Vector<long>"]
      ],
      "BusinessRecipients"
    ],
    businessAwayMessageScheduleAlways: [
      3384402617,
      [],
      "BusinessAwayMessageSchedule"
    ],
    businessAwayMessageScheduleOutsideWorkHours: [
      3287479553,
      [],
      "BusinessAwayMessageSchedule"
    ],
    businessAwayMessageScheduleCustom: [
      3427638988,
      [
        ["start_date", "int"],
        ["end_date", "int"]
      ],
      "BusinessAwayMessageSchedule"
    ],
    inputBusinessGreetingMessage: [
      26528571,
      [
        ["shortcut_id", "int"],
        ["recipients", "InputBusinessRecipients"],
        ["no_activity_days", "int"]
      ],
      "InputBusinessGreetingMessage"
    ],
    businessGreetingMessage: [
      3843664811,
      [
        ["shortcut_id", "int"],
        ["recipients", "BusinessRecipients"],
        ["no_activity_days", "int"]
      ],
      "BusinessGreetingMessage"
    ],
    inputBusinessAwayMessage: [
      2200008160,
      [
        ["flags", "#"],
        ["offline_only", "flags.0?true"],
        ["shortcut_id", "int"],
        ["schedule", "BusinessAwayMessageSchedule"],
        ["recipients", "InputBusinessRecipients"]
      ],
      "InputBusinessAwayMessage"
    ],
    businessAwayMessage: [
      4011158108,
      [
        ["flags", "#"],
        ["offline_only", "flags.0?true"],
        ["shortcut_id", "int"],
        ["schedule", "BusinessAwayMessageSchedule"],
        ["recipients", "BusinessRecipients"]
      ],
      "BusinessAwayMessage"
    ],
    timezone: [
      4287793653,
      [
        ["id", "string"],
        ["name", "string"],
        ["utc_offset", "int"]
      ],
      "Timezone"
    ],
    "help.timezonesListNotModified": [
      2533820620,
      [],
      "help.TimezonesList"
    ],
    "help.timezonesList": [
      2071260529,
      [
        ["timezones", "Vector<Timezone>"],
        ["hash", "int"]
      ],
      "help.TimezonesList"
    ],
    quickReply: [
      110563371,
      [
        ["shortcut_id", "int"],
        ["shortcut", "string"],
        ["top_message", "int"],
        ["count", "int"]
      ],
      "QuickReply"
    ],
    inputQuickReplyShortcut: [
      609840449,
      [
        ["shortcut", "string"]
      ],
      "InputQuickReplyShortcut"
    ],
    inputQuickReplyShortcutId: [
      18418929,
      [
        ["shortcut_id", "int"]
      ],
      "InputQuickReplyShortcut"
    ],
    "messages.quickReplies": [
      3331155605,
      [
        ["quick_replies", "Vector<QuickReply>"],
        ["messages", "Vector<Message>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.QuickReplies"
    ],
    "messages.quickRepliesNotModified": [
      1603398491,
      [],
      "messages.QuickReplies"
    ],
    connectedBot: [
      3445908332,
      [
        ["flags", "#"],
        ["bot_id", "long"],
        ["recipients", "BusinessBotRecipients"],
        ["rights", "BusinessBotRights"]
      ],
      "ConnectedBot"
    ],
    "account.connectedBots": [
      400029819,
      [
        ["connected_bots", "Vector<ConnectedBot>"],
        ["users", "Vector<User>"]
      ],
      "account.ConnectedBots"
    ],
    "messages.dialogFilters": [
      718878489,
      [
        ["flags", "#"],
        ["tags_enabled", "flags.0?true"],
        ["filters", "Vector<DialogFilter>"]
      ],
      "messages.DialogFilters"
    ],
    birthday: [
      1821253126,
      [
        ["flags", "#"],
        ["day", "int"],
        ["month", "int"],
        ["year", "flags.0?int"]
      ],
      "Birthday"
    ],
    botBusinessConnection: [
      2402595573,
      [
        ["flags", "#"],
        ["disabled", "flags.1?true"],
        ["connection_id", "string"],
        ["user_id", "long"],
        ["dc_id", "int"],
        ["date", "int"],
        ["rights", "flags.2?BusinessBotRights"]
      ],
      "BotBusinessConnection"
    ],
    inputBusinessIntro: [
      163867085,
      [
        ["flags", "#"],
        ["title", "string"],
        ["description", "string"],
        ["sticker", "flags.0?InputDocument"]
      ],
      "InputBusinessIntro"
    ],
    businessIntro: [
      1510606445,
      [
        ["flags", "#"],
        ["title", "string"],
        ["description", "string"],
        ["sticker", "flags.0?Document"]
      ],
      "BusinessIntro"
    ],
    "messages.myStickers": [
      4211040925,
      [
        ["count", "int"],
        ["sets", "Vector<StickerSetCovered>"]
      ],
      "messages.MyStickers"
    ],
    inputCollectibleUsername: [
      3818152105,
      [
        ["username", "string"]
      ],
      "InputCollectible"
    ],
    inputCollectiblePhone: [
      2732725412,
      [
        ["phone", "string"]
      ],
      "InputCollectible"
    ],
    "fragment.collectibleInfo": [
      1857945489,
      [
        ["purchase_date", "int"],
        ["currency", "string"],
        ["amount", "long"],
        ["crypto_currency", "string"],
        ["crypto_amount", "long"],
        ["url", "string"]
      ],
      "fragment.CollectibleInfo"
    ],
    inputBusinessBotRecipients: [
      3303379486,
      [
        ["flags", "#"],
        ["existing_chats", "flags.0?true"],
        ["new_chats", "flags.1?true"],
        ["contacts", "flags.2?true"],
        ["non_contacts", "flags.3?true"],
        ["exclude_selected", "flags.5?true"],
        ["users", "flags.4?Vector<InputUser>"],
        ["exclude_users", "flags.6?Vector<InputUser>"]
      ],
      "InputBusinessBotRecipients"
    ],
    businessBotRecipients: [
      3096245107,
      [
        ["flags", "#"],
        ["existing_chats", "flags.0?true"],
        ["new_chats", "flags.1?true"],
        ["contacts", "flags.2?true"],
        ["non_contacts", "flags.3?true"],
        ["exclude_selected", "flags.5?true"],
        ["users", "flags.4?Vector<long>"],
        ["exclude_users", "flags.6?Vector<long>"]
      ],
      "BusinessBotRecipients"
    ],
    contactBirthday: [
      496600883,
      [
        ["contact_id", "long"],
        ["birthday", "Birthday"]
      ],
      "ContactBirthday"
    ],
    "contacts.contactBirthdays": [
      290452237,
      [
        ["contacts", "Vector<ContactBirthday>"],
        ["users", "Vector<User>"]
      ],
      "contacts.ContactBirthdays"
    ],
    missingInvitee: [
      1653379620,
      [
        ["flags", "#"],
        ["premium_would_allow_invite", "flags.0?true"],
        ["premium_required_for_pm", "flags.1?true"],
        ["user_id", "long"]
      ],
      "MissingInvitee"
    ],
    "messages.invitedUsers": [
      2136862630,
      [
        ["updates", "Updates"],
        ["missing_invitees", "Vector<MissingInvitee>"]
      ],
      "messages.InvitedUsers"
    ],
    inputBusinessChatLink: [
      292003751,
      [
        ["flags", "#"],
        ["message", "string"],
        ["entities", "flags.0?Vector<MessageEntity>"],
        ["title", "flags.1?string"]
      ],
      "InputBusinessChatLink"
    ],
    businessChatLink: [
      3031328367,
      [
        ["flags", "#"],
        ["link", "string"],
        ["message", "string"],
        ["entities", "flags.0?Vector<MessageEntity>"],
        ["title", "flags.1?string"],
        ["views", "int"]
      ],
      "BusinessChatLink"
    ],
    "account.businessChatLinks": [
      3963855569,
      [
        ["links", "Vector<BusinessChatLink>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "account.BusinessChatLinks"
    ],
    "account.resolvedBusinessChatLinks": [
      2586029857,
      [
        ["flags", "#"],
        ["peer", "Peer"],
        ["message", "string"],
        ["entities", "flags.0?Vector<MessageEntity>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "account.ResolvedBusinessChatLinks"
    ],
    requestedPeerUser: [
      3593466986,
      [
        ["flags", "#"],
        ["user_id", "long"],
        ["first_name", "flags.0?string"],
        ["last_name", "flags.0?string"],
        ["username", "flags.1?string"],
        ["photo", "flags.2?Photo"]
      ],
      "RequestedPeer"
    ],
    requestedPeerChat: [
      1929860175,
      [
        ["flags", "#"],
        ["chat_id", "long"],
        ["title", "flags.0?string"],
        ["photo", "flags.2?Photo"]
      ],
      "RequestedPeer"
    ],
    requestedPeerChannel: [
      2342781924,
      [
        ["flags", "#"],
        ["channel_id", "long"],
        ["title", "flags.0?string"],
        ["username", "flags.1?string"],
        ["photo", "flags.2?Photo"]
      ],
      "RequestedPeer"
    ],
    sponsoredMessageReportOption: [
      1124938064,
      [
        ["text", "string"],
        ["option", "bytes"]
      ],
      "SponsoredMessageReportOption"
    ],
    "channels.sponsoredMessageReportResultChooseOption": [
      2221907522,
      [
        ["title", "string"],
        ["options", "Vector<SponsoredMessageReportOption>"]
      ],
      "channels.SponsoredMessageReportResult"
    ],
    "channels.sponsoredMessageReportResultAdsHidden": [
      1044107055,
      [],
      "channels.SponsoredMessageReportResult"
    ],
    "channels.sponsoredMessageReportResultReported": [
      2910423113,
      [],
      "channels.SponsoredMessageReportResult"
    ],
    reactionNotificationsFromContacts: [
      3133384218,
      [],
      "ReactionNotificationsFrom"
    ],
    reactionNotificationsFromAll: [
      1268654752,
      [],
      "ReactionNotificationsFrom"
    ],
    reactionsNotifySettings: [
      1457736048,
      [
        ["flags", "#"],
        ["messages_notify_from", "flags.0?ReactionNotificationsFrom"],
        ["stories_notify_from", "flags.1?ReactionNotificationsFrom"],
        ["sound", "NotificationSound"],
        ["show_previews", "Bool"]
      ],
      "ReactionsNotifySettings"
    ],
    availableEffect: [
      2479088254,
      [
        ["flags", "#"],
        ["premium_required", "flags.2?true"],
        ["id", "long"],
        ["emoticon", "string"],
        ["static_icon_id", "flags.0?long"],
        ["effect_sticker_id", "long"],
        ["effect_animation_id", "flags.1?long"]
      ],
      "AvailableEffect"
    ],
    "messages.availableEffectsNotModified": [
      3522009691,
      [],
      "messages.AvailableEffects"
    ],
    "messages.availableEffects": [
      3185271150,
      [
        ["hash", "int"],
        ["effects", "Vector<AvailableEffect>"],
        ["documents", "Vector<Document>"]
      ],
      "messages.AvailableEffects"
    ],
    factCheck: [
      3097230543,
      [
        ["flags", "#"],
        ["need_check", "flags.0?true"],
        ["country", "flags.1?string"],
        ["text", "flags.1?TextWithEntities"],
        ["hash", "long"]
      ],
      "FactCheck"
    ],
    starsTransactionPeerUnsupported: [
      2515714020,
      [],
      "StarsTransactionPeer"
    ],
    starsTransactionPeerAppStore: [
      3025646453,
      [],
      "StarsTransactionPeer"
    ],
    starsTransactionPeerPlayMarket: [
      2069236235,
      [],
      "StarsTransactionPeer"
    ],
    starsTransactionPeerPremiumBot: [
      621656824,
      [],
      "StarsTransactionPeer"
    ],
    starsTransactionPeerFragment: [
      3912227074,
      [],
      "StarsTransactionPeer"
    ],
    starsTransactionPeer: [
      3624771933,
      [
        ["peer", "Peer"]
      ],
      "StarsTransactionPeer"
    ],
    starsTransactionPeerAds: [
      1617438738,
      [],
      "StarsTransactionPeer"
    ],
    starsTransactionPeerAPI: [
      4184308397,
      [],
      "StarsTransactionPeer"
    ],
    starsTopupOption: [
      198776256,
      [
        ["flags", "#"],
        ["extended", "flags.1?true"],
        ["stars", "long"],
        ["store_product", "flags.0?string"],
        ["currency", "string"],
        ["amount", "long"]
      ],
      "StarsTopupOption"
    ],
    starsTransaction: [
      325426864,
      [
        ["flags", "#"],
        ["refund", "flags.3?true"],
        ["pending", "flags.4?true"],
        ["failed", "flags.6?true"],
        ["gift", "flags.10?true"],
        ["reaction", "flags.11?true"],
        ["stargift_upgrade", "flags.18?true"],
        ["business_transfer", "flags.21?true"],
        ["stargift_resale", "flags.22?true"],
        ["posts_search", "flags.24?true"],
        ["stargift_prepaid_upgrade", "flags.25?true"],
        ["stargift_drop_original_details", "flags.26?true"],
        ["phonegroup_message", "flags.27?true"],
        ["stargift_auction_bid", "flags.28?true"],
        ["offer", "flags.29?true"],
        ["id", "string"],
        ["amount", "StarsAmount"],
        ["date", "int"],
        ["peer", "StarsTransactionPeer"],
        ["title", "flags.0?string"],
        ["description", "flags.1?string"],
        ["photo", "flags.2?WebDocument"],
        ["transaction_date", "flags.5?int"],
        ["transaction_url", "flags.5?string"],
        ["bot_payload", "flags.7?bytes"],
        ["msg_id", "flags.8?int"],
        ["extended_media", "flags.9?Vector<MessageMedia>"],
        ["subscription_period", "flags.12?int"],
        ["giveaway_post_id", "flags.13?int"],
        ["stargift", "flags.14?StarGift"],
        ["floodskip_number", "flags.15?int"],
        ["starref_commission_permille", "flags.16?int"],
        ["starref_peer", "flags.17?Peer"],
        ["starref_amount", "flags.17?StarsAmount"],
        ["paid_messages", "flags.19?int"],
        ["premium_gift_months", "flags.20?int"],
        ["ads_proceeds_from_date", "flags.23?int"],
        ["ads_proceeds_to_date", "flags.23?int"]
      ],
      "StarsTransaction"
    ],
    "payments.starsStatus": [
      1822222573,
      [
        ["flags", "#"],
        ["balance", "StarsAmount"],
        ["subscriptions", "flags.1?Vector<StarsSubscription>"],
        ["subscriptions_next_offset", "flags.2?string"],
        ["subscriptions_missing_balance", "flags.4?long"],
        ["history", "flags.3?Vector<StarsTransaction>"],
        ["next_offset", "flags.0?string"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "payments.StarsStatus"
    ],
    foundStory: [
      3900361664,
      [
        ["peer", "Peer"],
        ["story", "StoryItem"]
      ],
      "FoundStory"
    ],
    "stories.foundStories": [
      3806230327,
      [
        ["flags", "#"],
        ["count", "int"],
        ["stories", "Vector<FoundStory>"],
        ["next_offset", "flags.0?string"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "stories.FoundStories"
    ],
    geoPointAddress: [
      3729546643,
      [
        ["flags", "#"],
        ["country_iso2", "string"],
        ["state", "flags.0?string"],
        ["city", "flags.1?string"],
        ["street", "flags.2?string"]
      ],
      "GeoPointAddress"
    ],
    starsRevenueStatus: [
      4273886353,
      [
        ["flags", "#"],
        ["withdrawal_enabled", "flags.0?true"],
        ["current_balance", "StarsAmount"],
        ["available_balance", "StarsAmount"],
        ["overall_revenue", "StarsAmount"],
        ["next_withdrawal_at", "flags.1?int"]
      ],
      "StarsRevenueStatus"
    ],
    "payments.starsRevenueStats": [
      1814066038,
      [
        ["flags", "#"],
        ["top_hours_graph", "flags.0?StatsGraph"],
        ["revenue_graph", "StatsGraph"],
        ["status", "StarsRevenueStatus"],
        ["usd_rate", "double"]
      ],
      "payments.StarsRevenueStats"
    ],
    "payments.starsRevenueWithdrawalUrl": [
      497778871,
      [
        ["url", "string"]
      ],
      "payments.StarsRevenueWithdrawalUrl"
    ],
    "payments.starsRevenueAdsAccountUrl": [
      961445665,
      [
        ["url", "string"]
      ],
      "payments.StarsRevenueAdsAccountUrl"
    ],
    inputStarsTransaction: [
      543876817,
      [
        ["flags", "#"],
        ["refund", "flags.0?true"],
        ["id", "string"]
      ],
      "InputStarsTransaction"
    ],
    starsGiftOption: [
      1577421297,
      [
        ["flags", "#"],
        ["extended", "flags.1?true"],
        ["stars", "long"],
        ["store_product", "flags.0?string"],
        ["currency", "string"],
        ["amount", "long"]
      ],
      "StarsGiftOption"
    ],
    "bots.popularAppBots": [
      428978491,
      [
        ["flags", "#"],
        ["next_offset", "flags.0?string"],
        ["users", "Vector<User>"]
      ],
      "bots.PopularAppBots"
    ],
    botPreviewMedia: [
      602479523,
      [
        ["date", "int"],
        ["media", "MessageMedia"]
      ],
      "BotPreviewMedia"
    ],
    "bots.previewInfo": [
      212278628,
      [
        ["media", "Vector<BotPreviewMedia>"],
        ["lang_codes", "Vector<string>"]
      ],
      "bots.PreviewInfo"
    ],
    starsSubscriptionPricing: [
      88173912,
      [
        ["period", "int"],
        ["amount", "long"]
      ],
      "StarsSubscriptionPricing"
    ],
    starsSubscription: [
      779004698,
      [
        ["flags", "#"],
        ["canceled", "flags.0?true"],
        ["can_refulfill", "flags.1?true"],
        ["missing_balance", "flags.2?true"],
        ["bot_canceled", "flags.7?true"],
        ["id", "string"],
        ["peer", "Peer"],
        ["until_date", "int"],
        ["pricing", "StarsSubscriptionPricing"],
        ["chat_invite_hash", "flags.3?string"],
        ["title", "flags.4?string"],
        ["photo", "flags.5?WebDocument"],
        ["invoice_slug", "flags.6?string"]
      ],
      "StarsSubscription"
    ],
    messageReactor: [
      1269016922,
      [
        ["flags", "#"],
        ["top", "flags.0?true"],
        ["my", "flags.1?true"],
        ["anonymous", "flags.2?true"],
        ["peer_id", "flags.3?Peer"],
        ["count", "int"]
      ],
      "MessageReactor"
    ],
    starsGiveawayOption: [
      2496562474,
      [
        ["flags", "#"],
        ["extended", "flags.0?true"],
        ["default", "flags.1?true"],
        ["stars", "long"],
        ["yearly_boosts", "int"],
        ["store_product", "flags.2?string"],
        ["currency", "string"],
        ["amount", "long"],
        ["winners", "Vector<StarsGiveawayWinnersOption>"]
      ],
      "StarsGiveawayOption"
    ],
    starsGiveawayWinnersOption: [
      1411605001,
      [
        ["flags", "#"],
        ["default", "flags.0?true"],
        ["users", "int"],
        ["per_user_stars", "long"]
      ],
      "StarsGiveawayWinnersOption"
    ],
    starGift: [
      825922887,
      [
        ["flags", "#"],
        ["limited", "flags.0?true"],
        ["sold_out", "flags.1?true"],
        ["birthday", "flags.2?true"],
        ["require_premium", "flags.7?true"],
        ["limited_per_user", "flags.8?true"],
        ["peer_color_available", "flags.10?true"],
        ["auction", "flags.11?true"],
        ["id", "long"],
        ["sticker", "Document"],
        ["stars", "long"],
        ["availability_remains", "flags.0?int"],
        ["availability_total", "flags.0?int"],
        ["availability_resale", "flags.4?long"],
        ["convert_stars", "long"],
        ["first_sale_date", "flags.1?int"],
        ["last_sale_date", "flags.1?int"],
        ["upgrade_stars", "flags.3?long"],
        ["resell_min_stars", "flags.4?long"],
        ["title", "flags.5?string"],
        ["released_by", "flags.6?Peer"],
        ["per_user_total", "flags.8?int"],
        ["per_user_remains", "flags.8?int"],
        ["locked_until_date", "flags.9?int"],
        ["auction_slug", "flags.11?string"],
        ["gifts_per_round", "flags.11?int"],
        ["auction_start_date", "flags.11?int"],
        ["upgrade_variants", "flags.12?int"],
        ["background", "flags.13?StarGiftBackground"]
      ],
      "StarGift"
    ],
    starGiftUnique: [
      1453155529,
      [
        ["flags", "#"],
        ["require_premium", "flags.6?true"],
        ["resale_ton_only", "flags.7?true"],
        ["theme_available", "flags.9?true"],
        ["id", "long"],
        ["gift_id", "long"],
        ["title", "string"],
        ["slug", "string"],
        ["num", "int"],
        ["owner_id", "flags.0?Peer"],
        ["owner_name", "flags.1?string"],
        ["owner_address", "flags.2?string"],
        ["attributes", "Vector<StarGiftAttribute>"],
        ["availability_issued", "int"],
        ["availability_total", "int"],
        ["gift_address", "flags.3?string"],
        ["resell_amount", "flags.4?Vector<StarsAmount>"],
        ["released_by", "flags.5?Peer"],
        ["value_amount", "flags.8?long"],
        ["value_currency", "flags.8?string"],
        ["value_usd_amount", "flags.8?long"],
        ["theme_peer", "flags.10?Peer"],
        ["peer_color", "flags.11?PeerColor"],
        ["host_id", "flags.12?Peer"],
        ["offer_min_stars", "flags.13?int"]
      ],
      "StarGift"
    ],
    "payments.starGiftsNotModified": [
      2743640936,
      [],
      "payments.StarGifts"
    ],
    "payments.starGifts": [
      785918357,
      [
        ["hash", "int"],
        ["gifts", "Vector<StarGift>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "payments.StarGifts"
    ],
    messageReportOption: [
      2030298073,
      [
        ["text", "string"],
        ["option", "bytes"]
      ],
      "MessageReportOption"
    ],
    reportResultChooseOption: [
      4041531574,
      [
        ["title", "string"],
        ["options", "Vector<MessageReportOption>"]
      ],
      "ReportResult"
    ],
    reportResultAddComment: [
      1862904881,
      [
        ["flags", "#"],
        ["optional", "flags.0?true"],
        ["option", "bytes"]
      ],
      "ReportResult"
    ],
    reportResultReported: [
      2377333835,
      [],
      "ReportResult"
    ],
    "messages.botPreparedInlineMessage": [
      2395931921,
      [
        ["id", "string"],
        ["expire_date", "int"]
      ],
      "messages.BotPreparedInlineMessage"
    ],
    "messages.preparedInlineMessage": [
      4283920525,
      [
        ["query_id", "long"],
        ["result", "BotInlineResult"],
        ["peer_types", "Vector<InlineQueryPeerType>"],
        ["cache_time", "int"],
        ["users", "Vector<User>"]
      ],
      "messages.PreparedInlineMessage"
    ],
    botAppSettings: [
      3382384976,
      [
        ["flags", "#"],
        ["placeholder_path", "flags.0?bytes"],
        ["background_color", "flags.1?int"],
        ["background_dark_color", "flags.2?int"],
        ["header_color", "flags.3?int"],
        ["header_dark_color", "flags.4?int"]
      ],
      "BotAppSettings"
    ],
    starRefProgram: [
      3708577522,
      [
        ["flags", "#"],
        ["bot_id", "long"],
        ["commission_permille", "int"],
        ["duration_months", "flags.0?int"],
        ["end_date", "flags.1?int"],
        ["daily_revenue_per_user", "flags.2?StarsAmount"]
      ],
      "StarRefProgram"
    ],
    connectedBotStarRef: [
      429997937,
      [
        ["flags", "#"],
        ["revoked", "flags.1?true"],
        ["url", "string"],
        ["date", "int"],
        ["bot_id", "long"],
        ["commission_permille", "int"],
        ["duration_months", "flags.0?int"],
        ["participants", "long"],
        ["revenue", "long"]
      ],
      "ConnectedBotStarRef"
    ],
    "payments.connectedStarRefBots": [
      2564155933,
      [
        ["count", "int"],
        ["connected_bots", "Vector<ConnectedBotStarRef>"],
        ["users", "Vector<User>"]
      ],
      "payments.ConnectedStarRefBots"
    ],
    "payments.suggestedStarRefBots": [
      3033913433,
      [
        ["flags", "#"],
        ["count", "int"],
        ["suggested_bots", "Vector<StarRefProgram>"],
        ["users", "Vector<User>"],
        ["next_offset", "flags.0?string"]
      ],
      "payments.SuggestedStarRefBots"
    ],
    starsAmount: [
      3149313187,
      [
        ["amount", "long"],
        ["nanos", "int"]
      ],
      "StarsAmount"
    ],
    starsTonAmount: [
      1957618656,
      [
        ["amount", "long"]
      ],
      "StarsAmount"
    ],
    "messages.foundStickersNotModified": [
      1611711796,
      [
        ["flags", "#"],
        ["next_offset", "flags.0?int"]
      ],
      "messages.FoundStickers"
    ],
    "messages.foundStickers": [
      2194268816,
      [
        ["flags", "#"],
        ["next_offset", "flags.0?int"],
        ["hash", "long"],
        ["stickers", "Vector<Document>"]
      ],
      "messages.FoundStickers"
    ],
    botVerifierSettings: [
      2966251031,
      [
        ["flags", "#"],
        ["can_modify_custom_description", "flags.1?true"],
        ["icon", "long"],
        ["company", "string"],
        ["custom_description", "flags.0?string"]
      ],
      "BotVerifierSettings"
    ],
    botVerification: [
      4181513308,
      [
        ["bot_id", "long"],
        ["icon", "long"],
        ["description", "string"]
      ],
      "BotVerification"
    ],
    starGiftAttributeModel: [
      970559507,
      [
        ["name", "string"],
        ["document", "Document"],
        ["rarity_permille", "int"]
      ],
      "StarGiftAttribute"
    ],
    starGiftAttributePattern: [
      330104601,
      [
        ["name", "string"],
        ["document", "Document"],
        ["rarity_permille", "int"]
      ],
      "StarGiftAttribute"
    ],
    starGiftAttributeBackdrop: [
      3644687772,
      [
        ["name", "string"],
        ["backdrop_id", "int"],
        ["center_color", "int"],
        ["edge_color", "int"],
        ["pattern_color", "int"],
        ["text_color", "int"],
        ["rarity_permille", "int"]
      ],
      "StarGiftAttribute"
    ],
    starGiftAttributeOriginalDetails: [
      3770675820,
      [
        ["flags", "#"],
        ["sender_id", "flags.0?Peer"],
        ["recipient_id", "Peer"],
        ["date", "int"],
        ["message", "flags.1?TextWithEntities"]
      ],
      "StarGiftAttribute"
    ],
    "payments.starGiftUpgradePreview": [
      1038213101,
      [
        ["sample_attributes", "Vector<StarGiftAttribute>"],
        ["prices", "Vector<StarGiftUpgradePrice>"],
        ["next_prices", "Vector<StarGiftUpgradePrice>"]
      ],
      "payments.StarGiftUpgradePreview"
    ],
    "users.users": [
      1658259128,
      [
        ["users", "Vector<User>"]
      ],
      "users.Users"
    ],
    "users.usersSlice": [
      828000628,
      [
        ["count", "int"],
        ["users", "Vector<User>"]
      ],
      "users.Users"
    ],
    "payments.uniqueStarGift": [
      1097619176,
      [
        ["gift", "StarGift"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "payments.UniqueStarGift"
    ],
    "messages.webPagePreview": [
      2358937772,
      [
        ["media", "MessageMedia"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "messages.WebPagePreview"
    ],
    savedStarGift: [
      3939926110,
      [
        ["flags", "#"],
        ["name_hidden", "flags.0?true"],
        ["unsaved", "flags.5?true"],
        ["refunded", "flags.9?true"],
        ["can_upgrade", "flags.10?true"],
        ["pinned_to_top", "flags.12?true"],
        ["upgrade_separate", "flags.17?true"],
        ["from_id", "flags.1?Peer"],
        ["date", "int"],
        ["gift", "StarGift"],
        ["message", "flags.2?TextWithEntities"],
        ["msg_id", "flags.3?int"],
        ["saved_id", "flags.11?long"],
        ["convert_stars", "flags.4?long"],
        ["upgrade_stars", "flags.6?long"],
        ["can_export_at", "flags.7?int"],
        ["transfer_stars", "flags.8?long"],
        ["can_transfer_at", "flags.13?int"],
        ["can_resell_at", "flags.14?int"],
        ["collection_id", "flags.15?Vector<int>"],
        ["prepaid_upgrade_hash", "flags.16?string"],
        ["drop_original_details_stars", "flags.18?long"],
        ["gift_num", "flags.19?int"]
      ],
      "SavedStarGift"
    ],
    "payments.savedStarGifts": [
      2515765681,
      [
        ["flags", "#"],
        ["count", "int"],
        ["chat_notifications_enabled", "flags.1?Bool"],
        ["gifts", "Vector<SavedStarGift>"],
        ["next_offset", "flags.0?string"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "payments.SavedStarGifts"
    ],
    inputSavedStarGiftUser: [
      1764202389,
      [
        ["msg_id", "int"]
      ],
      "InputSavedStarGift"
    ],
    inputSavedStarGiftChat: [
      4043418239,
      [
        ["peer", "InputPeer"],
        ["saved_id", "long"]
      ],
      "InputSavedStarGift"
    ],
    inputSavedStarGiftSlug: [
      545636920,
      [
        ["slug", "string"]
      ],
      "InputSavedStarGift"
    ],
    "payments.starGiftWithdrawalUrl": [
      2225748636,
      [
        ["url", "string"]
      ],
      "payments.StarGiftWithdrawalUrl"
    ],
    paidReactionPrivacyDefault: [
      543872158,
      [],
      "PaidReactionPrivacy"
    ],
    paidReactionPrivacyAnonymous: [
      520887001,
      [],
      "PaidReactionPrivacy"
    ],
    paidReactionPrivacyPeer: [
      3698130160,
      [
        ["peer", "InputPeer"]
      ],
      "PaidReactionPrivacy"
    ],
    "account.paidMessagesRevenue": [
      504403720,
      [
        ["stars_amount", "long"]
      ],
      "account.PaidMessagesRevenue"
    ],
    requirementToContactEmpty: [
      84580409,
      [],
      "RequirementToContact"
    ],
    requirementToContactPremium: [
      3850495209,
      [],
      "RequirementToContact"
    ],
    requirementToContactPaidMessages: [
      3036053139,
      [
        ["stars_amount", "long"]
      ],
      "RequirementToContact"
    ],
    businessBotRights: [
      2690796791,
      [
        ["flags", "#"],
        ["reply", "flags.0?true"],
        ["read_messages", "flags.1?true"],
        ["delete_sent_messages", "flags.2?true"],
        ["delete_received_messages", "flags.3?true"],
        ["edit_name", "flags.4?true"],
        ["edit_bio", "flags.5?true"],
        ["edit_profile_photo", "flags.6?true"],
        ["edit_username", "flags.7?true"],
        ["view_gifts", "flags.8?true"],
        ["sell_gifts", "flags.9?true"],
        ["change_gift_settings", "flags.10?true"],
        ["transfer_and_upgrade_gifts", "flags.11?true"],
        ["transfer_stars", "flags.12?true"],
        ["manage_stories", "flags.13?true"]
      ],
      "BusinessBotRights"
    ],
    disallowedGiftsSettings: [
      1911715524,
      [
        ["flags", "#"],
        ["disallow_unlimited_stargifts", "flags.0?true"],
        ["disallow_limited_stargifts", "flags.1?true"],
        ["disallow_unique_stargifts", "flags.2?true"],
        ["disallow_premium_gifts", "flags.3?true"],
        ["disallow_stargifts_from_channels", "flags.4?true"]
      ],
      "DisallowedGiftsSettings"
    ],
    sponsoredPeer: [
      3331786963,
      [
        ["flags", "#"],
        ["random_id", "bytes"],
        ["peer", "Peer"],
        ["sponsor_info", "flags.0?string"],
        ["additional_info", "flags.1?string"]
      ],
      "SponsoredPeer"
    ],
    "contacts.sponsoredPeersEmpty": [
      3929191601,
      [],
      "contacts.SponsoredPeers"
    ],
    "contacts.sponsoredPeers": [
      3942852740,
      [
        ["peers", "Vector<SponsoredPeer>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "contacts.SponsoredPeers"
    ],
    starGiftAttributeIdModel: [
      1219145276,
      [
        ["document_id", "long"]
      ],
      "StarGiftAttributeId"
    ],
    starGiftAttributeIdPattern: [
      1242965043,
      [
        ["document_id", "long"]
      ],
      "StarGiftAttributeId"
    ],
    starGiftAttributeIdBackdrop: [
      520210263,
      [
        ["backdrop_id", "int"]
      ],
      "StarGiftAttributeId"
    ],
    starGiftAttributeCounter: [
      783398488,
      [
        ["attribute", "StarGiftAttributeId"],
        ["count", "int"]
      ],
      "StarGiftAttributeCounter"
    ],
    "payments.resaleStarGifts": [
      2491028191,
      [
        ["flags", "#"],
        ["count", "int"],
        ["gifts", "Vector<StarGift>"],
        ["next_offset", "flags.0?string"],
        ["attributes", "flags.1?Vector<StarGiftAttribute>"],
        ["attributes_hash", "flags.1?long"],
        ["chats", "Vector<Chat>"],
        ["counters", "flags.2?Vector<StarGiftAttributeCounter>"],
        ["users", "Vector<User>"]
      ],
      "payments.ResaleStarGifts"
    ],
    "stories.canSendStoryCount": [
      3280453710,
      [
        ["count_remains", "int"]
      ],
      "stories.CanSendStoryCount"
    ],
    pendingSuggestion: [
      3890753042,
      [
        ["suggestion", "string"],
        ["title", "TextWithEntities"],
        ["description", "TextWithEntities"],
        ["url", "string"]
      ],
      "PendingSuggestion"
    ],
    todoItem: [
      3416892719,
      [
        ["id", "int"],
        ["title", "TextWithEntities"]
      ],
      "TodoItem"
    ],
    todoList: [
      1236871718,
      [
        ["flags", "#"],
        ["others_can_append", "flags.0?true"],
        ["others_can_complete", "flags.1?true"],
        ["title", "TextWithEntities"],
        ["list", "Vector<TodoItem>"]
      ],
      "TodoList"
    ],
    todoCompletion: [
      572241380,
      [
        ["id", "int"],
        ["completed_by", "Peer"],
        ["date", "int"]
      ],
      "TodoCompletion"
    ],
    suggestedPost: [
      244201445,
      [
        ["flags", "#"],
        ["accepted", "flags.1?true"],
        ["rejected", "flags.2?true"],
        ["price", "flags.3?StarsAmount"],
        ["schedule_date", "flags.0?int"]
      ],
      "SuggestedPost"
    ],
    starsRating: [
      453922567,
      [
        ["flags", "#"],
        ["level", "int"],
        ["current_level_stars", "long"],
        ["stars", "long"],
        ["next_level_stars", "flags.0?long"]
      ],
      "StarsRating"
    ],
    starGiftCollection: [
      2641040304,
      [
        ["flags", "#"],
        ["collection_id", "int"],
        ["title", "string"],
        ["icon", "flags.0?Document"],
        ["gifts_count", "int"],
        ["hash", "long"]
      ],
      "StarGiftCollection"
    ],
    "payments.starGiftCollectionsNotModified": [
      2696564503,
      [],
      "payments.StarGiftCollections"
    ],
    "payments.starGiftCollections": [
      2317955827,
      [
        ["collections", "Vector<StarGiftCollection>"]
      ],
      "payments.StarGiftCollections"
    ],
    storyAlbum: [
      2468704346,
      [
        ["flags", "#"],
        ["album_id", "int"],
        ["title", "string"],
        ["icon_photo", "flags.0?Photo"],
        ["icon_video", "flags.1?Document"]
      ],
      "StoryAlbum"
    ],
    "stories.albumsNotModified": [
      1448008427,
      [],
      "stories.Albums"
    ],
    "stories.albums": [
      3281549882,
      [
        ["hash", "long"],
        ["albums", "Vector<StoryAlbum>"]
      ],
      "stories.Albums"
    ],
    searchPostsFlood: [
      1040931690,
      [
        ["flags", "#"],
        ["query_is_free", "flags.0?true"],
        ["total_daily", "int"],
        ["remains", "int"],
        ["wait_till", "flags.1?int"],
        ["stars_amount", "long"]
      ],
      "SearchPostsFlood"
    ],
    "payments.uniqueStarGiftValueInfo": [
      1362093126,
      [
        ["flags", "#"],
        ["last_sale_on_fragment", "flags.1?true"],
        ["value_is_average", "flags.6?true"],
        ["currency", "string"],
        ["value", "long"],
        ["initial_sale_date", "int"],
        ["initial_sale_stars", "long"],
        ["initial_sale_price", "long"],
        ["last_sale_date", "flags.0?int"],
        ["last_sale_price", "flags.0?long"],
        ["floor_price", "flags.2?long"],
        ["average_price", "flags.3?long"],
        ["listed_count", "flags.4?int"],
        ["fragment_listed_count", "flags.5?int"],
        ["fragment_listed_url", "flags.5?string"]
      ],
      "payments.UniqueStarGiftValueInfo"
    ],
    profileTabPosts: [
      3113014934,
      [],
      "ProfileTab"
    ],
    profileTabGifts: [
      1296815210,
      [],
      "ProfileTab"
    ],
    profileTabMedia: [
      1925597525,
      [],
      "ProfileTab"
    ],
    profileTabFiles: [
      2872286208,
      [],
      "ProfileTab"
    ],
    profileTabMusic: [
      2670187118,
      [],
      "ProfileTab"
    ],
    profileTabVoice: [
      3833006382,
      [],
      "ProfileTab"
    ],
    profileTabLinks: [
      3546637465,
      [],
      "ProfileTab"
    ],
    profileTabGifs: [
      2730555029,
      [],
      "ProfileTab"
    ],
    "users.savedMusicNotModified": [
      3817310884,
      [
        ["count", "int"]
      ],
      "users.SavedMusic"
    ],
    "users.savedMusic": [
      883094167,
      [
        ["count", "int"],
        ["documents", "Vector<Document>"]
      ],
      "users.SavedMusic"
    ],
    "account.savedMusicIdsNotModified": [
      1338514798,
      [],
      "account.SavedMusicIds"
    ],
    "account.savedMusicIds": [
      2576180790,
      [
        ["ids", "Vector<long>"]
      ],
      "account.SavedMusicIds"
    ],
    "payments.checkCanSendGiftResultOk": [
      927967149,
      [],
      "payments.CheckCanSendGiftResult"
    ],
    "payments.checkCanSendGiftResultFail": [
      3588588148,
      [
        ["reason", "TextWithEntities"]
      ],
      "payments.CheckCanSendGiftResult"
    ],
    inputChatThemeEmpty: [
      2200339587,
      [],
      "InputChatTheme"
    ],
    inputChatTheme: [
      3376277852,
      [
        ["emoticon", "string"]
      ],
      "InputChatTheme"
    ],
    inputChatThemeUniqueGift: [
      2279989220,
      [
        ["slug", "string"]
      ],
      "InputChatTheme"
    ],
    starGiftUpgradePrice: [
      2582262557,
      [
        ["date", "int"],
        ["upgrade_stars", "long"]
      ],
      "StarGiftUpgradePrice"
    ],
    groupCallMessage: [
      445316222,
      [
        ["flags", "#"],
        ["from_admin", "flags.1?true"],
        ["id", "int"],
        ["from_id", "Peer"],
        ["date", "int"],
        ["message", "TextWithEntities"],
        ["paid_message_stars", "flags.0?long"]
      ],
      "GroupCallMessage"
    ],
    groupCallDonor: [
      3997371525,
      [
        ["flags", "#"],
        ["top", "flags.0?true"],
        ["my", "flags.1?true"],
        ["peer_id", "flags.3?Peer"],
        ["stars", "long"]
      ],
      "GroupCallDonor"
    ],
    "phone.groupCallStars": [
      2635971878,
      [
        ["total_stars", "long"],
        ["top_donors", "Vector<GroupCallDonor>"],
        ["chats", "Vector<Chat>"],
        ["users", "Vector<User>"]
      ],
      "phone.GroupCallStars"
    ],
    recentStory: [
      1897752877,
      [
        ["flags", "#"],
        ["live", "flags.0?true"],
        ["max_id", "flags.1?int"]
      ],
      "RecentStory"
    ],
    auctionBidLevel: [
      822231244,
      [
        ["pos", "int"],
        ["amount", "long"],
        ["date", "int"]
      ],
      "AuctionBidLevel"
    ],
    starGiftAuctionStateNotModified: [
      4264769874,
      [],
      "StarGiftAuctionState"
    ],
    starGiftAuctionState: [
      1998212710,
      [
        ["version", "int"],
        ["start_date", "int"],
        ["end_date", "int"],
        ["min_bid_amount", "long"],
        ["bid_levels", "Vector<AuctionBidLevel>"],
        ["top_bidders", "Vector<long>"],
        ["next_round_at", "int"],
        ["last_gift_num", "int"],
        ["gifts_left", "int"],
        ["current_round", "int"],
        ["total_rounds", "int"],
        ["rounds", "Vector<StarGiftAuctionRound>"]
      ],
      "StarGiftAuctionState"
    ],
    starGiftAuctionStateFinished: [
      2536352703,
      [
        ["flags", "#"],
        ["start_date", "int"],
        ["end_date", "int"],
        ["average_price", "long"],
        ["listed_count", "flags.0?int"],
        ["fragment_listed_count", "flags.1?int"],
        ["fragment_listed_url", "flags.1?string"]
      ],
      "StarGiftAuctionState"
    ],
    starGiftAuctionUserState: [
      787403204,
      [
        ["flags", "#"],
        ["returned", "flags.1?true"],
        ["bid_amount", "flags.0?long"],
        ["bid_date", "flags.0?int"],
        ["min_bid_amount", "flags.0?long"],
        ["bid_peer", "flags.0?Peer"],
        ["acquired_count", "int"]
      ],
      "StarGiftAuctionUserState"
    ],
    "payments.starGiftAuctionState": [
      1798960364,
      [
        ["gift", "StarGift"],
        ["state", "StarGiftAuctionState"],
        ["user_state", "StarGiftAuctionUserState"],
        ["timeout", "int"],
        ["users", "Vector<User>"],
        ["chats", "Vector<Chat>"]
      ],
      "payments.StarGiftAuctionState"
    ],
    starGiftAuctionAcquiredGift: [
      1118831432,
      [
        ["flags", "#"],
        ["name_hidden", "flags.0?true"],
        ["peer", "Peer"],
        ["date", "int"],
        ["bid_amount", "long"],
        ["round", "int"],
        ["pos", "int"],
        ["message", "flags.1?TextWithEntities"],
        ["gift_num", "flags.2?int"]
      ],
      "StarGiftAuctionAcquiredGift"
    ],
    "payments.starGiftAuctionAcquiredGifts": [
      2103169520,
      [
        ["gifts", "Vector<StarGiftAuctionAcquiredGift>"],
        ["users", "Vector<User>"],
        ["chats", "Vector<Chat>"]
      ],
      "payments.StarGiftAuctionAcquiredGifts"
    ],
    starGiftActiveAuctionState: [
      3541812317,
      [
        ["gift", "StarGift"],
        ["state", "StarGiftAuctionState"],
        ["user_state", "StarGiftAuctionUserState"]
      ],
      "StarGiftActiveAuctionState"
    ],
    "payments.starGiftActiveAuctionsNotModified": [
      3677608656,
      [],
      "payments.StarGiftActiveAuctions"
    ],
    "payments.starGiftActiveAuctions": [
      2935401404,
      [
        ["auctions", "Vector<StarGiftActiveAuctionState>"],
        ["users", "Vector<User>"],
        ["chats", "Vector<Chat>"]
      ],
      "payments.StarGiftActiveAuctions"
    ],
    inputStarGiftAuction: [
      48327832,
      [
        ["gift_id", "long"]
      ],
      "InputStarGiftAuction"
    ],
    inputStarGiftAuctionSlug: [
      2058715912,
      [
        ["slug", "string"]
      ],
      "InputStarGiftAuction"
    ],
    passkey: [
      2556509887,
      [
        ["flags", "#"],
        ["id", "string"],
        ["name", "string"],
        ["date", "int"],
        ["software_emoji_id", "flags.0?long"],
        ["last_usage_date", "flags.1?int"]
      ],
      "Passkey"
    ],
    "account.passkeys": [
      4175473180,
      [
        ["passkeys", "Vector<Passkey>"]
      ],
      "account.Passkeys"
    ],
    "account.passkeyRegistrationOptions": [
      3781909729,
      [
        ["options", "DataJSON"]
      ],
      "account.PasskeyRegistrationOptions"
    ],
    "auth.passkeyLoginOptions": [
      3791878025,
      [
        ["options", "DataJSON"]
      ],
      "auth.PasskeyLoginOptions"
    ],
    inputPasskeyResponseRegister: [
      1046713180,
      [
        ["client_data", "DataJSON"],
        ["attestation_data", "bytes"]
      ],
      "InputPasskeyResponse"
    ],
    inputPasskeyResponseLogin: [
      3273638218,
      [
        ["client_data", "DataJSON"],
        ["authenticator_data", "bytes"],
        ["signature", "bytes"],
        ["user_handle", "string"]
      ],
      "InputPasskeyResponse"
    ],
    inputPasskeyCredentialPublicKey: [
      1009235855,
      [
        ["id", "string"],
        ["raw_id", "string"],
        ["response", "InputPasskeyResponse"]
      ],
      "InputPasskeyCredential"
    ],
    inputPasskeyCredentialFirebasePNV: [
      1528613672,
      [
        ["pnv_token", "string"]
      ],
      "InputPasskeyCredential"
    ],
    starGiftBackground: [
      2952094616,
      [
        ["center_color", "int"],
        ["edge_color", "int"],
        ["text_color", "int"]
      ],
      "StarGiftBackground"
    ],
    starGiftAuctionRound: [
      984483112,
      [
        ["num", "int"],
        ["duration", "int"]
      ],
      "StarGiftAuctionRound"
    ],
    starGiftAuctionRoundExtendable: [
      178266597,
      [
        ["num", "int"],
        ["duration", "int"],
        ["extend_top", "int"],
        ["extend_window", "int"]
      ],
      "StarGiftAuctionRound"
    ],
    "payments.starGiftUpgradeAttributes": [
      1187439471,
      [
        ["attributes", "Vector<StarGiftAttribute>"]
      ],
      "payments.StarGiftUpgradeAttributes"
    ],
    "messages.emojiGameOutcome": [
      3660240455,
      [
        ["seed", "bytes"],
        ["stake_ton_amount", "long"],
        ["ton_amount", "long"]
      ],
      "messages.EmojiGameOutcome"
    ],
    "messages.emojiGameUnavailable": [
      1508266805,
      [],
      "messages.EmojiGameInfo"
    ],
    "messages.emojiGameDiceInfo": [
      1155883043,
      [
        ["flags", "#"],
        ["game_hash", "string"],
        ["prev_stake", "long"],
        ["current_streak", "int"],
        ["params", "Vector<int>"],
        ["plays_left", "flags.0?int"]
      ],
      "messages.EmojiGameInfo"
    ],
    invokeWithBusinessConnectionPrefix: [
      3710427022,
      [
        ["connection_id", "string"]
      ],
      "Error"
    ],
    invokeWithGooglePlayIntegrityPrefix: [
      502868356,
      [
        ["nonce", "string"],
        ["token", "string"]
      ],
      "Error"
    ],
    invokeWithApnsSecretPrefix: [
      229528824,
      [
        ["nonce", "string"],
        ["secret", "string"]
      ],
      "Error"
    ],
    invokeWithReCaptchaPrefix: [
      2914717588,
      [
        ["token", "string"]
      ],
      "Error"
    ],
    invokeAfterMsg: [
      3416209197,
      [
        ["msg_id", "long"],
        ["query", "!X"]
      ],
      "X"
    ],
    invokeAfterMsgs: [
      1036301552,
      [
        ["msg_ids", "Vector<long>"],
        ["query", "!X"]
      ],
      "X"
    ],
    initConnection: [
      3251461801,
      [
        ["flags", "#"],
        ["api_id", "int"],
        ["device_model", "string"],
        ["system_version", "string"],
        ["app_version", "string"],
        ["system_lang_code", "string"],
        ["lang_pack", "string"],
        ["lang_code", "string"],
        ["proxy", "flags.0?InputClientProxy"],
        ["params", "flags.1?JSONValue"],
        ["query", "!X"]
      ],
      "X"
    ],
    invokeWithLayer: [
      3667594509,
      [
        ["layer", "int"],
        ["query", "!X"]
      ],
      "X"
    ],
    invokeWithoutUpdates: [
      3214170551,
      [
        ["query", "!X"]
      ],
      "X"
    ],
    invokeWithMessagesRange: [
      911373810,
      [
        ["range", "MessageRange"],
        ["query", "!X"]
      ],
      "X"
    ],
    invokeWithTakeout: [
      2896821550,
      [
        ["takeout_id", "long"],
        ["query", "!X"]
      ],
      "X"
    ],
    invokeWithBusinessConnection: [
      3710427022,
      [
        ["connection_id", "string"],
        ["query", "!X"]
      ],
      "X"
    ],
    invokeWithGooglePlayIntegrity: [
      502868356,
      [
        ["nonce", "string"],
        ["token", "string"],
        ["query", "!X"]
      ],
      "X"
    ],
    invokeWithApnsSecret: [
      229528824,
      [
        ["nonce", "string"],
        ["secret", "string"],
        ["query", "!X"]
      ],
      "X"
    ],
    invokeWithReCaptcha: [
      2914717588,
      [
        ["token", "string"],
        ["query", "!X"]
      ],
      "X"
    ],
    "auth.sendCode": [
      2792825935,
      [
        ["phone_number", "string"],
        ["api_id", "int"],
        ["api_hash", "string"],
        ["settings", "CodeSettings"]
      ],
      "auth.SentCode"
    ],
    "auth.signUp": [
      2865215255,
      [
        ["flags", "#"],
        ["no_joined_notifications", "flags.0?true"],
        ["phone_number", "string"],
        ["phone_code_hash", "string"],
        ["first_name", "string"],
        ["last_name", "string"]
      ],
      "auth.Authorization"
    ],
    "auth.signIn": [
      2371004753,
      [
        ["flags", "#"],
        ["phone_number", "string"],
        ["phone_code_hash", "string"],
        ["phone_code", "flags.0?string"],
        ["email_verification", "flags.1?EmailVerification"]
      ],
      "auth.Authorization"
    ],
    "auth.logOut": [
      1047706137,
      [],
      "auth.LoggedOut"
    ],
    "auth.resetAuthorizations": [
      2678787354,
      [],
      "Bool"
    ],
    "auth.exportAuthorization": [
      3854565325,
      [
        ["dc_id", "int"]
      ],
      "auth.ExportedAuthorization"
    ],
    "auth.importAuthorization": [
      2776268205,
      [
        ["id", "long"],
        ["bytes", "bytes"]
      ],
      "auth.Authorization"
    ],
    "auth.bindTempAuthKey": [
      3453233669,
      [
        ["perm_auth_key_id", "long"],
        ["nonce", "long"],
        ["expires_at", "int"],
        ["encrypted_message", "bytes"]
      ],
      "Bool"
    ],
    "auth.importBotAuthorization": [
      1738800940,
      [
        ["flags", "int"],
        ["api_id", "int"],
        ["api_hash", "string"],
        ["bot_auth_token", "string"]
      ],
      "auth.Authorization"
    ],
    "auth.checkPassword": [
      3515567382,
      [
        ["password", "InputCheckPasswordSRP"]
      ],
      "auth.Authorization"
    ],
    "auth.requestPasswordRecovery": [
      3633822822,
      [],
      "auth.PasswordRecovery"
    ],
    "auth.recoverPassword": [
      923364464,
      [
        ["flags", "#"],
        ["code", "string"],
        ["new_settings", "flags.0?account.PasswordInputSettings"]
      ],
      "auth.Authorization"
    ],
    "auth.resendCode": [
      3403969827,
      [
        ["flags", "#"],
        ["phone_number", "string"],
        ["phone_code_hash", "string"],
        ["reason", "flags.0?string"]
      ],
      "auth.SentCode"
    ],
    "auth.cancelCode": [
      520357240,
      [
        ["phone_number", "string"],
        ["phone_code_hash", "string"]
      ],
      "Bool"
    ],
    "auth.dropTempAuthKeys": [
      2387124616,
      [
        ["except_auth_keys", "Vector<long>"]
      ],
      "Bool"
    ],
    "auth.exportLoginToken": [
      3084944894,
      [
        ["api_id", "int"],
        ["api_hash", "string"],
        ["except_ids", "Vector<long>"]
      ],
      "auth.LoginToken"
    ],
    "auth.importLoginToken": [
      2511101156,
      [
        ["token", "bytes"]
      ],
      "auth.LoginToken"
    ],
    "auth.acceptLoginToken": [
      3902057805,
      [
        ["token", "bytes"]
      ],
      "Authorization"
    ],
    "auth.checkRecoveryPassword": [
      221691769,
      [
        ["code", "string"]
      ],
      "Bool"
    ],
    "auth.importWebTokenAuthorization": [
      767062953,
      [
        ["api_id", "int"],
        ["api_hash", "string"],
        ["web_auth_token", "string"]
      ],
      "auth.Authorization"
    ],
    "auth.requestFirebaseSms": [
      2386109982,
      [
        ["flags", "#"],
        ["phone_number", "string"],
        ["phone_code_hash", "string"],
        ["safety_net_token", "flags.0?string"],
        ["play_integrity_token", "flags.2?string"],
        ["ios_push_secret", "flags.1?string"]
      ],
      "Bool"
    ],
    "auth.resetLoginEmail": [
      2123760019,
      [
        ["phone_number", "string"],
        ["phone_code_hash", "string"]
      ],
      "auth.SentCode"
    ],
    "auth.reportMissingCode": [
      3416125430,
      [
        ["phone_number", "string"],
        ["phone_code_hash", "string"],
        ["mnc", "string"]
      ],
      "Bool"
    ],
    "auth.checkPaidAuth": [
      1457889180,
      [
        ["phone_number", "string"],
        ["phone_code_hash", "string"],
        ["form_id", "long"]
      ],
      "auth.SentCode"
    ],
    "auth.initPasskeyLogin": [
      1368051895,
      [
        ["api_id", "int"],
        ["api_hash", "string"]
      ],
      "auth.PasskeyLoginOptions"
    ],
    "auth.finishPasskeyLogin": [
      2555882759,
      [
        ["flags", "#"],
        ["credential", "InputPasskeyCredential"],
        ["from_dc_id", "flags.0?int"],
        ["from_auth_key_id", "flags.0?long"]
      ],
      "auth.Authorization"
    ],
    "account.registerDevice": [
      3968205178,
      [
        ["flags", "#"],
        ["no_muted", "flags.0?true"],
        ["token_type", "int"],
        ["token", "string"],
        ["app_sandbox", "Bool"],
        ["secret", "bytes"],
        ["other_uids", "Vector<long>"]
      ],
      "Bool"
    ],
    "account.unregisterDevice": [
      1779249670,
      [
        ["token_type", "int"],
        ["token", "string"],
        ["other_uids", "Vector<long>"]
      ],
      "Bool"
    ],
    "account.updateNotifySettings": [
      2227067795,
      [
        ["peer", "InputNotifyPeer"],
        ["settings", "InputPeerNotifySettings"]
      ],
      "Bool"
    ],
    "account.getNotifySettings": [
      313765169,
      [
        ["peer", "InputNotifyPeer"]
      ],
      "PeerNotifySettings"
    ],
    "account.resetNotifySettings": [
      3682473799,
      [],
      "Bool"
    ],
    "account.updateProfile": [
      2018596725,
      [
        ["flags", "#"],
        ["first_name", "flags.0?string"],
        ["last_name", "flags.1?string"],
        ["about", "flags.2?string"]
      ],
      "User"
    ],
    "account.updateStatus": [
      1713919532,
      [
        ["offline", "Bool"]
      ],
      "Bool"
    ],
    "account.getWallPapers": [
      127302966,
      [
        ["hash", "long"]
      ],
      "account.WallPapers"
    ],
    "account.reportPeer": [
      3317316998,
      [
        ["peer", "InputPeer"],
        ["reason", "ReportReason"],
        ["message", "string"]
      ],
      "Bool"
    ],
    "account.checkUsername": [
      655677548,
      [
        ["username", "string"]
      ],
      "Bool"
    ],
    "account.updateUsername": [
      1040964988,
      [
        ["username", "string"]
      ],
      "User"
    ],
    "account.getPrivacy": [
      3671837008,
      [
        ["key", "InputPrivacyKey"]
      ],
      "account.PrivacyRules"
    ],
    "account.setPrivacy": [
      3388480744,
      [
        ["key", "InputPrivacyKey"],
        ["rules", "Vector<InputPrivacyRule>"]
      ],
      "account.PrivacyRules"
    ],
    "account.deleteAccount": [
      2730545012,
      [
        ["flags", "#"],
        ["reason", "string"],
        ["password", "flags.0?InputCheckPasswordSRP"]
      ],
      "Bool"
    ],
    "account.getAccountTTL": [
      150761757,
      [],
      "AccountDaysTTL"
    ],
    "account.setAccountTTL": [
      608323678,
      [
        ["ttl", "AccountDaysTTL"]
      ],
      "Bool"
    ],
    "account.sendChangePhoneCode": [
      2186758885,
      [
        ["phone_number", "string"],
        ["settings", "CodeSettings"]
      ],
      "auth.SentCode"
    ],
    "account.changePhone": [
      1891839707,
      [
        ["phone_number", "string"],
        ["phone_code_hash", "string"],
        ["phone_code", "string"]
      ],
      "User"
    ],
    "account.updateDeviceLocked": [
      954152242,
      [
        ["period", "int"]
      ],
      "Bool"
    ],
    "account.getAuthorizations": [
      3810574680,
      [],
      "account.Authorizations"
    ],
    "account.resetAuthorization": [
      3749180348,
      [
        ["hash", "long"]
      ],
      "Bool"
    ],
    "account.getPassword": [
      1418342645,
      [],
      "account.Password"
    ],
    "account.getPasswordSettings": [
      2631199481,
      [
        ["password", "InputCheckPasswordSRP"]
      ],
      "account.PasswordSettings"
    ],
    "account.updatePasswordSettings": [
      2778402863,
      [
        ["password", "InputCheckPasswordSRP"],
        ["new_settings", "account.PasswordInputSettings"]
      ],
      "Bool"
    ],
    "account.sendConfirmPhoneCode": [
      457157256,
      [
        ["hash", "string"],
        ["settings", "CodeSettings"]
      ],
      "auth.SentCode"
    ],
    "account.confirmPhone": [
      1596029123,
      [
        ["phone_code_hash", "string"],
        ["phone_code", "string"]
      ],
      "Bool"
    ],
    "account.getTmpPassword": [
      1151208273,
      [
        ["password", "InputCheckPasswordSRP"],
        ["period", "int"]
      ],
      "account.TmpPassword"
    ],
    "account.getWebAuthorizations": [
      405695855,
      [],
      "account.WebAuthorizations"
    ],
    "account.resetWebAuthorization": [
      755087855,
      [
        ["hash", "long"]
      ],
      "Bool"
    ],
    "account.resetWebAuthorizations": [
      1747789204,
      [],
      "Bool"
    ],
    "account.getAllSecureValues": [
      2995305597,
      [],
      "Vector<SecureValue>"
    ],
    "account.getSecureValue": [
      1936088002,
      [
        ["types", "Vector<SecureValueType>"]
      ],
      "Vector<SecureValue>"
    ],
    "account.saveSecureValue": [
      2308956957,
      [
        ["value", "InputSecureValue"],
        ["secure_secret_id", "long"]
      ],
      "SecureValue"
    ],
    "account.deleteSecureValue": [
      3095444555,
      [
        ["types", "Vector<SecureValueType>"]
      ],
      "Bool"
    ],
    "account.getAuthorizationForm": [
      2838059386,
      [
        ["bot_id", "long"],
        ["scope", "string"],
        ["public_key", "string"]
      ],
      "account.AuthorizationForm"
    ],
    "account.acceptAuthorization": [
      4092415091,
      [
        ["bot_id", "long"],
        ["scope", "string"],
        ["public_key", "string"],
        ["value_hashes", "Vector<SecureValueHash>"],
        ["credentials", "SecureCredentialsEncrypted"]
      ],
      "Bool"
    ],
    "account.sendVerifyPhoneCode": [
      2778945273,
      [
        ["phone_number", "string"],
        ["settings", "CodeSettings"]
      ],
      "auth.SentCode"
    ],
    "account.verifyPhone": [
      1305716726,
      [
        ["phone_number", "string"],
        ["phone_code_hash", "string"],
        ["phone_code", "string"]
      ],
      "Bool"
    ],
    "account.sendVerifyEmailCode": [
      2564831163,
      [
        ["purpose", "EmailVerifyPurpose"],
        ["email", "string"]
      ],
      "account.SentEmailCode"
    ],
    "account.verifyEmail": [
      53322959,
      [
        ["purpose", "EmailVerifyPurpose"],
        ["verification", "EmailVerification"]
      ],
      "account.EmailVerified"
    ],
    "account.initTakeoutSession": [
      239835e4,
      [
        ["flags", "#"],
        ["contacts", "flags.0?true"],
        ["message_users", "flags.1?true"],
        ["message_chats", "flags.2?true"],
        ["message_megagroups", "flags.3?true"],
        ["message_channels", "flags.4?true"],
        ["files", "flags.5?true"],
        ["file_max_size", "flags.5?long"]
      ],
      "account.Takeout"
    ],
    "account.finishTakeoutSession": [
      489050862,
      [
        ["flags", "#"],
        ["success", "flags.0?true"]
      ],
      "Bool"
    ],
    "account.confirmPasswordEmail": [
      2413762848,
      [
        ["code", "string"]
      ],
      "Bool"
    ],
    "account.resendPasswordEmail": [
      2055154197,
      [],
      "Bool"
    ],
    "account.cancelPasswordEmail": [
      3251361206,
      [],
      "Bool"
    ],
    "account.getContactSignUpNotification": [
      2668087080,
      [],
      "Bool"
    ],
    "account.setContactSignUpNotification": [
      3488890721,
      [
        ["silent", "Bool"]
      ],
      "Bool"
    ],
    "account.getNotifyExceptions": [
      1398240377,
      [
        ["flags", "#"],
        ["compare_sound", "flags.1?true"],
        ["compare_stories", "flags.2?true"],
        ["peer", "flags.0?InputNotifyPeer"]
      ],
      "Updates"
    ],
    "account.getWallPaper": [
      4237155306,
      [
        ["wallpaper", "InputWallPaper"]
      ],
      "WallPaper"
    ],
    "account.uploadWallPaper": [
      3818557187,
      [
        ["flags", "#"],
        ["for_chat", "flags.0?true"],
        ["file", "InputFile"],
        ["mime_type", "string"],
        ["settings", "WallPaperSettings"]
      ],
      "WallPaper"
    ],
    "account.saveWallPaper": [
      1817860919,
      [
        ["wallpaper", "InputWallPaper"],
        ["unsave", "Bool"],
        ["settings", "WallPaperSettings"]
      ],
      "Bool"
    ],
    "account.installWallPaper": [
      4276967273,
      [
        ["wallpaper", "InputWallPaper"],
        ["settings", "WallPaperSettings"]
      ],
      "Bool"
    ],
    "account.resetWallPapers": [
      3141244932,
      [],
      "Bool"
    ],
    "account.getAutoDownloadSettings": [
      1457130303,
      [],
      "account.AutoDownloadSettings"
    ],
    "account.saveAutoDownloadSettings": [
      1995661875,
      [
        ["flags", "#"],
        ["low", "flags.0?true"],
        ["high", "flags.1?true"],
        ["settings", "AutoDownloadSettings"]
      ],
      "Bool"
    ],
    "account.uploadTheme": [
      473805619,
      [
        ["flags", "#"],
        ["file", "InputFile"],
        ["thumb", "flags.0?InputFile"],
        ["file_name", "string"],
        ["mime_type", "string"]
      ],
      "Document"
    ],
    "account.createTheme": [
      1697530880,
      [
        ["flags", "#"],
        ["slug", "string"],
        ["title", "string"],
        ["document", "flags.2?InputDocument"],
        ["settings", "flags.3?Vector<InputThemeSettings>"]
      ],
      "Theme"
    ],
    "account.updateTheme": [
      737414348,
      [
        ["flags", "#"],
        ["format", "string"],
        ["theme", "InputTheme"],
        ["slug", "flags.0?string"],
        ["title", "flags.1?string"],
        ["document", "flags.2?InputDocument"],
        ["settings", "flags.3?Vector<InputThemeSettings>"]
      ],
      "Theme"
    ],
    "account.saveTheme": [
      4065792108,
      [
        ["theme", "InputTheme"],
        ["unsave", "Bool"]
      ],
      "Bool"
    ],
    "account.installTheme": [
      3341269819,
      [
        ["flags", "#"],
        ["dark", "flags.0?true"],
        ["theme", "flags.1?InputTheme"],
        ["format", "flags.2?string"],
        ["base_theme", "flags.3?BaseTheme"]
      ],
      "Bool"
    ],
    "account.getTheme": [
      978872812,
      [
        ["format", "string"],
        ["theme", "InputTheme"]
      ],
      "Theme"
    ],
    "account.getThemes": [
      1913054296,
      [
        ["format", "string"],
        ["hash", "long"]
      ],
      "account.Themes"
    ],
    "account.setContentSettings": [
      3044323691,
      [
        ["flags", "#"],
        ["sensitive_enabled", "flags.0?true"]
      ],
      "Bool"
    ],
    "account.getContentSettings": [
      2342210990,
      [],
      "account.ContentSettings"
    ],
    "account.getMultiWallPapers": [
      1705865692,
      [
        ["wallpapers", "Vector<InputWallPaper>"]
      ],
      "Vector<WallPaper>"
    ],
    "account.getGlobalPrivacySettings": [
      3945483510,
      [],
      "GlobalPrivacySettings"
    ],
    "account.setGlobalPrivacySettings": [
      517647042,
      [
        ["settings", "GlobalPrivacySettings"]
      ],
      "GlobalPrivacySettings"
    ],
    "account.reportProfilePhoto": [
      4203529973,
      [
        ["peer", "InputPeer"],
        ["photo_id", "InputPhoto"],
        ["reason", "ReportReason"],
        ["message", "string"]
      ],
      "Bool"
    ],
    "account.resetPassword": [
      2466827803,
      [],
      "account.ResetPasswordResult"
    ],
    "account.declinePasswordReset": [
      1284770294,
      [],
      "Bool"
    ],
    "account.getChatThemes": [
      3594051209,
      [
        ["hash", "long"]
      ],
      "account.Themes"
    ],
    "account.setAuthorizationTTL": [
      3213466272,
      [
        ["authorization_ttl_days", "int"]
      ],
      "Bool"
    ],
    "account.changeAuthorizationSettings": [
      1089766498,
      [
        ["flags", "#"],
        ["confirmed", "flags.3?true"],
        ["hash", "long"],
        ["encrypted_requests_disabled", "flags.0?Bool"],
        ["call_requests_disabled", "flags.1?Bool"]
      ],
      "Bool"
    ],
    "account.getSavedRingtones": [
      3784319624,
      [
        ["hash", "long"]
      ],
      "account.SavedRingtones"
    ],
    "account.saveRingtone": [
      1038768899,
      [
        ["id", "InputDocument"],
        ["unsave", "Bool"]
      ],
      "account.SavedRingtone"
    ],
    "account.uploadRingtone": [
      2199552930,
      [
        ["file", "InputFile"],
        ["file_name", "string"],
        ["mime_type", "string"]
      ],
      "Document"
    ],
    "account.updateEmojiStatus": [
      4224966251,
      [
        ["emoji_status", "EmojiStatus"]
      ],
      "Bool"
    ],
    "account.getDefaultEmojiStatuses": [
      3598005126,
      [
        ["hash", "long"]
      ],
      "account.EmojiStatuses"
    ],
    "account.getRecentEmojiStatuses": [
      257392901,
      [
        ["hash", "long"]
      ],
      "account.EmojiStatuses"
    ],
    "account.clearRecentEmojiStatuses": [
      404757166,
      [],
      "Bool"
    ],
    "account.reorderUsernames": [
      4015001259,
      [
        ["order", "Vector<string>"]
      ],
      "Bool"
    ],
    "account.toggleUsername": [
      1490465654,
      [
        ["username", "string"],
        ["active", "Bool"]
      ],
      "Bool"
    ],
    "account.getDefaultProfilePhotoEmojis": [
      3799319336,
      [
        ["hash", "long"]
      ],
      "EmojiList"
    ],
    "account.getDefaultGroupPhotoEmojis": [
      2438488238,
      [
        ["hash", "long"]
      ],
      "EmojiList"
    ],
    "account.getAutoSaveSettings": [
      2915810522,
      [],
      "account.AutoSaveSettings"
    ],
    "account.saveAutoSaveSettings": [
      3600515937,
      [
        ["flags", "#"],
        ["users", "flags.0?true"],
        ["chats", "flags.1?true"],
        ["broadcasts", "flags.2?true"],
        ["peer", "flags.3?InputPeer"],
        ["settings", "AutoSaveSettings"]
      ],
      "Bool"
    ],
    "account.deleteAutoSaveExceptions": [
      1404829728,
      [],
      "Bool"
    ],
    "account.invalidateSignInCodes": [
      3398101178,
      [
        ["codes", "Vector<string>"]
      ],
      "Bool"
    ],
    "account.updateColor": [
      1749885262,
      [
        ["flags", "#"],
        ["for_profile", "flags.1?true"],
        ["color", "flags.2?PeerColor"]
      ],
      "Bool"
    ],
    "account.getDefaultBackgroundEmojis": [
      2785720782,
      [
        ["hash", "long"]
      ],
      "EmojiList"
    ],
    "account.getChannelDefaultEmojiStatuses": [
      1999087573,
      [
        ["hash", "long"]
      ],
      "account.EmojiStatuses"
    ],
    "account.getChannelRestrictedStatusEmojis": [
      900325589,
      [
        ["hash", "long"]
      ],
      "EmojiList"
    ],
    "account.updateBusinessWorkHours": [
      1258348646,
      [
        ["flags", "#"],
        ["business_work_hours", "flags.0?BusinessWorkHours"]
      ],
      "Bool"
    ],
    "account.updateBusinessLocation": [
      2657817370,
      [
        ["flags", "#"],
        ["geo_point", "flags.1?InputGeoPoint"],
        ["address", "flags.0?string"]
      ],
      "Bool"
    ],
    "account.updateBusinessGreetingMessage": [
      1724755908,
      [
        ["flags", "#"],
        ["message", "flags.0?InputBusinessGreetingMessage"]
      ],
      "Bool"
    ],
    "account.updateBusinessAwayMessage": [
      2724888485,
      [
        ["flags", "#"],
        ["message", "flags.0?InputBusinessAwayMessage"]
      ],
      "Bool"
    ],
    "account.updateConnectedBot": [
      1721797758,
      [
        ["flags", "#"],
        ["deleted", "flags.1?true"],
        ["rights", "flags.0?BusinessBotRights"],
        ["bot", "InputUser"],
        ["recipients", "InputBusinessBotRecipients"]
      ],
      "Updates"
    ],
    "account.getConnectedBots": [
      1319421967,
      [],
      "account.ConnectedBots"
    ],
    "account.getBotBusinessConnection": [
      1990746736,
      [
        ["connection_id", "string"]
      ],
      "Updates"
    ],
    "account.updateBusinessIntro": [
      2786381876,
      [
        ["flags", "#"],
        ["intro", "flags.0?InputBusinessIntro"]
      ],
      "Bool"
    ],
    "account.toggleConnectedBotPaused": [
      1684934807,
      [
        ["peer", "InputPeer"],
        ["paused", "Bool"]
      ],
      "Bool"
    ],
    "account.disablePeerConnectedBot": [
      1581481689,
      [
        ["peer", "InputPeer"]
      ],
      "Bool"
    ],
    "account.updateBirthday": [
      3429764113,
      [
        ["flags", "#"],
        ["birthday", "flags.0?Birthday"]
      ],
      "Bool"
    ],
    "account.createBusinessChatLink": [
      2287068814,
      [
        ["link", "InputBusinessChatLink"]
      ],
      "BusinessChatLink"
    ],
    "account.editBusinessChatLink": [
      2352222383,
      [
        ["slug", "string"],
        ["link", "InputBusinessChatLink"]
      ],
      "BusinessChatLink"
    ],
    "account.deleteBusinessChatLink": [
      1611085428,
      [
        ["slug", "string"]
      ],
      "Bool"
    ],
    "account.getBusinessChatLinks": [
      1869667809,
      [],
      "account.BusinessChatLinks"
    ],
    "account.resolveBusinessChatLink": [
      1418913262,
      [
        ["slug", "string"]
      ],
      "account.ResolvedBusinessChatLinks"
    ],
    "account.updatePersonalChannel": [
      3645048288,
      [
        ["channel", "InputChannel"]
      ],
      "Bool"
    ],
    "account.toggleSponsoredMessages": [
      3118048141,
      [
        ["enabled", "Bool"]
      ],
      "Bool"
    ],
    "account.getReactionsNotifySettings": [
      115172684,
      [],
      "ReactionsNotifySettings"
    ],
    "account.setReactionsNotifySettings": [
      829220168,
      [
        ["settings", "ReactionsNotifySettings"]
      ],
      "ReactionsNotifySettings"
    ],
    "account.getCollectibleEmojiStatuses": [
      779830595,
      [
        ["hash", "long"]
      ],
      "account.EmojiStatuses"
    ],
    "account.getPaidMessagesRevenue": [
      431639143,
      [
        ["flags", "#"],
        ["parent_peer", "flags.0?InputPeer"],
        ["user_id", "InputUser"]
      ],
      "account.PaidMessagesRevenue"
    ],
    "account.toggleNoPaidMessagesException": [
      4264483446,
      [
        ["flags", "#"],
        ["refund_charged", "flags.0?true"],
        ["require_payment", "flags.2?true"],
        ["parent_peer", "flags.1?InputPeer"],
        ["user_id", "InputUser"]
      ],
      "Bool"
    ],
    "account.setMainProfileTab": [
      1575909552,
      [
        ["tab", "ProfileTab"]
      ],
      "Bool"
    ],
    "account.saveMusic": [
      2993107625,
      [
        ["flags", "#"],
        ["unsave", "flags.0?true"],
        ["id", "InputDocument"],
        ["after_id", "flags.1?InputDocument"]
      ],
      "Bool"
    ],
    "account.getSavedMusicIds": [
      3768410031,
      [
        ["hash", "long"]
      ],
      "account.SavedMusicIds"
    ],
    "account.getUniqueGiftChatThemes": [
      3828148681,
      [
        ["offset", "string"],
        ["limit", "int"],
        ["hash", "long"]
      ],
      "account.ChatThemes"
    ],
    "account.initPasskeyRegistration": [
      1117079528,
      [],
      "account.PasskeyRegistrationOptions"
    ],
    "account.registerPasskey": [
      1437867990,
      [
        ["credential", "InputPasskeyCredential"]
      ],
      "Passkey"
    ],
    "account.getPasskeys": [
      3927903314,
      [],
      "account.Passkeys"
    ],
    "account.deletePasskey": [
      4122302015,
      [
        ["id", "string"]
      ],
      "Bool"
    ],
    "users.getUsers": [
      227648840,
      [
        ["id", "Vector<InputUser>"]
      ],
      "Vector<User>"
    ],
    "users.getFullUser": [
      3054459160,
      [
        ["id", "InputUser"]
      ],
      "users.UserFull"
    ],
    "users.setSecureValueErrors": [
      2429064373,
      [
        ["id", "InputUser"],
        ["errors", "Vector<SecureValueError>"]
      ],
      "Bool"
    ],
    "users.getRequirementsToContact": [
      3634004899,
      [
        ["id", "Vector<InputUser>"]
      ],
      "Vector<RequirementToContact>"
    ],
    "users.getSavedMusic": [
      2022539235,
      [
        ["id", "InputUser"],
        ["offset", "int"],
        ["limit", "int"],
        ["hash", "long"]
      ],
      "users.SavedMusic"
    ],
    "users.getSavedMusicByID": [
      1970513129,
      [
        ["id", "InputUser"],
        ["documents", "Vector<InputDocument>"]
      ],
      "users.SavedMusic"
    ],
    "users.suggestBirthday": [
      4233311090,
      [
        ["id", "InputUser"],
        ["birthday", "Birthday"]
      ],
      "Updates"
    ],
    "contacts.getContactIDs": [
      2061264541,
      [
        ["hash", "long"]
      ],
      "Vector<int>"
    ],
    "contacts.getStatuses": [
      3299038190,
      [],
      "Vector<ContactStatus>"
    ],
    "contacts.getContacts": [
      1574346258,
      [
        ["hash", "long"]
      ],
      "contacts.Contacts"
    ],
    "contacts.importContacts": [
      746589157,
      [
        ["contacts", "Vector<InputContact>"]
      ],
      "contacts.ImportedContacts"
    ],
    "contacts.deleteContacts": [
      157945344,
      [
        ["id", "Vector<InputUser>"]
      ],
      "Updates"
    ],
    "contacts.deleteByPhones": [
      269745566,
      [
        ["phones", "Vector<string>"]
      ],
      "Bool"
    ],
    "contacts.block": [
      774801204,
      [
        ["flags", "#"],
        ["my_stories_from", "flags.0?true"],
        ["id", "InputPeer"]
      ],
      "Bool"
    ],
    "contacts.unblock": [
      3041973032,
      [
        ["flags", "#"],
        ["my_stories_from", "flags.0?true"],
        ["id", "InputPeer"]
      ],
      "Bool"
    ],
    "contacts.getBlocked": [
      2592509824,
      [
        ["flags", "#"],
        ["my_stories_from", "flags.0?true"],
        ["offset", "int"],
        ["limit", "int"]
      ],
      "contacts.Blocked"
    ],
    "contacts.search": [
      301470424,
      [
        ["q", "string"],
        ["limit", "int"]
      ],
      "contacts.Found"
    ],
    "contacts.resolveUsername": [
      1918565308,
      [
        ["flags", "#"],
        ["username", "string"],
        ["referer", "flags.0?string"]
      ],
      "contacts.ResolvedPeer"
    ],
    "contacts.getTopPeers": [
      2536798390,
      [
        ["flags", "#"],
        ["correspondents", "flags.0?true"],
        ["bots_pm", "flags.1?true"],
        ["bots_inline", "flags.2?true"],
        ["phone_calls", "flags.3?true"],
        ["forward_users", "flags.4?true"],
        ["forward_chats", "flags.5?true"],
        ["groups", "flags.10?true"],
        ["channels", "flags.15?true"],
        ["bots_app", "flags.16?true"],
        ["offset", "int"],
        ["limit", "int"],
        ["hash", "long"]
      ],
      "contacts.TopPeers"
    ],
    "contacts.resetTopPeerRating": [
      451113900,
      [
        ["category", "TopPeerCategory"],
        ["peer", "InputPeer"]
      ],
      "Bool"
    ],
    "contacts.resetSaved": [
      2274703345,
      [],
      "Bool"
    ],
    "contacts.getSaved": [
      2196890527,
      [],
      "Vector<SavedContact>"
    ],
    "contacts.toggleTopPeers": [
      2232729050,
      [
        ["enabled", "Bool"]
      ],
      "Bool"
    ],
    "contacts.addContact": [
      3652857428,
      [
        ["flags", "#"],
        ["add_phone_privacy_exception", "flags.0?true"],
        ["id", "InputUser"],
        ["first_name", "string"],
        ["last_name", "string"],
        ["phone", "string"],
        ["note", "flags.1?TextWithEntities"]
      ],
      "Updates"
    ],
    "contacts.acceptContact": [
      4164002319,
      [
        ["id", "InputUser"]
      ],
      "Updates"
    ],
    "contacts.getLocated": [
      3544759364,
      [
        ["flags", "#"],
        ["background", "flags.1?true"],
        ["geo_point", "InputGeoPoint"],
        ["self_expires", "flags.0?int"]
      ],
      "Updates"
    ],
    "contacts.blockFromReplies": [
      698914348,
      [
        ["flags", "#"],
        ["delete_message", "flags.0?true"],
        ["delete_history", "flags.1?true"],
        ["report_spam", "flags.2?true"],
        ["msg_id", "int"]
      ],
      "Updates"
    ],
    "contacts.resolvePhone": [
      2331591492,
      [
        ["phone", "string"]
      ],
      "contacts.ResolvedPeer"
    ],
    "contacts.exportContactToken": [
      4167385127,
      [],
      "ExportedContactToken"
    ],
    "contacts.importContactToken": [
      318789512,
      [
        ["token", "string"]
      ],
      "User"
    ],
    "contacts.editCloseFriends": [
      3127313904,
      [
        ["id", "Vector<long>"]
      ],
      "Bool"
    ],
    "contacts.setBlocked": [
      2496027766,
      [
        ["flags", "#"],
        ["my_stories_from", "flags.0?true"],
        ["id", "Vector<InputPeer>"],
        ["limit", "int"]
      ],
      "Bool"
    ],
    "contacts.getBirthdays": [
      3673008228,
      [],
      "contacts.ContactBirthdays"
    ],
    "contacts.getSponsoredPeers": [
      3066610579,
      [
        ["q", "string"]
      ],
      "contacts.SponsoredPeers"
    ],
    "contacts.updateContactNote": [
      329212923,
      [
        ["id", "InputUser"],
        ["note", "TextWithEntities"]
      ],
      "Bool"
    ],
    "messages.getMessages": [
      1673946374,
      [
        ["id", "Vector<InputMessage>"]
      ],
      "messages.Messages"
    ],
    "messages.getDialogs": [
      2700397391,
      [
        ["flags", "#"],
        ["exclude_pinned", "flags.0?true"],
        ["folder_id", "flags.1?int"],
        ["offset_date", "int"],
        ["offset_id", "int"],
        ["offset_peer", "InputPeer"],
        ["limit", "int"],
        ["hash", "long"]
      ],
      "messages.Dialogs"
    ],
    "messages.getHistory": [
      1143203525,
      [
        ["peer", "InputPeer"],
        ["offset_id", "int"],
        ["offset_date", "int"],
        ["add_offset", "int"],
        ["limit", "int"],
        ["max_id", "int"],
        ["min_id", "int"],
        ["hash", "long"]
      ],
      "messages.Messages"
    ],
    "messages.search": [
      703497338,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["q", "string"],
        ["from_id", "flags.0?InputPeer"],
        ["saved_peer_id", "flags.2?InputPeer"],
        ["saved_reaction", "flags.3?Vector<Reaction>"],
        ["top_msg_id", "flags.1?int"],
        ["filter", "MessagesFilter"],
        ["min_date", "int"],
        ["max_date", "int"],
        ["offset_id", "int"],
        ["add_offset", "int"],
        ["limit", "int"],
        ["max_id", "int"],
        ["min_id", "int"],
        ["hash", "long"]
      ],
      "messages.Messages"
    ],
    "messages.readHistory": [
      238054714,
      [
        ["peer", "InputPeer"],
        ["max_id", "int"]
      ],
      "messages.AffectedMessages"
    ],
    "messages.deleteHistory": [
      2962199082,
      [
        ["flags", "#"],
        ["just_clear", "flags.0?true"],
        ["revoke", "flags.1?true"],
        ["peer", "InputPeer"],
        ["max_id", "int"],
        ["min_date", "flags.2?int"],
        ["max_date", "flags.3?int"]
      ],
      "messages.AffectedHistory"
    ],
    "messages.deleteMessages": [
      3851326930,
      [
        ["flags", "#"],
        ["revoke", "flags.0?true"],
        ["id", "Vector<int>"]
      ],
      "messages.AffectedMessages"
    ],
    "messages.receivedMessages": [
      94983360,
      [
        ["max_id", "int"]
      ],
      "Vector<ReceivedNotifyMessage>"
    ],
    "messages.setTyping": [
      1486110434,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["top_msg_id", "flags.0?int"],
        ["action", "SendMessageAction"]
      ],
      "Bool"
    ],
    "messages.sendMessage": [
      1415369050,
      [
        ["flags", "#"],
        ["no_webpage", "flags.1?true"],
        ["silent", "flags.5?true"],
        ["background", "flags.6?true"],
        ["clear_draft", "flags.7?true"],
        ["noforwards", "flags.14?true"],
        ["update_stickersets_order", "flags.15?true"],
        ["invert_media", "flags.16?true"],
        ["allow_paid_floodskip", "flags.19?true"],
        ["peer", "InputPeer"],
        ["reply_to", "flags.0?InputReplyTo"],
        ["message", "string"],
        ["random_id", "long"],
        ["reply_markup", "flags.2?ReplyMarkup"],
        ["entities", "flags.3?Vector<MessageEntity>"],
        ["schedule_date", "flags.10?int"],
        ["schedule_repeat_period", "flags.24?int"],
        ["send_as", "flags.13?InputPeer"],
        ["quick_reply_shortcut", "flags.17?InputQuickReplyShortcut"],
        ["effect", "flags.18?long"],
        ["allow_paid_stars", "flags.21?long"],
        ["suggested_post", "flags.22?SuggestedPost"]
      ],
      "Updates"
    ],
    "messages.sendMedia": [
      53536639,
      [
        ["flags", "#"],
        ["silent", "flags.5?true"],
        ["background", "flags.6?true"],
        ["clear_draft", "flags.7?true"],
        ["noforwards", "flags.14?true"],
        ["update_stickersets_order", "flags.15?true"],
        ["invert_media", "flags.16?true"],
        ["allow_paid_floodskip", "flags.19?true"],
        ["peer", "InputPeer"],
        ["reply_to", "flags.0?InputReplyTo"],
        ["media", "InputMedia"],
        ["message", "string"],
        ["random_id", "long"],
        ["reply_markup", "flags.2?ReplyMarkup"],
        ["entities", "flags.3?Vector<MessageEntity>"],
        ["schedule_date", "flags.10?int"],
        ["schedule_repeat_period", "flags.24?int"],
        ["send_as", "flags.13?InputPeer"],
        ["quick_reply_shortcut", "flags.17?InputQuickReplyShortcut"],
        ["effect", "flags.18?long"],
        ["allow_paid_stars", "flags.21?long"],
        ["suggested_post", "flags.22?SuggestedPost"]
      ],
      "Updates"
    ],
    "messages.forwardMessages": [
      326126204,
      [
        ["flags", "#"],
        ["silent", "flags.5?true"],
        ["background", "flags.6?true"],
        ["with_my_score", "flags.8?true"],
        ["drop_author", "flags.11?true"],
        ["drop_media_captions", "flags.12?true"],
        ["noforwards", "flags.14?true"],
        ["allow_paid_floodskip", "flags.19?true"],
        ["from_peer", "InputPeer"],
        ["id", "Vector<int>"],
        ["random_id", "Vector<long>"],
        ["to_peer", "InputPeer"],
        ["top_msg_id", "flags.9?int"],
        ["reply_to", "flags.22?InputReplyTo"],
        ["schedule_date", "flags.10?int"],
        ["schedule_repeat_period", "flags.24?int"],
        ["send_as", "flags.13?InputPeer"],
        ["quick_reply_shortcut", "flags.17?InputQuickReplyShortcut"],
        ["effect", "flags.18?long"],
        ["video_timestamp", "flags.20?int"],
        ["allow_paid_stars", "flags.21?long"],
        ["suggested_post", "flags.23?SuggestedPost"]
      ],
      "Updates"
    ],
    "messages.reportSpam": [
      3474297563,
      [
        ["peer", "InputPeer"]
      ],
      "Bool"
    ],
    "messages.getPeerSettings": [
      4024018594,
      [
        ["peer", "InputPeer"]
      ],
      "messages.PeerSettings"
    ],
    "messages.report": [
      4235767707,
      [
        ["peer", "InputPeer"],
        ["id", "Vector<int>"],
        ["option", "bytes"],
        ["message", "string"]
      ],
      "ReportResult"
    ],
    "messages.getChats": [
      1240027791,
      [
        ["id", "Vector<long>"]
      ],
      "messages.Chats"
    ],
    "messages.getFullChat": [
      2930772788,
      [
        ["chat_id", "long"]
      ],
      "messages.ChatFull"
    ],
    "messages.editChatTitle": [
      1937260541,
      [
        ["chat_id", "long"],
        ["title", "string"]
      ],
      "Updates"
    ],
    "messages.editChatPhoto": [
      903730804,
      [
        ["chat_id", "long"],
        ["photo", "InputChatPhoto"]
      ],
      "Updates"
    ],
    "messages.addChatUser": [
      3418804487,
      [
        ["chat_id", "long"],
        ["user_id", "InputUser"],
        ["fwd_limit", "int"]
      ],
      "messages.InvitedUsers"
    ],
    "messages.deleteChatUser": [
      2719505579,
      [
        ["flags", "#"],
        ["revoke_history", "flags.0?true"],
        ["chat_id", "long"],
        ["user_id", "InputUser"]
      ],
      "Updates"
    ],
    "messages.createChat": [
      2463030740,
      [
        ["flags", "#"],
        ["users", "Vector<InputUser>"],
        ["title", "string"],
        ["ttl_period", "flags.0?int"]
      ],
      "messages.InvitedUsers"
    ],
    "messages.getDhConfig": [
      651135312,
      [
        ["version", "int"],
        ["random_length", "int"]
      ],
      "messages.DhConfig"
    ],
    "messages.requestEncryption": [
      4132286275,
      [
        ["user_id", "InputUser"],
        ["random_id", "int"],
        ["g_a", "bytes"]
      ],
      "EncryptedChat"
    ],
    "messages.acceptEncryption": [
      1035731989,
      [
        ["peer", "InputEncryptedChat"],
        ["g_b", "bytes"],
        ["key_fingerprint", "long"]
      ],
      "EncryptedChat"
    ],
    "messages.discardEncryption": [
      4086541984,
      [
        ["flags", "#"],
        ["delete_history", "flags.0?true"],
        ["chat_id", "int"]
      ],
      "Bool"
    ],
    "messages.setEncryptedTyping": [
      2031374829,
      [
        ["peer", "InputEncryptedChat"],
        ["typing", "Bool"]
      ],
      "Bool"
    ],
    "messages.readEncryptedHistory": [
      2135648522,
      [
        ["peer", "InputEncryptedChat"],
        ["max_date", "int"]
      ],
      "Bool"
    ],
    "messages.sendEncrypted": [
      1157265941,
      [
        ["flags", "#"],
        ["silent", "flags.0?true"],
        ["peer", "InputEncryptedChat"],
        ["random_id", "long"],
        ["data", "bytes"]
      ],
      "messages.SentEncryptedMessage"
    ],
    "messages.sendEncryptedFile": [
      1431914525,
      [
        ["flags", "#"],
        ["silent", "flags.0?true"],
        ["peer", "InputEncryptedChat"],
        ["random_id", "long"],
        ["data", "bytes"],
        ["file", "InputEncryptedFile"]
      ],
      "messages.SentEncryptedMessage"
    ],
    "messages.sendEncryptedService": [
      852769188,
      [
        ["peer", "InputEncryptedChat"],
        ["random_id", "long"],
        ["data", "bytes"]
      ],
      "messages.SentEncryptedMessage"
    ],
    "messages.receivedQueue": [
      1436924774,
      [
        ["max_qts", "int"]
      ],
      "Vector<long>"
    ],
    "messages.reportEncryptedSpam": [
      1259113487,
      [
        ["peer", "InputEncryptedChat"]
      ],
      "Bool"
    ],
    "messages.readMessageContents": [
      916930423,
      [
        ["id", "Vector<int>"]
      ],
      "messages.AffectedMessages"
    ],
    "messages.getStickers": [
      3584414625,
      [
        ["emoticon", "string"],
        ["hash", "long"]
      ],
      "messages.Stickers"
    ],
    "messages.getAllStickers": [
      3097534888,
      [
        ["hash", "long"]
      ],
      "messages.AllStickers"
    ],
    "messages.getWebPagePreview": [
      1460498287,
      [
        ["flags", "#"],
        ["message", "string"],
        ["entities", "flags.3?Vector<MessageEntity>"]
      ],
      "messages.WebPagePreview"
    ],
    "messages.exportChatInvite": [
      2757090960,
      [
        ["flags", "#"],
        ["legacy_revoke_permanent", "flags.2?true"],
        ["request_needed", "flags.3?true"],
        ["peer", "InputPeer"],
        ["expire_date", "flags.0?int"],
        ["usage_limit", "flags.1?int"],
        ["title", "flags.4?string"],
        ["subscription_pricing", "flags.5?StarsSubscriptionPricing"]
      ],
      "ExportedChatInvite"
    ],
    "messages.checkChatInvite": [
      1051570619,
      [
        ["hash", "string"]
      ],
      "ChatInvite"
    ],
    "messages.importChatInvite": [
      1817183516,
      [
        ["hash", "string"]
      ],
      "Updates"
    ],
    "messages.getStickerSet": [
      3365989492,
      [
        ["stickerset", "InputStickerSet"],
        ["hash", "int"]
      ],
      "messages.StickerSet"
    ],
    "messages.installStickerSet": [
      3348096096,
      [
        ["stickerset", "InputStickerSet"],
        ["archived", "Bool"]
      ],
      "messages.StickerSetInstallResult"
    ],
    "messages.uninstallStickerSet": [
      4184757726,
      [
        ["stickerset", "InputStickerSet"]
      ],
      "Bool"
    ],
    "messages.startBot": [
      3873403768,
      [
        ["bot", "InputUser"],
        ["peer", "InputPeer"],
        ["random_id", "long"],
        ["start_param", "string"]
      ],
      "Updates"
    ],
    "messages.getMessagesViews": [
      1468322785,
      [
        ["peer", "InputPeer"],
        ["id", "Vector<int>"],
        ["increment", "Bool"]
      ],
      "messages.MessageViews"
    ],
    "messages.editChatAdmin": [
      2824589762,
      [
        ["chat_id", "long"],
        ["user_id", "InputUser"],
        ["is_admin", "Bool"]
      ],
      "Bool"
    ],
    "messages.migrateChat": [
      2726777625,
      [
        ["chat_id", "long"]
      ],
      "Updates"
    ],
    "messages.searchGlobal": [
      1271290010,
      [
        ["flags", "#"],
        ["broadcasts_only", "flags.1?true"],
        ["groups_only", "flags.2?true"],
        ["users_only", "flags.3?true"],
        ["folder_id", "flags.0?int"],
        ["q", "string"],
        ["filter", "MessagesFilter"],
        ["min_date", "int"],
        ["max_date", "int"],
        ["offset_rate", "int"],
        ["offset_peer", "InputPeer"],
        ["offset_id", "int"],
        ["limit", "int"]
      ],
      "messages.Messages"
    ],
    "messages.reorderStickerSets": [
      2016638777,
      [
        ["flags", "#"],
        ["masks", "flags.0?true"],
        ["emojis", "flags.1?true"],
        ["order", "Vector<long>"]
      ],
      "Bool"
    ],
    "messages.getDocumentByHash": [
      2985428511,
      [
        ["sha256", "bytes"],
        ["size", "long"],
        ["mime_type", "string"]
      ],
      "Document"
    ],
    "messages.getSavedGifs": [
      1559270965,
      [
        ["hash", "long"]
      ],
      "messages.SavedGifs"
    ],
    "messages.saveGif": [
      846868683,
      [
        ["id", "InputDocument"],
        ["unsave", "Bool"]
      ],
      "Bool"
    ],
    "messages.getInlineBotResults": [
      1364105629,
      [
        ["flags", "#"],
        ["bot", "InputUser"],
        ["peer", "InputPeer"],
        ["geo_point", "flags.0?InputGeoPoint"],
        ["query", "string"],
        ["offset", "string"]
      ],
      "messages.BotResults"
    ],
    "messages.setInlineBotResults": [
      3138561049,
      [
        ["flags", "#"],
        ["gallery", "flags.0?true"],
        ["private", "flags.1?true"],
        ["query_id", "long"],
        ["results", "Vector<InputBotInlineResult>"],
        ["cache_time", "int"],
        ["next_offset", "flags.2?string"],
        ["switch_pm", "flags.3?InlineBotSwitchPM"],
        ["switch_webview", "flags.4?InlineBotWebView"]
      ],
      "Bool"
    ],
    "messages.sendInlineBotResult": [
      3234821702,
      [
        ["flags", "#"],
        ["silent", "flags.5?true"],
        ["background", "flags.6?true"],
        ["clear_draft", "flags.7?true"],
        ["hide_via", "flags.11?true"],
        ["peer", "InputPeer"],
        ["reply_to", "flags.0?InputReplyTo"],
        ["random_id", "long"],
        ["query_id", "long"],
        ["id", "string"],
        ["schedule_date", "flags.10?int"],
        ["send_as", "flags.13?InputPeer"],
        ["quick_reply_shortcut", "flags.17?InputQuickReplyShortcut"],
        ["allow_paid_stars", "flags.21?long"]
      ],
      "Updates"
    ],
    "messages.getMessageEditData": [
      4255550774,
      [
        ["peer", "InputPeer"],
        ["id", "int"]
      ],
      "messages.MessageEditData"
    ],
    "messages.editMessage": [
      1374175969,
      [
        ["flags", "#"],
        ["no_webpage", "flags.1?true"],
        ["invert_media", "flags.16?true"],
        ["peer", "InputPeer"],
        ["id", "int"],
        ["message", "flags.11?string"],
        ["media", "flags.14?InputMedia"],
        ["reply_markup", "flags.2?ReplyMarkup"],
        ["entities", "flags.3?Vector<MessageEntity>"],
        ["schedule_date", "flags.15?int"],
        ["schedule_repeat_period", "flags.18?int"],
        ["quick_reply_shortcut_id", "flags.17?int"]
      ],
      "Updates"
    ],
    "messages.editInlineBotMessage": [
      2203418042,
      [
        ["flags", "#"],
        ["no_webpage", "flags.1?true"],
        ["invert_media", "flags.16?true"],
        ["id", "InputBotInlineMessageID"],
        ["message", "flags.11?string"],
        ["media", "flags.14?InputMedia"],
        ["reply_markup", "flags.2?ReplyMarkup"],
        ["entities", "flags.3?Vector<MessageEntity>"]
      ],
      "Bool"
    ],
    "messages.getBotCallbackAnswer": [
      2470627847,
      [
        ["flags", "#"],
        ["game", "flags.1?true"],
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["data", "flags.0?bytes"],
        ["password", "flags.2?InputCheckPasswordSRP"]
      ],
      "messages.BotCallbackAnswer"
    ],
    "messages.setBotCallbackAnswer": [
      3582923530,
      [
        ["flags", "#"],
        ["alert", "flags.1?true"],
        ["query_id", "long"],
        ["message", "flags.0?string"],
        ["url", "flags.2?string"],
        ["cache_time", "int"]
      ],
      "Bool"
    ],
    "messages.getPeerDialogs": [
      3832593661,
      [
        ["peers", "Vector<InputDialogPeer>"]
      ],
      "messages.PeerDialogs"
    ],
    "messages.saveDraft": [
      1420701838,
      [
        ["flags", "#"],
        ["no_webpage", "flags.1?true"],
        ["invert_media", "flags.6?true"],
        ["reply_to", "flags.4?InputReplyTo"],
        ["peer", "InputPeer"],
        ["message", "string"],
        ["entities", "flags.3?Vector<MessageEntity>"],
        ["media", "flags.5?InputMedia"],
        ["effect", "flags.7?long"],
        ["suggested_post", "flags.8?SuggestedPost"]
      ],
      "Bool"
    ],
    "messages.getAllDrafts": [
      1782549861,
      [],
      "Updates"
    ],
    "messages.getFeaturedStickers": [
      1685588756,
      [
        ["hash", "long"]
      ],
      "messages.FeaturedStickers"
    ],
    "messages.readFeaturedStickers": [
      1527873830,
      [
        ["id", "Vector<long>"]
      ],
      "Bool"
    ],
    "messages.getRecentStickers": [
      2645114939,
      [
        ["flags", "#"],
        ["attached", "flags.0?true"],
        ["hash", "long"]
      ],
      "messages.RecentStickers"
    ],
    "messages.saveRecentSticker": [
      958863608,
      [
        ["flags", "#"],
        ["attached", "flags.0?true"],
        ["id", "InputDocument"],
        ["unsave", "Bool"]
      ],
      "Bool"
    ],
    "messages.clearRecentStickers": [
      2308530221,
      [
        ["flags", "#"],
        ["attached", "flags.0?true"]
      ],
      "Bool"
    ],
    "messages.getArchivedStickers": [
      1475442322,
      [
        ["flags", "#"],
        ["masks", "flags.0?true"],
        ["emojis", "flags.1?true"],
        ["offset_id", "long"],
        ["limit", "int"]
      ],
      "messages.ArchivedStickers"
    ],
    "messages.getMaskStickers": [
      1678738104,
      [
        ["hash", "long"]
      ],
      "messages.AllStickers"
    ],
    "messages.getAttachedStickers": [
      3428542412,
      [
        ["media", "InputStickeredMedia"]
      ],
      "Vector<StickerSetCovered>"
    ],
    "messages.setGameScore": [
      2398678208,
      [
        ["flags", "#"],
        ["edit_message", "flags.0?true"],
        ["force", "flags.1?true"],
        ["peer", "InputPeer"],
        ["id", "int"],
        ["user_id", "InputUser"],
        ["score", "int"]
      ],
      "Updates"
    ],
    "messages.setInlineGameScore": [
      363700068,
      [
        ["flags", "#"],
        ["edit_message", "flags.0?true"],
        ["force", "flags.1?true"],
        ["id", "InputBotInlineMessageID"],
        ["user_id", "InputUser"],
        ["score", "int"]
      ],
      "Bool"
    ],
    "messages.getGameHighScores": [
      3894568093,
      [
        ["peer", "InputPeer"],
        ["id", "int"],
        ["user_id", "InputUser"]
      ],
      "messages.HighScores"
    ],
    "messages.getInlineGameHighScores": [
      258170395,
      [
        ["id", "InputBotInlineMessageID"],
        ["user_id", "InputUser"]
      ],
      "messages.HighScores"
    ],
    "messages.getCommonChats": [
      3826032900,
      [
        ["user_id", "InputUser"],
        ["max_id", "long"],
        ["limit", "int"]
      ],
      "messages.Chats"
    ],
    "messages.getWebPage": [
      2375455395,
      [
        ["url", "string"],
        ["hash", "int"]
      ],
      "messages.WebPage"
    ],
    "messages.toggleDialogPin": [
      2805064279,
      [
        ["flags", "#"],
        ["pinned", "flags.0?true"],
        ["peer", "InputDialogPeer"]
      ],
      "Bool"
    ],
    "messages.reorderPinnedDialogs": [
      991616823,
      [
        ["flags", "#"],
        ["force", "flags.0?true"],
        ["folder_id", "int"],
        ["order", "Vector<InputDialogPeer>"]
      ],
      "Bool"
    ],
    "messages.getPinnedDialogs": [
      3602468338,
      [
        ["folder_id", "int"]
      ],
      "messages.PeerDialogs"
    ],
    "messages.setBotShippingResults": [
      3858133754,
      [
        ["flags", "#"],
        ["query_id", "long"],
        ["error", "flags.0?string"],
        ["shipping_options", "flags.1?Vector<ShippingOption>"]
      ],
      "Bool"
    ],
    "messages.setBotPrecheckoutResults": [
      163765653,
      [
        ["flags", "#"],
        ["success", "flags.1?true"],
        ["query_id", "long"],
        ["error", "flags.0?string"]
      ],
      "Bool"
    ],
    "messages.uploadMedia": [
      345405816,
      [
        ["flags", "#"],
        ["business_connection_id", "flags.0?string"],
        ["peer", "InputPeer"],
        ["media", "InputMedia"]
      ],
      "MessageMedia"
    ],
    "messages.sendScreenshotNotification": [
      2705348631,
      [
        ["peer", "InputPeer"],
        ["reply_to", "InputReplyTo"],
        ["random_id", "long"]
      ],
      "Updates"
    ],
    "messages.getFavedStickers": [
      82946729,
      [
        ["hash", "long"]
      ],
      "messages.FavedStickers"
    ],
    "messages.faveSticker": [
      3120547163,
      [
        ["id", "InputDocument"],
        ["unfave", "Bool"]
      ],
      "Bool"
    ],
    "messages.getUnreadMentions": [
      4043827088,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["top_msg_id", "flags.0?int"],
        ["offset_id", "int"],
        ["add_offset", "int"],
        ["limit", "int"],
        ["max_id", "int"],
        ["min_id", "int"]
      ],
      "messages.Messages"
    ],
    "messages.readMentions": [
      921026381,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["top_msg_id", "flags.0?int"]
      ],
      "messages.AffectedHistory"
    ],
    "messages.getRecentLocations": [
      1881817312,
      [
        ["peer", "InputPeer"],
        ["limit", "int"],
        ["hash", "long"]
      ],
      "messages.Messages"
    ],
    "messages.sendMultiMedia": [
      469278068,
      [
        ["flags", "#"],
        ["silent", "flags.5?true"],
        ["background", "flags.6?true"],
        ["clear_draft", "flags.7?true"],
        ["noforwards", "flags.14?true"],
        ["update_stickersets_order", "flags.15?true"],
        ["invert_media", "flags.16?true"],
        ["allow_paid_floodskip", "flags.19?true"],
        ["peer", "InputPeer"],
        ["reply_to", "flags.0?InputReplyTo"],
        ["multi_media", "Vector<InputSingleMedia>"],
        ["schedule_date", "flags.10?int"],
        ["send_as", "flags.13?InputPeer"],
        ["quick_reply_shortcut", "flags.17?InputQuickReplyShortcut"],
        ["effect", "flags.18?long"],
        ["allow_paid_stars", "flags.21?long"]
      ],
      "Updates"
    ],
    "messages.uploadEncryptedFile": [
      1347929239,
      [
        ["peer", "InputEncryptedChat"],
        ["file", "InputEncryptedFile"]
      ],
      "EncryptedFile"
    ],
    "messages.searchStickerSets": [
      896555914,
      [
        ["flags", "#"],
        ["exclude_featured", "flags.0?true"],
        ["q", "string"],
        ["hash", "long"]
      ],
      "messages.FoundStickerSets"
    ],
    "messages.getSplitRanges": [
      486505992,
      [],
      "Vector<MessageRange>"
    ],
    "messages.markDialogUnread": [
      2354054904,
      [
        ["flags", "#"],
        ["unread", "flags.0?true"],
        ["parent_peer", "flags.1?InputPeer"],
        ["peer", "InputDialogPeer"]
      ],
      "Bool"
    ],
    "messages.getDialogUnreadMarks": [
      555754018,
      [
        ["flags", "#"],
        ["parent_peer", "flags.0?InputPeer"]
      ],
      "Vector<DialogPeer>"
    ],
    "messages.clearAllDrafts": [
      2119757468,
      [],
      "Bool"
    ],
    "messages.updatePinnedMessage": [
      3534419948,
      [
        ["flags", "#"],
        ["silent", "flags.0?true"],
        ["unpin", "flags.1?true"],
        ["pm_oneside", "flags.2?true"],
        ["peer", "InputPeer"],
        ["id", "int"]
      ],
      "Updates"
    ],
    "messages.sendVote": [
      283795844,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["options", "Vector<bytes>"]
      ],
      "Updates"
    ],
    "messages.getPollResults": [
      1941660731,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"]
      ],
      "Updates"
    ],
    "messages.getOnlines": [
      1848369232,
      [
        ["peer", "InputPeer"]
      ],
      "ChatOnlines"
    ],
    "messages.editChatAbout": [
      3740665751,
      [
        ["peer", "InputPeer"],
        ["about", "string"]
      ],
      "Bool"
    ],
    "messages.editChatDefaultBannedRights": [
      2777049921,
      [
        ["peer", "InputPeer"],
        ["banned_rights", "ChatBannedRights"]
      ],
      "Updates"
    ],
    "messages.getEmojiKeywords": [
      899735650,
      [
        ["lang_code", "string"]
      ],
      "EmojiKeywordsDifference"
    ],
    "messages.getEmojiKeywordsDifference": [
      352892591,
      [
        ["lang_code", "string"],
        ["from_version", "int"]
      ],
      "EmojiKeywordsDifference"
    ],
    "messages.getEmojiKeywordsLanguages": [
      1318675378,
      [
        ["lang_codes", "Vector<string>"]
      ],
      "Vector<EmojiLanguage>"
    ],
    "messages.getEmojiURL": [
      3585149990,
      [
        ["lang_code", "string"]
      ],
      "EmojiURL"
    ],
    "messages.getSearchCounters": [
      465367808,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["saved_peer_id", "flags.2?InputPeer"],
        ["top_msg_id", "flags.0?int"],
        ["filters", "Vector<MessagesFilter>"]
      ],
      "Vector<messages.SearchCounter>"
    ],
    "messages.requestUrlAuth": [
      428848198,
      [
        ["flags", "#"],
        ["peer", "flags.1?InputPeer"],
        ["msg_id", "flags.1?int"],
        ["button_id", "flags.1?int"],
        ["url", "flags.2?string"]
      ],
      "UrlAuthResult"
    ],
    "messages.acceptUrlAuth": [
      2972479781,
      [
        ["flags", "#"],
        ["write_allowed", "flags.0?true"],
        ["peer", "flags.1?InputPeer"],
        ["msg_id", "flags.1?int"],
        ["button_id", "flags.1?int"],
        ["url", "flags.2?string"]
      ],
      "UrlAuthResult"
    ],
    "messages.hidePeerSettingsBar": [
      1336717624,
      [
        ["peer", "InputPeer"]
      ],
      "Bool"
    ],
    "messages.getScheduledHistory": [
      4111889931,
      [
        ["peer", "InputPeer"],
        ["hash", "long"]
      ],
      "messages.Messages"
    ],
    "messages.getScheduledMessages": [
      3183150180,
      [
        ["peer", "InputPeer"],
        ["id", "Vector<int>"]
      ],
      "messages.Messages"
    ],
    "messages.sendScheduledMessages": [
      3174597898,
      [
        ["peer", "InputPeer"],
        ["id", "Vector<int>"]
      ],
      "Updates"
    ],
    "messages.deleteScheduledMessages": [
      1504586518,
      [
        ["peer", "InputPeer"],
        ["id", "Vector<int>"]
      ],
      "Updates"
    ],
    "messages.getPollVotes": [
      3094231054,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["id", "int"],
        ["option", "flags.0?bytes"],
        ["offset", "flags.1?string"],
        ["limit", "int"]
      ],
      "messages.VotesList"
    ],
    "messages.toggleStickerSets": [
      3037016042,
      [
        ["flags", "#"],
        ["uninstall", "flags.0?true"],
        ["archive", "flags.1?true"],
        ["unarchive", "flags.2?true"],
        ["stickersets", "Vector<InputStickerSet>"]
      ],
      "Bool"
    ],
    "messages.getDialogFilters": [
      4023684233,
      [],
      "messages.DialogFilters"
    ],
    "messages.getSuggestedDialogFilters": [
      2728186924,
      [],
      "Vector<DialogFilterSuggested>"
    ],
    "messages.updateDialogFilter": [
      450142282,
      [
        ["flags", "#"],
        ["id", "int"],
        ["filter", "flags.0?DialogFilter"]
      ],
      "Bool"
    ],
    "messages.updateDialogFiltersOrder": [
      3311649252,
      [
        ["order", "Vector<int>"]
      ],
      "Bool"
    ],
    "messages.getOldFeaturedStickers": [
      2127598753,
      [
        ["offset", "int"],
        ["limit", "int"],
        ["hash", "long"]
      ],
      "messages.FeaturedStickers"
    ],
    "messages.getReplies": [
      584962828,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["offset_id", "int"],
        ["offset_date", "int"],
        ["add_offset", "int"],
        ["limit", "int"],
        ["max_id", "int"],
        ["min_id", "int"],
        ["hash", "long"]
      ],
      "messages.Messages"
    ],
    "messages.getDiscussionMessage": [
      1147761405,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"]
      ],
      "messages.DiscussionMessage"
    ],
    "messages.readDiscussion": [
      4147227124,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["read_max_id", "int"]
      ],
      "Bool"
    ],
    "messages.unpinAllMessages": [
      103667527,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["top_msg_id", "flags.0?int"],
        ["saved_peer_id", "flags.1?InputPeer"]
      ],
      "messages.AffectedHistory"
    ],
    "messages.deleteChat": [
      1540419152,
      [
        ["chat_id", "long"]
      ],
      "Bool"
    ],
    "messages.deletePhoneCallHistory": [
      4190888969,
      [
        ["flags", "#"],
        ["revoke", "flags.0?true"]
      ],
      "messages.AffectedFoundMessages"
    ],
    "messages.checkHistoryImport": [
      1140726259,
      [
        ["import_head", "string"]
      ],
      "messages.HistoryImportParsed"
    ],
    "messages.initHistoryImport": [
      873008187,
      [
        ["peer", "InputPeer"],
        ["file", "InputFile"],
        ["media_count", "int"]
      ],
      "messages.HistoryImport"
    ],
    "messages.uploadImportedMedia": [
      713433234,
      [
        ["peer", "InputPeer"],
        ["import_id", "long"],
        ["file_name", "string"],
        ["media", "InputMedia"]
      ],
      "MessageMedia"
    ],
    "messages.startHistoryImport": [
      3023958852,
      [
        ["peer", "InputPeer"],
        ["import_id", "long"]
      ],
      "Bool"
    ],
    "messages.getExportedChatInvites": [
      2729812982,
      [
        ["flags", "#"],
        ["revoked", "flags.3?true"],
        ["peer", "InputPeer"],
        ["admin_id", "InputUser"],
        ["offset_date", "flags.2?int"],
        ["offset_link", "flags.2?string"],
        ["limit", "int"]
      ],
      "messages.ExportedChatInvites"
    ],
    "messages.getExportedChatInvite": [
      1937010524,
      [
        ["peer", "InputPeer"],
        ["link", "string"]
      ],
      "messages.ExportedChatInvite"
    ],
    "messages.editExportedChatInvite": [
      3184144245,
      [
        ["flags", "#"],
        ["revoked", "flags.2?true"],
        ["peer", "InputPeer"],
        ["link", "string"],
        ["expire_date", "flags.0?int"],
        ["usage_limit", "flags.1?int"],
        ["request_needed", "flags.3?Bool"],
        ["title", "flags.4?string"]
      ],
      "messages.ExportedChatInvite"
    ],
    "messages.deleteRevokedExportedChatInvites": [
      1452833749,
      [
        ["peer", "InputPeer"],
        ["admin_id", "InputUser"]
      ],
      "Bool"
    ],
    "messages.deleteExportedChatInvite": [
      3563365419,
      [
        ["peer", "InputPeer"],
        ["link", "string"]
      ],
      "Bool"
    ],
    "messages.getAdminsWithInvites": [
      958457583,
      [
        ["peer", "InputPeer"]
      ],
      "messages.ChatAdminsWithInvites"
    ],
    "messages.getChatInviteImporters": [
      3741637966,
      [
        ["flags", "#"],
        ["requested", "flags.0?true"],
        ["subscription_expired", "flags.3?true"],
        ["peer", "InputPeer"],
        ["link", "flags.1?string"],
        ["q", "flags.2?string"],
        ["offset_date", "int"],
        ["offset_user", "InputUser"],
        ["limit", "int"]
      ],
      "messages.ChatInviteImporters"
    ],
    "messages.setHistoryTTL": [
      3087949796,
      [
        ["peer", "InputPeer"],
        ["period", "int"]
      ],
      "Updates"
    ],
    "messages.checkHistoryImportPeer": [
      1573261059,
      [
        ["peer", "InputPeer"]
      ],
      "messages.CheckedHistoryImportPeer"
    ],
    "messages.setChatTheme": [
      135398089,
      [
        ["peer", "InputPeer"],
        ["theme", "InputChatTheme"]
      ],
      "Updates"
    ],
    "messages.getMessageReadParticipants": [
      834782287,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"]
      ],
      "Vector<ReadParticipantDate>"
    ],
    "messages.getSearchResultsCalendar": [
      1789130429,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["saved_peer_id", "flags.2?InputPeer"],
        ["filter", "MessagesFilter"],
        ["offset_id", "int"],
        ["offset_date", "int"]
      ],
      "messages.SearchResultsCalendar"
    ],
    "messages.getSearchResultsPositions": [
      2625580816,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["saved_peer_id", "flags.2?InputPeer"],
        ["filter", "MessagesFilter"],
        ["offset_id", "int"],
        ["limit", "int"]
      ],
      "messages.SearchResultsPositions"
    ],
    "messages.hideChatJoinRequest": [
      2145904661,
      [
        ["flags", "#"],
        ["approved", "flags.0?true"],
        ["peer", "InputPeer"],
        ["user_id", "InputUser"]
      ],
      "Updates"
    ],
    "messages.hideAllChatJoinRequests": [
      3766875370,
      [
        ["flags", "#"],
        ["approved", "flags.0?true"],
        ["peer", "InputPeer"],
        ["link", "flags.1?string"]
      ],
      "Updates"
    ],
    "messages.toggleNoForwards": [
      2971578274,
      [
        ["peer", "InputPeer"],
        ["enabled", "Bool"]
      ],
      "Updates"
    ],
    "messages.saveDefaultSendAs": [
      3439189910,
      [
        ["peer", "InputPeer"],
        ["send_as", "InputPeer"]
      ],
      "Bool"
    ],
    "messages.sendReaction": [
      3540875476,
      [
        ["flags", "#"],
        ["big", "flags.1?true"],
        ["add_to_recent", "flags.2?true"],
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["reaction", "flags.0?Vector<Reaction>"]
      ],
      "Updates"
    ],
    "messages.getMessagesReactions": [
      2344259814,
      [
        ["peer", "InputPeer"],
        ["id", "Vector<int>"]
      ],
      "Updates"
    ],
    "messages.getMessageReactionsList": [
      1176190792,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["id", "int"],
        ["reaction", "flags.0?Reaction"],
        ["offset", "flags.1?string"],
        ["limit", "int"]
      ],
      "messages.MessageReactionsList"
    ],
    "messages.setChatAvailableReactions": [
      2253071745,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["available_reactions", "ChatReactions"],
        ["reactions_limit", "flags.0?int"],
        ["paid_enabled", "flags.1?Bool"]
      ],
      "Updates"
    ],
    "messages.getAvailableReactions": [
      417243308,
      [
        ["hash", "int"]
      ],
      "messages.AvailableReactions"
    ],
    "messages.setDefaultReaction": [
      1330094102,
      [
        ["reaction", "Reaction"]
      ],
      "Bool"
    ],
    "messages.translateText": [
      1662529584,
      [
        ["flags", "#"],
        ["peer", "flags.0?InputPeer"],
        ["id", "flags.0?Vector<int>"],
        ["text", "flags.1?Vector<TextWithEntities>"],
        ["to_lang", "string"]
      ],
      "messages.TranslatedText"
    ],
    "messages.getUnreadReactions": [
      3179253932,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["top_msg_id", "flags.0?int"],
        ["saved_peer_id", "flags.1?InputPeer"],
        ["offset_id", "int"],
        ["add_offset", "int"],
        ["limit", "int"],
        ["max_id", "int"],
        ["min_id", "int"]
      ],
      "messages.Messages"
    ],
    "messages.readReactions": [
      2663665555,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["top_msg_id", "flags.0?int"],
        ["saved_peer_id", "flags.1?InputPeer"]
      ],
      "messages.AffectedHistory"
    ],
    "messages.searchSentMedia": [
      276705696,
      [
        ["q", "string"],
        ["filter", "MessagesFilter"],
        ["limit", "int"]
      ],
      "messages.Messages"
    ],
    "messages.getAttachMenuBots": [
      385663691,
      [
        ["hash", "long"]
      ],
      "AttachMenuBots"
    ],
    "messages.getAttachMenuBot": [
      1998676370,
      [
        ["bot", "InputUser"]
      ],
      "AttachMenuBotsBot"
    ],
    "messages.toggleBotInAttachMenu": [
      1777704297,
      [
        ["flags", "#"],
        ["write_allowed", "flags.0?true"],
        ["bot", "InputUser"],
        ["enabled", "Bool"]
      ],
      "Bool"
    ],
    "messages.requestWebView": [
      647873217,
      [
        ["flags", "#"],
        ["from_bot_menu", "flags.4?true"],
        ["silent", "flags.5?true"],
        ["compact", "flags.7?true"],
        ["fullscreen", "flags.8?true"],
        ["peer", "InputPeer"],
        ["bot", "InputUser"],
        ["url", "flags.1?string"],
        ["start_param", "flags.3?string"],
        ["theme_params", "flags.2?DataJSON"],
        ["platform", "string"],
        ["reply_to", "flags.0?InputReplyTo"],
        ["send_as", "flags.13?InputPeer"]
      ],
      "WebViewResult"
    ],
    "messages.prolongWebView": [
      2966952579,
      [
        ["flags", "#"],
        ["silent", "flags.5?true"],
        ["peer", "InputPeer"],
        ["bot", "InputUser"],
        ["query_id", "long"],
        ["reply_to", "flags.0?InputReplyTo"],
        ["send_as", "flags.13?InputPeer"]
      ],
      "Bool"
    ],
    "messages.requestSimpleWebView": [
      1094336115,
      [
        ["flags", "#"],
        ["from_switch_webview", "flags.1?true"],
        ["from_side_menu", "flags.2?true"],
        ["compact", "flags.7?true"],
        ["fullscreen", "flags.8?true"],
        ["bot", "InputUser"],
        ["url", "flags.3?string"],
        ["start_param", "flags.4?string"],
        ["theme_params", "flags.0?DataJSON"],
        ["platform", "string"]
      ],
      "WebViewResult"
    ],
    "messages.sendWebViewResultMessage": [
      172168437,
      [
        ["bot_query_id", "string"],
        ["result", "InputBotInlineResult"]
      ],
      "WebViewMessageSent"
    ],
    "messages.sendWebViewData": [
      3691135688,
      [
        ["bot", "InputUser"],
        ["random_id", "long"],
        ["button_text", "string"],
        ["data", "string"]
      ],
      "Updates"
    ],
    "messages.transcribeAudio": [
      647928393,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"]
      ],
      "messages.TranscribedAudio"
    ],
    "messages.rateTranscribedAudio": [
      2132608815,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["transcription_id", "long"],
        ["good", "Bool"]
      ],
      "Bool"
    ],
    "messages.getCustomEmojiDocuments": [
      3651866452,
      [
        ["document_id", "Vector<long>"]
      ],
      "Vector<Document>"
    ],
    "messages.getEmojiStickers": [
      4227637647,
      [
        ["hash", "long"]
      ],
      "messages.AllStickers"
    ],
    "messages.getFeaturedEmojiStickers": [
      248473398,
      [
        ["hash", "long"]
      ],
      "messages.FeaturedStickers"
    ],
    "messages.reportReaction": [
      1063567478,
      [
        ["peer", "InputPeer"],
        ["id", "int"],
        ["reaction_peer", "InputPeer"]
      ],
      "Bool"
    ],
    "messages.getTopReactions": [
      3145803194,
      [
        ["limit", "int"],
        ["hash", "long"]
      ],
      "messages.Reactions"
    ],
    "messages.getRecentReactions": [
      960896434,
      [
        ["limit", "int"],
        ["hash", "long"]
      ],
      "messages.Reactions"
    ],
    "messages.clearRecentReactions": [
      2650730420,
      [],
      "Bool"
    ],
    "messages.getExtendedMedia": [
      2230847508,
      [
        ["peer", "InputPeer"],
        ["id", "Vector<int>"]
      ],
      "Updates"
    ],
    "messages.setDefaultHistoryTTL": [
      2662667333,
      [
        ["period", "int"]
      ],
      "Bool"
    ],
    "messages.getDefaultHistoryTTL": [
      1703637384,
      [],
      "DefaultHistoryTTL"
    ],
    "messages.sendBotRequestedPeer": [
      2444415072,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["button_id", "int"],
        ["requested_peers", "Vector<InputPeer>"]
      ],
      "Updates"
    ],
    "messages.getEmojiGroups": [
      1955122779,
      [
        ["hash", "int"]
      ],
      "messages.EmojiGroups"
    ],
    "messages.getEmojiStatusGroups": [
      785209037,
      [
        ["hash", "int"]
      ],
      "messages.EmojiGroups"
    ],
    "messages.getEmojiProfilePhotoGroups": [
      564480243,
      [
        ["hash", "int"]
      ],
      "messages.EmojiGroups"
    ],
    "messages.searchCustomEmoji": [
      739360983,
      [
        ["emoticon", "string"],
        ["hash", "long"]
      ],
      "EmojiList"
    ],
    "messages.togglePeerTranslations": [
      3833378169,
      [
        ["flags", "#"],
        ["disabled", "flags.0?true"],
        ["peer", "InputPeer"]
      ],
      "Bool"
    ],
    "messages.getBotApp": [
      889046467,
      [
        ["app", "InputBotApp"],
        ["hash", "long"]
      ],
      "messages.BotApp"
    ],
    "messages.requestAppWebView": [
      1398901710,
      [
        ["flags", "#"],
        ["write_allowed", "flags.0?true"],
        ["compact", "flags.7?true"],
        ["fullscreen", "flags.8?true"],
        ["peer", "InputPeer"],
        ["app", "InputBotApp"],
        ["start_param", "flags.1?string"],
        ["theme_params", "flags.2?DataJSON"],
        ["platform", "string"]
      ],
      "WebViewResult"
    ],
    "messages.setChatWallPaper": [
      2415577825,
      [
        ["flags", "#"],
        ["for_both", "flags.3?true"],
        ["revert", "flags.4?true"],
        ["peer", "InputPeer"],
        ["wallpaper", "flags.0?InputWallPaper"],
        ["settings", "flags.2?WallPaperSettings"],
        ["id", "flags.1?int"]
      ],
      "Updates"
    ],
    "messages.searchEmojiStickerSets": [
      2461288780,
      [
        ["flags", "#"],
        ["exclude_featured", "flags.0?true"],
        ["q", "string"],
        ["hash", "long"]
      ],
      "messages.FoundStickerSets"
    ],
    "messages.getSavedDialogs": [
      512883865,
      [
        ["flags", "#"],
        ["exclude_pinned", "flags.0?true"],
        ["parent_peer", "flags.1?InputPeer"],
        ["offset_date", "int"],
        ["offset_id", "int"],
        ["offset_peer", "InputPeer"],
        ["limit", "int"],
        ["hash", "long"]
      ],
      "messages.SavedDialogs"
    ],
    "messages.getSavedHistory": [
      2576003081,
      [
        ["flags", "#"],
        ["parent_peer", "flags.0?InputPeer"],
        ["peer", "InputPeer"],
        ["offset_id", "int"],
        ["offset_date", "int"],
        ["add_offset", "int"],
        ["limit", "int"],
        ["max_id", "int"],
        ["min_id", "int"],
        ["hash", "long"]
      ],
      "messages.Messages"
    ],
    "messages.deleteSavedHistory": [
      1304758367,
      [
        ["flags", "#"],
        ["parent_peer", "flags.0?InputPeer"],
        ["peer", "InputPeer"],
        ["max_id", "int"],
        ["min_date", "flags.2?int"],
        ["max_date", "flags.3?int"]
      ],
      "messages.AffectedHistory"
    ],
    "messages.getPinnedSavedDialogs": [
      3594360032,
      [],
      "messages.SavedDialogs"
    ],
    "messages.toggleSavedDialogPin": [
      2894183390,
      [
        ["flags", "#"],
        ["pinned", "flags.0?true"],
        ["peer", "InputDialogPeer"]
      ],
      "Bool"
    ],
    "messages.reorderPinnedSavedDialogs": [
      2339464583,
      [
        ["flags", "#"],
        ["force", "flags.0?true"],
        ["order", "Vector<InputDialogPeer>"]
      ],
      "Bool"
    ],
    "messages.getSavedReactionTags": [
      909631579,
      [
        ["flags", "#"],
        ["peer", "flags.0?InputPeer"],
        ["hash", "long"]
      ],
      "messages.SavedReactionTags"
    ],
    "messages.updateSavedReactionTag": [
      1613331948,
      [
        ["flags", "#"],
        ["reaction", "Reaction"],
        ["title", "flags.0?string"]
      ],
      "Bool"
    ],
    "messages.getDefaultTagReactions": [
      3187225640,
      [
        ["hash", "long"]
      ],
      "messages.Reactions"
    ],
    "messages.getOutboxReadDate": [
      2353790557,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"]
      ],
      "OutboxReadDate"
    ],
    "messages.getQuickReplies": [
      3565417128,
      [
        ["hash", "long"]
      ],
      "messages.QuickReplies"
    ],
    "messages.reorderQuickReplies": [
      1613961479,
      [
        ["order", "Vector<int>"]
      ],
      "Bool"
    ],
    "messages.checkQuickReplyShortcut": [
      4057005011,
      [
        ["shortcut", "string"]
      ],
      "Bool"
    ],
    "messages.editQuickReplyShortcut": [
      1543519471,
      [
        ["shortcut_id", "int"],
        ["shortcut", "string"]
      ],
      "Bool"
    ],
    "messages.deleteQuickReplyShortcut": [
      1019234112,
      [
        ["shortcut_id", "int"]
      ],
      "Bool"
    ],
    "messages.getQuickReplyMessages": [
      2493814211,
      [
        ["flags", "#"],
        ["shortcut_id", "int"],
        ["id", "flags.0?Vector<int>"],
        ["hash", "long"]
      ],
      "messages.Messages"
    ],
    "messages.sendQuickReplyMessages": [
      1819610593,
      [
        ["peer", "InputPeer"],
        ["shortcut_id", "int"],
        ["id", "Vector<int>"],
        ["random_id", "Vector<long>"]
      ],
      "Updates"
    ],
    "messages.deleteQuickReplyMessages": [
      3775260944,
      [
        ["shortcut_id", "int"],
        ["id", "Vector<int>"]
      ],
      "Updates"
    ],
    "messages.toggleDialogFilterTags": [
      4247640649,
      [
        ["enabled", "Bool"]
      ],
      "Bool"
    ],
    "messages.getMyStickers": [
      3501580796,
      [
        ["offset_id", "long"],
        ["limit", "int"]
      ],
      "messages.MyStickers"
    ],
    "messages.getEmojiStickerGroups": [
      500711669,
      [
        ["hash", "int"]
      ],
      "messages.EmojiGroups"
    ],
    "messages.getAvailableEffects": [
      3735161401,
      [
        ["hash", "int"]
      ],
      "messages.AvailableEffects"
    ],
    "messages.editFactCheck": [
      92925557,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["text", "TextWithEntities"]
      ],
      "Updates"
    ],
    "messages.deleteFactCheck": [
      3520762892,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"]
      ],
      "Updates"
    ],
    "messages.getFactCheck": [
      3117270510,
      [
        ["peer", "InputPeer"],
        ["msg_id", "Vector<int>"]
      ],
      "Vector<FactCheck>"
    ],
    "messages.requestMainWebView": [
      3386908283,
      [
        ["flags", "#"],
        ["compact", "flags.7?true"],
        ["fullscreen", "flags.8?true"],
        ["peer", "InputPeer"],
        ["bot", "InputUser"],
        ["start_param", "flags.1?string"],
        ["theme_params", "flags.0?DataJSON"],
        ["platform", "string"]
      ],
      "WebViewResult"
    ],
    "messages.sendPaidReaction": [
      1488702288,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["count", "int"],
        ["random_id", "long"],
        ["private", "flags.0?PaidReactionPrivacy"]
      ],
      "Updates"
    ],
    "messages.togglePaidReactionPrivacy": [
      1129874869,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["private", "PaidReactionPrivacy"]
      ],
      "Bool"
    ],
    "messages.getPaidReactionPrivacy": [
      1193563562,
      [],
      "Updates"
    ],
    "messages.viewSponsoredMessage": [
      647902787,
      [
        ["random_id", "bytes"]
      ],
      "Bool"
    ],
    "messages.clickSponsoredMessage": [
      2184512894,
      [
        ["flags", "#"],
        ["media", "flags.0?true"],
        ["fullscreen", "flags.1?true"],
        ["random_id", "bytes"]
      ],
      "Bool"
    ],
    "messages.reportSponsoredMessage": [
      315355332,
      [
        ["random_id", "bytes"],
        ["option", "bytes"]
      ],
      "channels.SponsoredMessageReportResult"
    ],
    "messages.getSponsoredMessages": [
      1030547536,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["msg_id", "flags.0?int"]
      ],
      "messages.SponsoredMessages"
    ],
    "messages.savePreparedInlineMessage": [
      4062150447,
      [
        ["flags", "#"],
        ["result", "InputBotInlineResult"],
        ["user_id", "InputUser"],
        ["peer_types", "flags.0?Vector<InlineQueryPeerType>"]
      ],
      "messages.BotPreparedInlineMessage"
    ],
    "messages.getPreparedInlineMessage": [
      2239675832,
      [
        ["bot", "InputUser"],
        ["id", "string"]
      ],
      "messages.PreparedInlineMessage"
    ],
    "messages.searchStickers": [
      699516522,
      [
        ["flags", "#"],
        ["emojis", "flags.0?true"],
        ["q", "string"],
        ["emoticon", "string"],
        ["lang_code", "Vector<string>"],
        ["offset", "int"],
        ["limit", "int"],
        ["hash", "long"]
      ],
      "messages.FoundStickers"
    ],
    "messages.reportMessagesDelivery": [
      1517122453,
      [
        ["flags", "#"],
        ["push", "flags.0?true"],
        ["peer", "InputPeer"],
        ["id", "Vector<int>"]
      ],
      "Bool"
    ],
    "messages.getSavedDialogsByID": [
      1869585558,
      [
        ["flags", "#"],
        ["parent_peer", "flags.1?InputPeer"],
        ["ids", "Vector<InputPeer>"]
      ],
      "messages.SavedDialogs"
    ],
    "messages.readSavedHistory": [
      3125427035,
      [
        ["parent_peer", "InputPeer"],
        ["peer", "InputPeer"],
        ["max_id", "int"]
      ],
      "Bool"
    ],
    "messages.toggleTodoCompleted": [
      3554685220,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["completed", "Vector<int>"],
        ["incompleted", "Vector<int>"]
      ],
      "Updates"
    ],
    "messages.appendTodoList": [
      564531287,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["list", "Vector<TodoItem>"]
      ],
      "Updates"
    ],
    "messages.toggleSuggestedPostApproval": [
      2164737372,
      [
        ["flags", "#"],
        ["reject", "flags.1?true"],
        ["peer", "InputPeer"],
        ["msg_id", "int"],
        ["schedule_date", "flags.0?int"],
        ["reject_comment", "flags.2?string"]
      ],
      "Updates"
    ],
    "messages.getForumTopics": [
      1000635391,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["q", "flags.0?string"],
        ["offset_date", "int"],
        ["offset_id", "int"],
        ["offset_topic", "int"],
        ["limit", "int"]
      ],
      "messages.ForumTopics"
    ],
    "messages.getForumTopicsByID": [
      2936687112,
      [
        ["peer", "InputPeer"],
        ["topics", "Vector<int>"]
      ],
      "messages.ForumTopics"
    ],
    "messages.editForumTopic": [
      3469480244,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["topic_id", "int"],
        ["title", "flags.0?string"],
        ["icon_emoji_id", "flags.1?long"],
        ["closed", "flags.2?Bool"],
        ["hidden", "flags.3?Bool"]
      ],
      "Updates"
    ],
    "messages.updatePinnedForumTopic": [
      392032849,
      [
        ["peer", "InputPeer"],
        ["topic_id", "int"],
        ["pinned", "Bool"]
      ],
      "Updates"
    ],
    "messages.reorderPinnedForumTopics": [
      242762224,
      [
        ["flags", "#"],
        ["force", "flags.0?true"],
        ["peer", "InputPeer"],
        ["order", "Vector<int>"]
      ],
      "Updates"
    ],
    "messages.createForumTopic": [
      798540757,
      [
        ["flags", "#"],
        ["title_missing", "flags.4?true"],
        ["peer", "InputPeer"],
        ["title", "string"],
        ["icon_color", "flags.0?int"],
        ["icon_emoji_id", "flags.3?long"],
        ["random_id", "long"],
        ["send_as", "flags.2?InputPeer"]
      ],
      "Updates"
    ],
    "messages.deleteTopicHistory": [
      3531697936,
      [
        ["peer", "InputPeer"],
        ["top_msg_id", "int"]
      ],
      "messages.AffectedHistory"
    ],
    "messages.getEmojiGameInfo": [
      4219374759,
      [],
      "messages.EmojiGameInfo"
    ],
    "messages.summarizeText": [
      2638284002,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["id", "int"],
        ["to_lang", "flags.0?string"]
      ],
      "TextWithEntities"
    ],
    "updates.getState": [
      3990128682,
      [],
      "updates.State"
    ],
    "updates.getDifference": [
      432207715,
      [
        ["flags", "#"],
        ["pts", "int"],
        ["pts_limit", "flags.1?int"],
        ["pts_total_limit", "flags.0?int"],
        ["date", "int"],
        ["qts", "int"],
        ["qts_limit", "flags.2?int"]
      ],
      "updates.Difference"
    ],
    "updates.getChannelDifference": [
      51854712,
      [
        ["flags", "#"],
        ["force", "flags.0?true"],
        ["channel", "InputChannel"],
        ["filter", "ChannelMessagesFilter"],
        ["pts", "int"],
        ["limit", "int"]
      ],
      "updates.ChannelDifference"
    ],
    "photos.updateProfilePhoto": [
      166207545,
      [
        ["flags", "#"],
        ["fallback", "flags.0?true"],
        ["bot", "flags.1?InputUser"],
        ["id", "InputPhoto"]
      ],
      "photos.Photo"
    ],
    "photos.uploadProfilePhoto": [
      59286453,
      [
        ["flags", "#"],
        ["fallback", "flags.3?true"],
        ["bot", "flags.5?InputUser"],
        ["file", "flags.0?InputFile"],
        ["video", "flags.1?InputFile"],
        ["video_start_ts", "flags.2?double"],
        ["video_emoji_markup", "flags.4?VideoSize"]
      ],
      "photos.Photo"
    ],
    "photos.deletePhotos": [
      2278522671,
      [
        ["id", "Vector<InputPhoto>"]
      ],
      "Vector<long>"
    ],
    "photos.getUserPhotos": [
      2446144168,
      [
        ["user_id", "InputUser"],
        ["offset", "int"],
        ["max_id", "long"],
        ["limit", "int"]
      ],
      "photos.Photos"
    ],
    "photos.uploadContactProfilePhoto": [
      3779873393,
      [
        ["flags", "#"],
        ["suggest", "flags.3?true"],
        ["save", "flags.4?true"],
        ["user_id", "InputUser"],
        ["file", "flags.0?InputFile"],
        ["video", "flags.1?InputFile"],
        ["video_start_ts", "flags.2?double"],
        ["video_emoji_markup", "flags.5?VideoSize"]
      ],
      "photos.Photo"
    ],
    "upload.saveFilePart": [
      3003426337,
      [
        ["file_id", "long"],
        ["file_part", "int"],
        ["bytes", "bytes"]
      ],
      "Bool"
    ],
    "upload.getFile": [
      3193124286,
      [
        ["flags", "#"],
        ["precise", "flags.0?true"],
        ["cdn_supported", "flags.1?true"],
        ["location", "InputFileLocation"],
        ["offset", "long"],
        ["limit", "int"]
      ],
      "upload.File"
    ],
    "upload.saveBigFilePart": [
      3732629309,
      [
        ["file_id", "long"],
        ["file_part", "int"],
        ["file_total_parts", "int"],
        ["bytes", "bytes"]
      ],
      "Bool"
    ],
    "upload.getWebFile": [
      619086221,
      [
        ["location", "InputWebFileLocation"],
        ["offset", "int"],
        ["limit", "int"]
      ],
      "upload.WebFile"
    ],
    "upload.getCdnFile": [
      962554330,
      [
        ["file_token", "bytes"],
        ["offset", "long"],
        ["limit", "int"]
      ],
      "upload.CdnFile"
    ],
    "upload.reuploadCdnFile": [
      2603046056,
      [
        ["file_token", "bytes"],
        ["request_token", "bytes"]
      ],
      "Vector<FileHash>"
    ],
    "upload.getCdnFileHashes": [
      2447130417,
      [
        ["file_token", "bytes"],
        ["offset", "long"]
      ],
      "Vector<FileHash>"
    ],
    "upload.getFileHashes": [
      2438371370,
      [
        ["location", "InputFileLocation"],
        ["offset", "long"]
      ],
      "Vector<FileHash>"
    ],
    "help.getConfig": [
      3304659051,
      [],
      "Config"
    ],
    "help.getNearestDc": [
      531836966,
      [],
      "NearestDc"
    ],
    "help.getAppUpdate": [
      1378703997,
      [
        ["source", "string"]
      ],
      "help.AppUpdate"
    ],
    "help.getInviteText": [
      1295590211,
      [],
      "help.InviteText"
    ],
    "help.getSupport": [
      2631862477,
      [],
      "help.Support"
    ],
    "help.setBotUpdatesStatus": [
      3961704397,
      [
        ["pending_updates_count", "int"],
        ["message", "string"]
      ],
      "Bool"
    ],
    "help.getCdnConfig": [
      1375900482,
      [],
      "CdnConfig"
    ],
    "help.getRecentMeUrls": [
      1036054804,
      [
        ["referer", "string"]
      ],
      "help.RecentMeUrls"
    ],
    "help.getTermsOfServiceUpdate": [
      749019089,
      [],
      "help.TermsOfServiceUpdate"
    ],
    "help.acceptTermsOfService": [
      4000511898,
      [
        ["id", "DataJSON"]
      ],
      "Bool"
    ],
    "help.getDeepLinkInfo": [
      1072547679,
      [
        ["path", "string"]
      ],
      "help.DeepLinkInfo"
    ],
    "help.getAppConfig": [
      1642330196,
      [
        ["hash", "int"]
      ],
      "help.AppConfig"
    ],
    "help.saveAppLog": [
      1862465352,
      [
        ["events", "Vector<InputAppEvent>"]
      ],
      "Bool"
    ],
    "help.getPassportConfig": [
      3328290056,
      [
        ["hash", "int"]
      ],
      "help.PassportConfig"
    ],
    "help.getSupportName": [
      3546343212,
      [],
      "help.SupportName"
    ],
    "help.getUserInfo": [
      59377875,
      [
        ["user_id", "InputUser"]
      ],
      "help.UserInfo"
    ],
    "help.editUserInfo": [
      1723407216,
      [
        ["user_id", "InputUser"],
        ["message", "string"],
        ["entities", "Vector<MessageEntity>"]
      ],
      "help.UserInfo"
    ],
    "help.getPromoData": [
      3231151137,
      [],
      "help.PromoData"
    ],
    "help.hidePromoData": [
      505748629,
      [
        ["peer", "InputPeer"]
      ],
      "Bool"
    ],
    "help.dismissSuggestion": [
      4111317665,
      [
        ["peer", "InputPeer"],
        ["suggestion", "string"]
      ],
      "Bool"
    ],
    "help.getCountriesList": [
      1935116200,
      [
        ["lang_code", "string"],
        ["hash", "int"]
      ],
      "help.CountriesList"
    ],
    "help.getPremiumPromo": [
      3088815060,
      [],
      "help.PremiumPromo"
    ],
    "help.getPeerColors": [
      3665884207,
      [
        ["hash", "int"]
      ],
      "help.PeerColors"
    ],
    "help.getPeerProfileColors": [
      2882513405,
      [
        ["hash", "int"]
      ],
      "help.PeerColors"
    ],
    "help.getTimezonesList": [
      1236468288,
      [
        ["hash", "int"]
      ],
      "help.TimezonesList"
    ],
    "channels.readHistory": [
      3423619383,
      [
        ["channel", "InputChannel"],
        ["max_id", "int"]
      ],
      "Bool"
    ],
    "channels.deleteMessages": [
      2227305806,
      [
        ["channel", "InputChannel"],
        ["id", "Vector<int>"]
      ],
      "messages.AffectedMessages"
    ],
    "channels.reportSpam": [
      4098523925,
      [
        ["channel", "InputChannel"],
        ["participant", "InputPeer"],
        ["id", "Vector<int>"]
      ],
      "Bool"
    ],
    "channels.getMessages": [
      2911672867,
      [
        ["channel", "InputChannel"],
        ["id", "Vector<InputMessage>"]
      ],
      "messages.Messages"
    ],
    "channels.getParticipants": [
      2010044880,
      [
        ["channel", "InputChannel"],
        ["filter", "ChannelParticipantsFilter"],
        ["offset", "int"],
        ["limit", "int"],
        ["hash", "long"]
      ],
      "channels.ChannelParticipants"
    ],
    "channels.getParticipant": [
      2695589062,
      [
        ["channel", "InputChannel"],
        ["participant", "InputPeer"]
      ],
      "channels.ChannelParticipant"
    ],
    "channels.getChannels": [
      176122811,
      [
        ["id", "Vector<InputChannel>"]
      ],
      "messages.Chats"
    ],
    "channels.getFullChannel": [
      141781513,
      [
        ["channel", "InputChannel"]
      ],
      "messages.ChatFull"
    ],
    "channels.createChannel": [
      2432722695,
      [
        ["flags", "#"],
        ["broadcast", "flags.0?true"],
        ["megagroup", "flags.1?true"],
        ["for_import", "flags.3?true"],
        ["forum", "flags.5?true"],
        ["title", "string"],
        ["about", "string"],
        ["geo_point", "flags.2?InputGeoPoint"],
        ["address", "flags.2?string"],
        ["ttl_period", "flags.4?int"]
      ],
      "Updates"
    ],
    "channels.editAdmin": [
      3543959810,
      [
        ["channel", "InputChannel"],
        ["user_id", "InputUser"],
        ["admin_rights", "ChatAdminRights"],
        ["rank", "string"]
      ],
      "Updates"
    ],
    "channels.editTitle": [
      1450044624,
      [
        ["channel", "InputChannel"],
        ["title", "string"]
      ],
      "Updates"
    ],
    "channels.editPhoto": [
      4046346185,
      [
        ["channel", "InputChannel"],
        ["photo", "InputChatPhoto"]
      ],
      "Updates"
    ],
    "channels.checkUsername": [
      283557164,
      [
        ["channel", "InputChannel"],
        ["username", "string"]
      ],
      "Bool"
    ],
    "channels.updateUsername": [
      890549214,
      [
        ["channel", "InputChannel"],
        ["username", "string"]
      ],
      "Bool"
    ],
    "channels.joinChannel": [
      615851205,
      [
        ["channel", "InputChannel"]
      ],
      "Updates"
    ],
    "channels.leaveChannel": [
      4164332181,
      [
        ["channel", "InputChannel"]
      ],
      "Updates"
    ],
    "channels.inviteToChannel": [
      3387112788,
      [
        ["channel", "InputChannel"],
        ["users", "Vector<InputUser>"]
      ],
      "messages.InvitedUsers"
    ],
    "channels.deleteChannel": [
      3222347747,
      [
        ["channel", "InputChannel"]
      ],
      "Updates"
    ],
    "channels.exportMessageLink": [
      3862932971,
      [
        ["flags", "#"],
        ["grouped", "flags.0?true"],
        ["thread", "flags.1?true"],
        ["channel", "InputChannel"],
        ["id", "int"]
      ],
      "ExportedMessageLink"
    ],
    "channels.toggleSignatures": [
      1099781276,
      [
        ["flags", "#"],
        ["signatures_enabled", "flags.0?true"],
        ["profiles_enabled", "flags.1?true"],
        ["channel", "InputChannel"]
      ],
      "Updates"
    ],
    "channels.getAdminedPublicChannels": [
      4172297903,
      [
        ["flags", "#"],
        ["by_location", "flags.0?true"],
        ["check_limit", "flags.1?true"],
        ["for_personal", "flags.2?true"]
      ],
      "messages.Chats"
    ],
    "channels.editBanned": [
      2531708289,
      [
        ["channel", "InputChannel"],
        ["participant", "InputPeer"],
        ["banned_rights", "ChatBannedRights"]
      ],
      "Updates"
    ],
    "channels.getAdminLog": [
      870184064,
      [
        ["flags", "#"],
        ["channel", "InputChannel"],
        ["q", "string"],
        ["events_filter", "flags.0?ChannelAdminLogEventsFilter"],
        ["admins", "flags.1?Vector<InputUser>"],
        ["max_id", "long"],
        ["min_id", "long"],
        ["limit", "int"]
      ],
      "channels.AdminLogResults"
    ],
    "channels.setStickers": [
      3935085817,
      [
        ["channel", "InputChannel"],
        ["stickerset", "InputStickerSet"]
      ],
      "Bool"
    ],
    "channels.readMessageContents": [
      3937786936,
      [
        ["channel", "InputChannel"],
        ["id", "Vector<int>"]
      ],
      "Bool"
    ],
    "channels.deleteHistory": [
      2611648071,
      [
        ["flags", "#"],
        ["for_everyone", "flags.0?true"],
        ["channel", "InputChannel"],
        ["max_id", "int"]
      ],
      "Updates"
    ],
    "channels.togglePreHistoryHidden": [
      3938171212,
      [
        ["channel", "InputChannel"],
        ["enabled", "Bool"]
      ],
      "Updates"
    ],
    "channels.getLeftChannels": [
      2202135744,
      [
        ["offset", "int"]
      ],
      "messages.Chats"
    ],
    "channels.getGroupsForDiscussion": [
      4124758904,
      [],
      "messages.Chats"
    ],
    "channels.setDiscussionGroup": [
      1079520178,
      [
        ["broadcast", "InputChannel"],
        ["group", "InputChannel"]
      ],
      "Bool"
    ],
    "channels.editCreator": [
      2402864415,
      [
        ["channel", "InputChannel"],
        ["user_id", "InputUser"],
        ["password", "InputCheckPasswordSRP"]
      ],
      "Updates"
    ],
    "channels.editLocation": [
      1491484525,
      [
        ["channel", "InputChannel"],
        ["geo_point", "InputGeoPoint"],
        ["address", "string"]
      ],
      "Bool"
    ],
    "channels.toggleSlowMode": [
      3990134512,
      [
        ["channel", "InputChannel"],
        ["seconds", "int"]
      ],
      "Updates"
    ],
    "channels.getInactiveChannels": [
      300429806,
      [],
      "messages.InactiveChats"
    ],
    "channels.convertToGigagroup": [
      187239529,
      [
        ["channel", "InputChannel"]
      ],
      "Updates"
    ],
    "channels.getSendAs": [
      3884295231,
      [
        ["flags", "#"],
        ["for_paid_reactions", "flags.0?true"],
        ["for_live_stories", "flags.1?true"],
        ["peer", "InputPeer"]
      ],
      "channels.SendAsPeers"
    ],
    "channels.deleteParticipantHistory": [
      913655003,
      [
        ["channel", "InputChannel"],
        ["participant", "InputPeer"]
      ],
      "messages.AffectedHistory"
    ],
    "channels.toggleJoinToSend": [
      3838547328,
      [
        ["channel", "InputChannel"],
        ["enabled", "Bool"]
      ],
      "Updates"
    ],
    "channels.toggleJoinRequest": [
      1277789622,
      [
        ["channel", "InputChannel"],
        ["enabled", "Bool"]
      ],
      "Updates"
    ],
    "channels.reorderUsernames": [
      3025988893,
      [
        ["channel", "InputChannel"],
        ["order", "Vector<string>"]
      ],
      "Bool"
    ],
    "channels.toggleUsername": [
      1358053637,
      [
        ["channel", "InputChannel"],
        ["username", "string"],
        ["active", "Bool"]
      ],
      "Bool"
    ],
    "channels.deactivateAllUsernames": [
      170155475,
      [
        ["channel", "InputChannel"]
      ],
      "Bool"
    ],
    "channels.toggleForum": [
      1073174324,
      [
        ["channel", "InputChannel"],
        ["enabled", "Bool"],
        ["tabs", "Bool"]
      ],
      "Updates"
    ],
    "channels.toggleAntiSpam": [
      1760814315,
      [
        ["channel", "InputChannel"],
        ["enabled", "Bool"]
      ],
      "Updates"
    ],
    "channels.reportAntiSpamFalsePositive": [
      2823857811,
      [
        ["channel", "InputChannel"],
        ["msg_id", "int"]
      ],
      "Bool"
    ],
    "channels.toggleParticipantsHidden": [
      1785624660,
      [
        ["channel", "InputChannel"],
        ["enabled", "Bool"]
      ],
      "Updates"
    ],
    "channels.updateColor": [
      3635033713,
      [
        ["flags", "#"],
        ["for_profile", "flags.1?true"],
        ["channel", "InputChannel"],
        ["color", "flags.2?int"],
        ["background_emoji_id", "flags.0?long"]
      ],
      "Updates"
    ],
    "channels.toggleViewForumAsMessages": [
      2537077525,
      [
        ["channel", "InputChannel"],
        ["enabled", "Bool"]
      ],
      "Updates"
    ],
    "channels.getChannelRecommendations": [
      631707458,
      [
        ["flags", "#"],
        ["channel", "flags.0?InputChannel"]
      ],
      "messages.Chats"
    ],
    "channels.updateEmojiStatus": [
      4040418984,
      [
        ["channel", "InputChannel"],
        ["emoji_status", "EmojiStatus"]
      ],
      "Updates"
    ],
    "channels.setBoostsToUnblockRestrictions": [
      2906234094,
      [
        ["channel", "InputChannel"],
        ["boosts", "int"]
      ],
      "Updates"
    ],
    "channels.setEmojiStickers": [
      1020866743,
      [
        ["channel", "InputChannel"],
        ["stickerset", "InputStickerSet"]
      ],
      "Bool"
    ],
    "channels.restrictSponsoredMessages": [
      2598966553,
      [
        ["channel", "InputChannel"],
        ["restricted", "Bool"]
      ],
      "Updates"
    ],
    "channels.searchPosts": [
      4072993357,
      [
        ["flags", "#"],
        ["hashtag", "flags.0?string"],
        ["query", "flags.1?string"],
        ["offset_rate", "int"],
        ["offset_peer", "InputPeer"],
        ["offset_id", "int"],
        ["limit", "int"],
        ["allow_paid_stars", "flags.2?long"]
      ],
      "messages.Messages"
    ],
    "channels.updatePaidMessagesPrice": [
      1259483771,
      [
        ["flags", "#"],
        ["broadcast_messages_allowed", "flags.0?true"],
        ["channel", "InputChannel"],
        ["send_paid_messages_stars", "long"]
      ],
      "Updates"
    ],
    "channels.toggleAutotranslation": [
      377471137,
      [
        ["channel", "InputChannel"],
        ["enabled", "Bool"]
      ],
      "Updates"
    ],
    "channels.getMessageAuthor": [
      3974275302,
      [
        ["channel", "InputChannel"],
        ["id", "int"]
      ],
      "User"
    ],
    "channels.checkSearchPostsFlood": [
      576090389,
      [
        ["flags", "#"],
        ["query", "flags.0?string"]
      ],
      "SearchPostsFlood"
    ],
    "channels.setMainProfileTab": [
      897842353,
      [
        ["channel", "InputChannel"],
        ["tab", "ProfileTab"]
      ],
      "Bool"
    ],
    "bots.sendCustomRequest": [
      2854709741,
      [
        ["custom_method", "string"],
        ["params", "DataJSON"]
      ],
      "DataJSON"
    ],
    "bots.answerWebhookJSONQuery": [
      3860938573,
      [
        ["query_id", "long"],
        ["data", "DataJSON"]
      ],
      "Bool"
    ],
    "bots.setBotCommands": [
      85399130,
      [
        ["scope", "BotCommandScope"],
        ["lang_code", "string"],
        ["commands", "Vector<BotCommand>"]
      ],
      "Bool"
    ],
    "bots.resetBotCommands": [
      1032708345,
      [
        ["scope", "BotCommandScope"],
        ["lang_code", "string"]
      ],
      "Bool"
    ],
    "bots.getBotCommands": [
      3813412310,
      [
        ["scope", "BotCommandScope"],
        ["lang_code", "string"]
      ],
      "Vector<BotCommand>"
    ],
    "bots.setBotMenuButton": [
      1157944655,
      [
        ["user_id", "InputUser"],
        ["button", "BotMenuButton"]
      ],
      "Bool"
    ],
    "bots.getBotMenuButton": [
      2623597352,
      [
        ["user_id", "InputUser"]
      ],
      "BotMenuButton"
    ],
    "bots.setBotBroadcastDefaultAdminRights": [
      2021942497,
      [
        ["admin_rights", "ChatAdminRights"]
      ],
      "Bool"
    ],
    "bots.setBotGroupDefaultAdminRights": [
      2455685610,
      [
        ["admin_rights", "ChatAdminRights"]
      ],
      "Bool"
    ],
    "bots.setBotInfo": [
      282013987,
      [
        ["flags", "#"],
        ["bot", "flags.2?InputUser"],
        ["lang_code", "string"],
        ["name", "flags.3?string"],
        ["about", "flags.0?string"],
        ["description", "flags.1?string"]
      ],
      "Bool"
    ],
    "bots.getBotInfo": [
      3705214205,
      [
        ["flags", "#"],
        ["bot", "flags.0?InputUser"],
        ["lang_code", "string"]
      ],
      "bots.BotInfo"
    ],
    "bots.reorderUsernames": [
      2533994946,
      [
        ["bot", "InputUser"],
        ["order", "Vector<string>"]
      ],
      "Bool"
    ],
    "bots.toggleUsername": [
      87861619,
      [
        ["bot", "InputUser"],
        ["username", "string"],
        ["active", "Bool"]
      ],
      "Bool"
    ],
    "bots.canSendMessage": [
      324662502,
      [
        ["bot", "InputUser"]
      ],
      "Bool"
    ],
    "bots.allowSendMessage": [
      4046644207,
      [
        ["bot", "InputUser"]
      ],
      "Updates"
    ],
    "bots.invokeWebViewCustomMethod": [
      142591463,
      [
        ["bot", "InputUser"],
        ["custom_method", "string"],
        ["params", "DataJSON"]
      ],
      "DataJSON"
    ],
    "bots.getPopularAppBots": [
      3260088722,
      [
        ["offset", "string"],
        ["limit", "int"]
      ],
      "bots.PopularAppBots"
    ],
    "bots.addPreviewMedia": [
      397326170,
      [
        ["bot", "InputUser"],
        ["lang_code", "string"],
        ["media", "InputMedia"]
      ],
      "BotPreviewMedia"
    ],
    "bots.editPreviewMedia": [
      2233819247,
      [
        ["bot", "InputUser"],
        ["lang_code", "string"],
        ["media", "InputMedia"],
        ["new_media", "InputMedia"]
      ],
      "BotPreviewMedia"
    ],
    "bots.deletePreviewMedia": [
      755054003,
      [
        ["bot", "InputUser"],
        ["lang_code", "string"],
        ["media", "Vector<InputMedia>"]
      ],
      "Bool"
    ],
    "bots.reorderPreviewMedias": [
      3056071594,
      [
        ["bot", "InputUser"],
        ["lang_code", "string"],
        ["order", "Vector<InputMedia>"]
      ],
      "Bool"
    ],
    "bots.getPreviewInfo": [
      1111143341,
      [
        ["bot", "InputUser"],
        ["lang_code", "string"]
      ],
      "bots.PreviewInfo"
    ],
    "bots.getPreviewMedias": [
      2728745293,
      [
        ["bot", "InputUser"]
      ],
      "Vector<BotPreviewMedia>"
    ],
    "bots.updateUserEmojiStatus": [
      3986632901,
      [
        ["user_id", "InputUser"],
        ["emoji_status", "EmojiStatus"]
      ],
      "Bool"
    ],
    "bots.toggleUserEmojiStatusPermission": [
      115237778,
      [
        ["bot", "InputUser"],
        ["enabled", "Bool"]
      ],
      "Bool"
    ],
    "bots.checkDownloadFileParams": [
      1342666121,
      [
        ["bot", "InputUser"],
        ["file_name", "string"],
        ["url", "string"]
      ],
      "Bool"
    ],
    "bots.getAdminedBots": [
      2960203139,
      [],
      "Vector<User>"
    ],
    "bots.updateStarRefProgram": [
      2005621427,
      [
        ["flags", "#"],
        ["bot", "InputUser"],
        ["commission_permille", "int"],
        ["duration_months", "flags.0?int"]
      ],
      "StarRefProgram"
    ],
    "bots.setCustomVerification": [
      2341068733,
      [
        ["flags", "#"],
        ["enabled", "flags.1?true"],
        ["bot", "flags.0?InputUser"],
        ["peer", "InputPeer"],
        ["custom_description", "flags.2?string"]
      ],
      "Bool"
    ],
    "bots.getBotRecommendations": [
      2713126933,
      [
        ["bot", "InputUser"]
      ],
      "users.Users"
    ],
    "payments.getPaymentForm": [
      924093883,
      [
        ["flags", "#"],
        ["invoice", "InputInvoice"],
        ["theme_params", "flags.0?DataJSON"]
      ],
      "payments.PaymentForm"
    ],
    "payments.getPaymentReceipt": [
      611897804,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"]
      ],
      "payments.PaymentReceipt"
    ],
    "payments.validateRequestedInfo": [
      3066622251,
      [
        ["flags", "#"],
        ["save", "flags.0?true"],
        ["invoice", "InputInvoice"],
        ["info", "PaymentRequestedInfo"]
      ],
      "payments.ValidatedRequestedInfo"
    ],
    "payments.sendPaymentForm": [
      755192367,
      [
        ["flags", "#"],
        ["form_id", "long"],
        ["invoice", "InputInvoice"],
        ["requested_info_id", "flags.0?string"],
        ["shipping_option_id", "flags.1?string"],
        ["credentials", "InputPaymentCredentials"],
        ["tip_amount", "flags.2?long"]
      ],
      "payments.PaymentResult"
    ],
    "payments.getSavedInfo": [
      578650699,
      [],
      "payments.SavedInfo"
    ],
    "payments.clearSavedInfo": [
      3627905217,
      [
        ["flags", "#"],
        ["credentials", "flags.0?true"],
        ["info", "flags.1?true"]
      ],
      "Bool"
    ],
    "payments.getBankCardData": [
      779736953,
      [
        ["number", "string"]
      ],
      "payments.BankCardData"
    ],
    "payments.exportInvoice": [
      261206117,
      [
        ["invoice_media", "InputMedia"]
      ],
      "payments.ExportedInvoice"
    ],
    "payments.assignAppStoreTransaction": [
      2163045501,
      [
        ["receipt", "bytes"],
        ["purpose", "InputStorePaymentPurpose"]
      ],
      "Updates"
    ],
    "payments.assignPlayMarketTransaction": [
      3757920467,
      [
        ["receipt", "DataJSON"],
        ["purpose", "InputStorePaymentPurpose"]
      ],
      "Updates"
    ],
    "payments.getPremiumGiftCodeOptions": [
      660060756,
      [
        ["flags", "#"],
        ["boost_peer", "flags.0?InputPeer"]
      ],
      "Vector<PremiumGiftCodeOption>"
    ],
    "payments.checkGiftCode": [
      2387719361,
      [
        ["slug", "string"]
      ],
      "payments.CheckedGiftCode"
    ],
    "payments.applyGiftCode": [
      4142032980,
      [
        ["slug", "string"]
      ],
      "Updates"
    ],
    "payments.getGiveawayInfo": [
      4095972389,
      [
        ["peer", "InputPeer"],
        ["msg_id", "int"]
      ],
      "payments.GiveawayInfo"
    ],
    "payments.launchPrepaidGiveaway": [
      1609928480,
      [
        ["peer", "InputPeer"],
        ["giveaway_id", "long"],
        ["purpose", "InputStorePaymentPurpose"]
      ],
      "Updates"
    ],
    "payments.getStarsTopupOptions": [
      3222194131,
      [],
      "Vector<StarsTopupOption>"
    ],
    "payments.getStarsStatus": [
      1319744447,
      [
        ["flags", "#"],
        ["ton", "flags.0?true"],
        ["peer", "InputPeer"]
      ],
      "payments.StarsStatus"
    ],
    "payments.getStarsTransactions": [
      1775912279,
      [
        ["flags", "#"],
        ["inbound", "flags.0?true"],
        ["outbound", "flags.1?true"],
        ["ascending", "flags.2?true"],
        ["ton", "flags.4?true"],
        ["subscription_id", "flags.3?string"],
        ["peer", "InputPeer"],
        ["offset", "string"],
        ["limit", "int"]
      ],
      "payments.StarsStatus"
    ],
    "payments.sendStarsForm": [
      2040056084,
      [
        ["form_id", "long"],
        ["invoice", "InputInvoice"]
      ],
      "payments.PaymentResult"
    ],
    "payments.refundStarsCharge": [
      632196938,
      [
        ["user_id", "InputUser"],
        ["charge_id", "string"]
      ],
      "Updates"
    ],
    "payments.getStarsRevenueStats": [
      3642751702,
      [
        ["flags", "#"],
        ["dark", "flags.0?true"],
        ["ton", "flags.1?true"],
        ["peer", "InputPeer"]
      ],
      "payments.StarsRevenueStats"
    ],
    "payments.getStarsRevenueWithdrawalUrl": [
      607378578,
      [
        ["flags", "#"],
        ["ton", "flags.0?true"],
        ["peer", "InputPeer"],
        ["amount", "flags.1?long"],
        ["password", "InputCheckPasswordSRP"]
      ],
      "payments.StarsRevenueWithdrawalUrl"
    ],
    "payments.getStarsRevenueAdsAccountUrl": [
      3520589765,
      [
        ["peer", "InputPeer"]
      ],
      "payments.StarsRevenueAdsAccountUrl"
    ],
    "payments.getStarsTransactionsByID": [
      768218808,
      [
        ["flags", "#"],
        ["ton", "flags.0?true"],
        ["peer", "InputPeer"],
        ["id", "Vector<InputStarsTransaction>"]
      ],
      "payments.StarsStatus"
    ],
    "payments.getStarsGiftOptions": [
      3553192904,
      [
        ["flags", "#"],
        ["user_id", "flags.0?InputUser"]
      ],
      "Vector<StarsGiftOption>"
    ],
    "payments.getStarsSubscriptions": [
      52761285,
      [
        ["flags", "#"],
        ["missing_balance", "flags.0?true"],
        ["peer", "InputPeer"],
        ["offset", "string"]
      ],
      "payments.StarsStatus"
    ],
    "payments.changeStarsSubscription": [
      3346466936,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["subscription_id", "string"],
        ["canceled", "flags.0?Bool"]
      ],
      "Bool"
    ],
    "payments.fulfillStarsSubscription": [
      3428576179,
      [
        ["peer", "InputPeer"],
        ["subscription_id", "string"]
      ],
      "Bool"
    ],
    "payments.getStarsGiveawayOptions": [
      3172924734,
      [],
      "Vector<StarsGiveawayOption>"
    ],
    "payments.getStarGifts": [
      3293984144,
      [
        ["hash", "int"]
      ],
      "payments.StarGifts"
    ],
    "payments.saveStarGift": [
      707422588,
      [
        ["flags", "#"],
        ["unsave", "flags.0?true"],
        ["stargift", "InputSavedStarGift"]
      ],
      "Bool"
    ],
    "payments.convertStarGift": [
      1958676331,
      [
        ["stargift", "InputSavedStarGift"]
      ],
      "Bool"
    ],
    "payments.botCancelStarsSubscription": [
      1845102114,
      [
        ["flags", "#"],
        ["restore", "flags.0?true"],
        ["user_id", "InputUser"],
        ["charge_id", "string"]
      ],
      "Bool"
    ],
    "payments.getConnectedStarRefBots": [
      1483318611,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["offset_date", "flags.2?int"],
        ["offset_link", "flags.2?string"],
        ["limit", "int"]
      ],
      "payments.ConnectedStarRefBots"
    ],
    "payments.getConnectedStarRefBot": [
      3084490992,
      [
        ["peer", "InputPeer"],
        ["bot", "InputUser"]
      ],
      "payments.ConnectedStarRefBots"
    ],
    "payments.getSuggestedStarRefBots": [
      225134839,
      [
        ["flags", "#"],
        ["order_by_revenue", "flags.0?true"],
        ["order_by_date", "flags.1?true"],
        ["peer", "InputPeer"],
        ["offset", "string"],
        ["limit", "int"]
      ],
      "payments.SuggestedStarRefBots"
    ],
    "payments.connectStarRefBot": [
      2127901834,
      [
        ["peer", "InputPeer"],
        ["bot", "InputUser"]
      ],
      "payments.ConnectedStarRefBots"
    ],
    "payments.editConnectedStarRefBot": [
      3841762467,
      [
        ["flags", "#"],
        ["revoked", "flags.0?true"],
        ["peer", "InputPeer"],
        ["link", "string"]
      ],
      "payments.ConnectedStarRefBots"
    ],
    "payments.getStarGiftUpgradePreview": [
      2627386545,
      [
        ["gift_id", "long"]
      ],
      "payments.StarGiftUpgradePreview"
    ],
    "payments.upgradeStarGift": [
      2933318901,
      [
        ["flags", "#"],
        ["keep_original_details", "flags.0?true"],
        ["stargift", "InputSavedStarGift"]
      ],
      "Updates"
    ],
    "payments.transferStarGift": [
      2132285290,
      [
        ["stargift", "InputSavedStarGift"],
        ["to_id", "InputPeer"]
      ],
      "Updates"
    ],
    "payments.getUniqueStarGift": [
      2711047538,
      [
        ["slug", "string"]
      ],
      "payments.UniqueStarGift"
    ],
    "payments.getSavedStarGifts": [
      2736383337,
      [
        ["flags", "#"],
        ["exclude_unsaved", "flags.0?true"],
        ["exclude_saved", "flags.1?true"],
        ["exclude_unlimited", "flags.2?true"],
        ["exclude_unique", "flags.4?true"],
        ["sort_by_value", "flags.5?true"],
        ["exclude_upgradable", "flags.7?true"],
        ["exclude_unupgradable", "flags.8?true"],
        ["peer_color_available", "flags.9?true"],
        ["exclude_hosted", "flags.10?true"],
        ["peer", "InputPeer"],
        ["collection_id", "flags.6?int"],
        ["offset", "string"],
        ["limit", "int"]
      ],
      "payments.SavedStarGifts"
    ],
    "payments.getSavedStarGift": [
      3025510662,
      [
        ["stargift", "Vector<InputSavedStarGift>"]
      ],
      "payments.SavedStarGifts"
    ],
    "payments.getStarGiftWithdrawalUrl": [
      3496907688,
      [
        ["stargift", "InputSavedStarGift"],
        ["password", "InputCheckPasswordSRP"]
      ],
      "payments.StarGiftWithdrawalUrl"
    ],
    "payments.toggleChatStarGiftNotifications": [
      1626009505,
      [
        ["flags", "#"],
        ["enabled", "flags.0?true"],
        ["peer", "InputPeer"]
      ],
      "Bool"
    ],
    "payments.toggleStarGiftsPinnedToTop": [
      353626032,
      [
        ["peer", "InputPeer"],
        ["stargift", "Vector<InputSavedStarGift>"]
      ],
      "Bool"
    ],
    "payments.canPurchaseStore": [
      1339842215,
      [
        ["purpose", "InputStorePaymentPurpose"]
      ],
      "Bool"
    ],
    "payments.getResaleStarGifts": [
      2053087798,
      [
        ["flags", "#"],
        ["sort_by_price", "flags.1?true"],
        ["sort_by_num", "flags.2?true"],
        ["attributes_hash", "flags.0?long"],
        ["gift_id", "long"],
        ["attributes", "flags.3?Vector<StarGiftAttributeId>"],
        ["offset", "string"],
        ["limit", "int"]
      ],
      "payments.ResaleStarGifts"
    ],
    "payments.updateStarGiftPrice": [
      3988679883,
      [
        ["stargift", "InputSavedStarGift"],
        ["resell_amount", "StarsAmount"]
      ],
      "Updates"
    ],
    "payments.createStarGiftCollection": [
      524947079,
      [
        ["peer", "InputPeer"],
        ["title", "string"],
        ["stargift", "Vector<InputSavedStarGift>"]
      ],
      "StarGiftCollection"
    ],
    "payments.updateStarGiftCollection": [
      1339932391,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["collection_id", "int"],
        ["title", "flags.0?string"],
        ["delete_stargift", "flags.1?Vector<InputSavedStarGift>"],
        ["add_stargift", "flags.2?Vector<InputSavedStarGift>"],
        ["order", "flags.3?Vector<InputSavedStarGift>"]
      ],
      "StarGiftCollection"
    ],
    "payments.reorderStarGiftCollections": [
      3274372300,
      [
        ["peer", "InputPeer"],
        ["order", "Vector<int>"]
      ],
      "Bool"
    ],
    "payments.deleteStarGiftCollection": [
      2908113128,
      [
        ["peer", "InputPeer"],
        ["collection_id", "int"]
      ],
      "Bool"
    ],
    "payments.getStarGiftCollections": [
      2551943645,
      [
        ["peer", "InputPeer"],
        ["hash", "long"]
      ],
      "payments.StarGiftCollections"
    ],
    "payments.getUniqueStarGiftValueInfo": [
      1130737515,
      [
        ["slug", "string"]
      ],
      "payments.UniqueStarGiftValueInfo"
    ],
    "payments.checkCanSendGift": [
      3234131401,
      [
        ["gift_id", "long"]
      ],
      "payments.CheckCanSendGiftResult"
    ],
    "payments.getStarGiftAuctionState": [
      1553986774,
      [
        ["auction", "InputStarGiftAuction"],
        ["version", "int"]
      ],
      "payments.StarGiftAuctionState"
    ],
    "payments.getStarGiftAuctionAcquiredGifts": [
      1805831148,
      [
        ["gift_id", "long"]
      ],
      "payments.StarGiftAuctionAcquiredGifts"
    ],
    "payments.getStarGiftActiveAuctions": [
      2781892941,
      [
        ["hash", "long"]
      ],
      "payments.StarGiftActiveAuctions"
    ],
    "payments.resolveStarGiftOffer": [
      3922622492,
      [
        ["flags", "#"],
        ["decline", "flags.0?true"],
        ["offer_msg_id", "int"]
      ],
      "Updates"
    ],
    "payments.sendStarGiftOffer": [
      2411227969,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["slug", "string"],
        ["price", "StarsAmount"],
        ["duration", "int"],
        ["random_id", "long"],
        ["allow_paid_stars", "flags.0?long"]
      ],
      "Updates"
    ],
    "payments.getStarGiftUpgradeAttributes": [
      1828948824,
      [
        ["gift_id", "long"]
      ],
      "payments.StarGiftUpgradeAttributes"
    ],
    "stickers.createStickerSet": [
      2418125671,
      [
        ["flags", "#"],
        ["masks", "flags.0?true"],
        ["emojis", "flags.5?true"],
        ["text_color", "flags.6?true"],
        ["user_id", "InputUser"],
        ["title", "string"],
        ["short_name", "string"],
        ["thumb", "flags.2?InputDocument"],
        ["stickers", "Vector<InputStickerSetItem>"],
        ["software", "flags.3?string"]
      ],
      "messages.StickerSet"
    ],
    "stickers.removeStickerFromSet": [
      4151709521,
      [
        ["sticker", "InputDocument"]
      ],
      "messages.StickerSet"
    ],
    "stickers.changeStickerPosition": [
      4290172106,
      [
        ["sticker", "InputDocument"],
        ["position", "int"]
      ],
      "messages.StickerSet"
    ],
    "stickers.addStickerToSet": [
      2253651646,
      [
        ["stickerset", "InputStickerSet"],
        ["sticker", "InputStickerSetItem"]
      ],
      "messages.StickerSet"
    ],
    "stickers.setStickerSetThumb": [
      2808763282,
      [
        ["flags", "#"],
        ["stickerset", "InputStickerSet"],
        ["thumb", "flags.0?InputDocument"],
        ["thumb_document_id", "flags.1?long"]
      ],
      "messages.StickerSet"
    ],
    "stickers.checkShortName": [
      676017721,
      [
        ["short_name", "string"]
      ],
      "Bool"
    ],
    "stickers.suggestShortName": [
      1303364867,
      [
        ["title", "string"]
      ],
      "stickers.SuggestedShortName"
    ],
    "stickers.changeSticker": [
      4115889852,
      [
        ["flags", "#"],
        ["sticker", "InputDocument"],
        ["emoji", "flags.0?string"],
        ["mask_coords", "flags.1?MaskCoords"],
        ["keywords", "flags.2?string"]
      ],
      "messages.StickerSet"
    ],
    "stickers.renameStickerSet": [
      306912256,
      [
        ["stickerset", "InputStickerSet"],
        ["title", "string"]
      ],
      "messages.StickerSet"
    ],
    "stickers.deleteStickerSet": [
      2272281492,
      [
        ["stickerset", "InputStickerSet"]
      ],
      "Bool"
    ],
    "stickers.replaceSticker": [
      1184253338,
      [
        ["sticker", "InputDocument"],
        ["new_sticker", "InputStickerSetItem"]
      ],
      "messages.StickerSet"
    ],
    "phone.getCallConfig": [
      1430593449,
      [],
      "DataJSON"
    ],
    "phone.requestCall": [
      1124046573,
      [
        ["flags", "#"],
        ["video", "flags.0?true"],
        ["user_id", "InputUser"],
        ["random_id", "int"],
        ["g_a_hash", "bytes"],
        ["protocol", "PhoneCallProtocol"]
      ],
      "phone.PhoneCall"
    ],
    "phone.acceptCall": [
      1003664544,
      [
        ["peer", "InputPhoneCall"],
        ["g_b", "bytes"],
        ["protocol", "PhoneCallProtocol"]
      ],
      "phone.PhoneCall"
    ],
    "phone.confirmCall": [
      788404002,
      [
        ["peer", "InputPhoneCall"],
        ["g_a", "bytes"],
        ["key_fingerprint", "long"],
        ["protocol", "PhoneCallProtocol"]
      ],
      "phone.PhoneCall"
    ],
    "phone.receivedCall": [
      399855457,
      [
        ["peer", "InputPhoneCall"]
      ],
      "Bool"
    ],
    "phone.discardCall": [
      2999697856,
      [
        ["flags", "#"],
        ["video", "flags.0?true"],
        ["peer", "InputPhoneCall"],
        ["duration", "int"],
        ["reason", "PhoneCallDiscardReason"],
        ["connection_id", "long"]
      ],
      "Updates"
    ],
    "phone.setCallRating": [
      1508562471,
      [
        ["flags", "#"],
        ["user_initiative", "flags.0?true"],
        ["peer", "InputPhoneCall"],
        ["rating", "int"],
        ["comment", "string"]
      ],
      "Updates"
    ],
    "phone.saveCallDebug": [
      662363518,
      [
        ["peer", "InputPhoneCall"],
        ["debug", "DataJSON"]
      ],
      "Bool"
    ],
    "phone.sendSignalingData": [
      4286223235,
      [
        ["peer", "InputPhoneCall"],
        ["data", "bytes"]
      ],
      "Bool"
    ],
    "phone.createGroupCall": [
      1221445336,
      [
        ["flags", "#"],
        ["rtmp_stream", "flags.2?true"],
        ["peer", "InputPeer"],
        ["random_id", "int"],
        ["title", "flags.0?string"],
        ["schedule_date", "flags.1?int"]
      ],
      "Updates"
    ],
    "phone.joinGroupCall": [
      2411016279,
      [
        ["flags", "#"],
        ["muted", "flags.0?true"],
        ["video_stopped", "flags.2?true"],
        ["call", "InputGroupCall"],
        ["join_as", "InputPeer"],
        ["invite_hash", "flags.1?string"],
        ["public_key", "flags.3?int256"],
        ["block", "flags.3?bytes"],
        ["params", "DataJSON"]
      ],
      "Updates"
    ],
    "phone.leaveGroupCall": [
      1342404601,
      [
        ["call", "InputGroupCall"],
        ["source", "int"]
      ],
      "Updates"
    ],
    "phone.inviteToGroupCall": [
      2067345760,
      [
        ["call", "InputGroupCall"],
        ["users", "Vector<InputUser>"]
      ],
      "Updates"
    ],
    "phone.discardGroupCall": [
      2054648117,
      [
        ["call", "InputGroupCall"]
      ],
      "Updates"
    ],
    "phone.toggleGroupCallSettings": [
      2537788146,
      [
        ["flags", "#"],
        ["reset_invite_hash", "flags.1?true"],
        ["call", "InputGroupCall"],
        ["join_muted", "flags.0?Bool"],
        ["messages_enabled", "flags.2?Bool"],
        ["send_paid_messages_stars", "flags.3?long"]
      ],
      "Updates"
    ],
    "phone.getGroupCall": [
      68699611,
      [
        ["call", "InputGroupCall"],
        ["limit", "int"]
      ],
      "phone.GroupCall"
    ],
    "phone.getGroupParticipants": [
      3310934187,
      [
        ["call", "InputGroupCall"],
        ["ids", "Vector<InputPeer>"],
        ["sources", "Vector<int>"],
        ["offset", "string"],
        ["limit", "int"]
      ],
      "phone.GroupParticipants"
    ],
    "phone.checkGroupCall": [
      3046963575,
      [
        ["call", "InputGroupCall"],
        ["sources", "Vector<int>"]
      ],
      "Vector<int>"
    ],
    "phone.toggleGroupCallRecord": [
      4045981448,
      [
        ["flags", "#"],
        ["start", "flags.0?true"],
        ["video", "flags.2?true"],
        ["call", "InputGroupCall"],
        ["title", "flags.1?string"],
        ["video_portrait", "flags.2?Bool"]
      ],
      "Updates"
    ],
    "phone.editGroupCallParticipant": [
      2770811583,
      [
        ["flags", "#"],
        ["call", "InputGroupCall"],
        ["participant", "InputPeer"],
        ["muted", "flags.0?Bool"],
        ["volume", "flags.1?int"],
        ["raise_hand", "flags.2?Bool"],
        ["video_stopped", "flags.3?Bool"],
        ["video_paused", "flags.4?Bool"],
        ["presentation_paused", "flags.5?Bool"]
      ],
      "Updates"
    ],
    "phone.editGroupCallTitle": [
      480685066,
      [
        ["call", "InputGroupCall"],
        ["title", "string"]
      ],
      "Updates"
    ],
    "phone.getGroupCallJoinAs": [
      4017889594,
      [
        ["peer", "InputPeer"]
      ],
      "phone.JoinAsPeers"
    ],
    "phone.exportGroupCallInvite": [
      3869926527,
      [
        ["flags", "#"],
        ["can_self_unmute", "flags.0?true"],
        ["call", "InputGroupCall"]
      ],
      "phone.ExportedGroupCallInvite"
    ],
    "phone.toggleGroupCallStartSubscription": [
      563885286,
      [
        ["call", "InputGroupCall"],
        ["subscribed", "Bool"]
      ],
      "Updates"
    ],
    "phone.startScheduledGroupCall": [
      1451287362,
      [
        ["call", "InputGroupCall"]
      ],
      "Updates"
    ],
    "phone.saveDefaultGroupCallJoinAs": [
      1465786252,
      [
        ["peer", "InputPeer"],
        ["join_as", "InputPeer"]
      ],
      "Bool"
    ],
    "phone.joinGroupCallPresentation": [
      3421137860,
      [
        ["call", "InputGroupCall"],
        ["params", "DataJSON"]
      ],
      "Updates"
    ],
    "phone.leaveGroupCallPresentation": [
      475058500,
      [
        ["call", "InputGroupCall"]
      ],
      "Updates"
    ],
    "phone.getGroupCallStreamChannels": [
      447879488,
      [
        ["call", "InputGroupCall"]
      ],
      "phone.GroupCallStreamChannels"
    ],
    "phone.getGroupCallStreamRtmpUrl": [
      1525991226,
      [
        ["flags", "#"],
        ["live_story", "flags.0?true"],
        ["peer", "InputPeer"],
        ["revoke", "Bool"]
      ],
      "phone.GroupCallStreamRtmpUrl"
    ],
    "phone.saveCallLog": [
      1092913030,
      [
        ["peer", "InputPhoneCall"],
        ["file", "InputFile"]
      ],
      "Bool"
    ],
    "phone.createConferenceCall": [
      2097431739,
      [
        ["flags", "#"],
        ["muted", "flags.0?true"],
        ["video_stopped", "flags.2?true"],
        ["join", "flags.3?true"],
        ["random_id", "int"],
        ["public_key", "flags.3?int256"],
        ["block", "flags.3?bytes"],
        ["params", "flags.3?DataJSON"]
      ],
      "Updates"
    ],
    "phone.deleteConferenceCallParticipants": [
      2359690533,
      [
        ["flags", "#"],
        ["only_left", "flags.0?true"],
        ["kick", "flags.1?true"],
        ["call", "InputGroupCall"],
        ["ids", "Vector<long>"],
        ["block", "bytes"]
      ],
      "Updates"
    ],
    "phone.sendConferenceCallBroadcast": [
      3329235200,
      [
        ["call", "InputGroupCall"],
        ["block", "bytes"]
      ],
      "Updates"
    ],
    "phone.inviteConferenceCallParticipant": [
      3169986181,
      [
        ["flags", "#"],
        ["video", "flags.0?true"],
        ["call", "InputGroupCall"],
        ["user_id", "InputUser"]
      ],
      "Updates"
    ],
    "phone.declineConferenceCallInvite": [
      1011325297,
      [
        ["msg_id", "int"]
      ],
      "Updates"
    ],
    "phone.getGroupCallChainBlocks": [
      4003432614,
      [
        ["call", "InputGroupCall"],
        ["sub_chain_id", "int"],
        ["offset", "int"],
        ["limit", "int"]
      ],
      "Updates"
    ],
    "phone.sendGroupCallMessage": [
      2983269392,
      [
        ["flags", "#"],
        ["call", "InputGroupCall"],
        ["random_id", "long"],
        ["message", "TextWithEntities"],
        ["allow_paid_stars", "flags.0?long"],
        ["send_as", "flags.1?InputPeer"]
      ],
      "Updates"
    ],
    "phone.sendGroupCallEncryptedMessage": [
      3853493613,
      [
        ["call", "InputGroupCall"],
        ["encrypted_message", "bytes"]
      ],
      "Bool"
    ],
    "phone.deleteGroupCallMessages": [
      4132394231,
      [
        ["flags", "#"],
        ["report_spam", "flags.0?true"],
        ["call", "InputGroupCall"],
        ["messages", "Vector<int>"]
      ],
      "Updates"
    ],
    "phone.deleteGroupCallParticipantMessages": [
      499117216,
      [
        ["flags", "#"],
        ["report_spam", "flags.0?true"],
        ["call", "InputGroupCall"],
        ["participant", "InputPeer"]
      ],
      "Updates"
    ],
    "phone.getGroupCallStars": [
      1868784386,
      [
        ["call", "InputGroupCall"]
      ],
      "phone.GroupCallStars"
    ],
    "phone.saveDefaultSendAs": [
      1097313745,
      [
        ["call", "InputGroupCall"],
        ["send_as", "InputPeer"]
      ],
      "Bool"
    ],
    "langpack.getLangPack": [
      4075959050,
      [
        ["lang_pack", "string"],
        ["lang_code", "string"]
      ],
      "LangPackDifference"
    ],
    "langpack.getStrings": [
      4025104387,
      [
        ["lang_pack", "string"],
        ["lang_code", "string"],
        ["keys", "Vector<string>"]
      ],
      "Vector<LangPackString>"
    ],
    "langpack.getDifference": [
      3449309861,
      [
        ["lang_pack", "string"],
        ["lang_code", "string"],
        ["from_version", "int"]
      ],
      "LangPackDifference"
    ],
    "langpack.getLanguages": [
      1120311183,
      [
        ["lang_pack", "string"]
      ],
      "Vector<LangPackLanguage>"
    ],
    "langpack.getLanguage": [
      1784243458,
      [
        ["lang_pack", "string"],
        ["lang_code", "string"]
      ],
      "LangPackLanguage"
    ],
    "folders.editPeerFolders": [
      1749536939,
      [
        ["folder_peers", "Vector<InputFolderPeer>"]
      ],
      "Updates"
    ],
    "stats.getBroadcastStats": [
      2873246746,
      [
        ["flags", "#"],
        ["dark", "flags.0?true"],
        ["channel", "InputChannel"]
      ],
      "stats.BroadcastStats"
    ],
    "stats.loadAsyncGraph": [
      1646092192,
      [
        ["flags", "#"],
        ["token", "string"],
        ["x", "flags.0?long"]
      ],
      "StatsGraph"
    ],
    "stats.getMegagroupStats": [
      3705636359,
      [
        ["flags", "#"],
        ["dark", "flags.0?true"],
        ["channel", "InputChannel"]
      ],
      "stats.MegagroupStats"
    ],
    "stats.getMessagePublicForwards": [
      1595212100,
      [
        ["channel", "InputChannel"],
        ["msg_id", "int"],
        ["offset", "string"],
        ["limit", "int"]
      ],
      "stats.PublicForwards"
    ],
    "stats.getMessageStats": [
      3068175349,
      [
        ["flags", "#"],
        ["dark", "flags.0?true"],
        ["channel", "InputChannel"],
        ["msg_id", "int"]
      ],
      "stats.MessageStats"
    ],
    "stats.getStoryStats": [
      927985472,
      [
        ["flags", "#"],
        ["dark", "flags.0?true"],
        ["peer", "InputPeer"],
        ["id", "int"]
      ],
      "stats.StoryStats"
    ],
    "stats.getStoryPublicForwards": [
      2789441270,
      [
        ["peer", "InputPeer"],
        ["id", "int"],
        ["offset", "string"],
        ["limit", "int"]
      ],
      "stats.PublicForwards"
    ],
    "chatlists.exportChatlistInvite": [
      2222081934,
      [
        ["chatlist", "InputChatlist"],
        ["title", "string"],
        ["peers", "Vector<InputPeer>"]
      ],
      "chatlists.ExportedChatlistInvite"
    ],
    "chatlists.deleteExportedInvite": [
      1906072670,
      [
        ["chatlist", "InputChatlist"],
        ["slug", "string"]
      ],
      "Bool"
    ],
    "chatlists.editExportedInvite": [
      1698543165,
      [
        ["flags", "#"],
        ["chatlist", "InputChatlist"],
        ["slug", "string"],
        ["title", "flags.1?string"],
        ["peers", "flags.2?Vector<InputPeer>"]
      ],
      "ExportedChatlistInvite"
    ],
    "chatlists.getExportedInvites": [
      3456359043,
      [
        ["chatlist", "InputChatlist"]
      ],
      "chatlists.ExportedInvites"
    ],
    "chatlists.checkChatlistInvite": [
      1103171583,
      [
        ["slug", "string"]
      ],
      "chatlists.ChatlistInvite"
    ],
    "chatlists.joinChatlistInvite": [
      2796675994,
      [
        ["slug", "string"],
        ["peers", "Vector<InputPeer>"]
      ],
      "Updates"
    ],
    "chatlists.getChatlistUpdates": [
      2302776609,
      [
        ["chatlist", "InputChatlist"]
      ],
      "chatlists.ChatlistUpdates"
    ],
    "chatlists.joinChatlistUpdates": [
      3767138549,
      [
        ["chatlist", "InputChatlist"],
        ["peers", "Vector<InputPeer>"]
      ],
      "Updates"
    ],
    "chatlists.hideChatlistUpdates": [
      1726252795,
      [
        ["chatlist", "InputChatlist"]
      ],
      "Bool"
    ],
    "chatlists.getLeaveChatlistSuggestions": [
      4257011476,
      [
        ["chatlist", "InputChatlist"]
      ],
      "Vector<Peer>"
    ],
    "chatlists.leaveChatlist": [
      1962598714,
      [
        ["chatlist", "InputChatlist"],
        ["peers", "Vector<InputPeer>"]
      ],
      "Updates"
    ],
    "stories.canSendStory": [
      820732912,
      [
        ["peer", "InputPeer"]
      ],
      "stories.CanSendStoryCount"
    ],
    "stories.sendStory": [
      1937752812,
      [
        ["flags", "#"],
        ["pinned", "flags.2?true"],
        ["noforwards", "flags.4?true"],
        ["fwd_modified", "flags.7?true"],
        ["peer", "InputPeer"],
        ["media", "InputMedia"],
        ["media_areas", "flags.5?Vector<MediaArea>"],
        ["caption", "flags.0?string"],
        ["entities", "flags.1?Vector<MessageEntity>"],
        ["privacy_rules", "Vector<InputPrivacyRule>"],
        ["random_id", "long"],
        ["period", "flags.3?int"],
        ["fwd_from_id", "flags.6?InputPeer"],
        ["fwd_from_story", "flags.6?int"],
        ["albums", "flags.8?Vector<int>"]
      ],
      "Updates"
    ],
    "stories.editStory": [
      3045308998,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["id", "int"],
        ["media", "flags.0?InputMedia"],
        ["media_areas", "flags.3?Vector<MediaArea>"],
        ["caption", "flags.1?string"],
        ["entities", "flags.1?Vector<MessageEntity>"],
        ["privacy_rules", "flags.2?Vector<InputPrivacyRule>"]
      ],
      "Updates"
    ],
    "stories.deleteStories": [
      2925124447,
      [
        ["peer", "InputPeer"],
        ["id", "Vector<int>"]
      ],
      "Vector<int>"
    ],
    "stories.togglePinned": [
      2591400431,
      [
        ["peer", "InputPeer"],
        ["id", "Vector<int>"],
        ["pinned", "Bool"]
      ],
      "Vector<int>"
    ],
    "stories.getAllStories": [
      4004566565,
      [
        ["flags", "#"],
        ["next", "flags.1?true"],
        ["hidden", "flags.2?true"],
        ["state", "flags.0?string"]
      ],
      "stories.AllStories"
    ],
    "stories.getPinnedStories": [
      1478600156,
      [
        ["peer", "InputPeer"],
        ["offset_id", "int"],
        ["limit", "int"]
      ],
      "stories.Stories"
    ],
    "stories.getStoriesArchive": [
      3023380502,
      [
        ["peer", "InputPeer"],
        ["offset_id", "int"],
        ["limit", "int"]
      ],
      "stories.Stories"
    ],
    "stories.getStoriesByID": [
      1467271796,
      [
        ["peer", "InputPeer"],
        ["id", "Vector<int>"]
      ],
      "stories.Stories"
    ],
    "stories.toggleAllStoriesHidden": [
      2082822084,
      [
        ["hidden", "Bool"]
      ],
      "Bool"
    ],
    "stories.readStories": [
      2773932744,
      [
        ["peer", "InputPeer"],
        ["max_id", "int"]
      ],
      "Vector<int>"
    ],
    "stories.incrementStoryViews": [
      2986511099,
      [
        ["peer", "InputPeer"],
        ["id", "Vector<int>"]
      ],
      "Bool"
    ],
    "stories.getStoryViewsList": [
      2127707223,
      [
        ["flags", "#"],
        ["just_contacts", "flags.0?true"],
        ["reactions_first", "flags.2?true"],
        ["forwards_first", "flags.3?true"],
        ["peer", "InputPeer"],
        ["q", "flags.1?string"],
        ["id", "int"],
        ["offset", "string"],
        ["limit", "int"]
      ],
      "stories.StoryViewsList"
    ],
    "stories.getStoriesViews": [
      685862088,
      [
        ["peer", "InputPeer"],
        ["id", "Vector<int>"]
      ],
      "stories.StoryViews"
    ],
    "stories.exportStoryLink": [
      2072899360,
      [
        ["peer", "InputPeer"],
        ["id", "int"]
      ],
      "ExportedStoryLink"
    ],
    "stories.report": [
      433646405,
      [
        ["peer", "InputPeer"],
        ["id", "Vector<int>"],
        ["option", "bytes"],
        ["message", "string"]
      ],
      "ReportResult"
    ],
    "stories.activateStealthMode": [
      1471926630,
      [
        ["flags", "#"],
        ["past", "flags.0?true"],
        ["future", "flags.1?true"]
      ],
      "Updates"
    ],
    "stories.sendReaction": [
      2144810674,
      [
        ["flags", "#"],
        ["add_to_recent", "flags.0?true"],
        ["peer", "InputPeer"],
        ["story_id", "int"],
        ["reaction", "Reaction"]
      ],
      "Updates"
    ],
    "stories.getPeerStories": [
      743103056,
      [
        ["peer", "InputPeer"]
      ],
      "stories.PeerStories"
    ],
    "stories.getAllReadPeerStories": [
      2606426105,
      [],
      "Updates"
    ],
    "stories.getPeerMaxIDs": [
      2018087280,
      [
        ["id", "Vector<InputPeer>"]
      ],
      "Vector<RecentStory>"
    ],
    "stories.getChatsToSend": [
      2775223136,
      [],
      "messages.Chats"
    ],
    "stories.togglePeerStoriesHidden": [
      3171161540,
      [
        ["peer", "InputPeer"],
        ["hidden", "Bool"]
      ],
      "Bool"
    ],
    "stories.getStoryReactionsList": [
      3115485215,
      [
        ["flags", "#"],
        ["forwards_first", "flags.2?true"],
        ["peer", "InputPeer"],
        ["id", "int"],
        ["reaction", "flags.0?Reaction"],
        ["offset", "flags.1?string"],
        ["limit", "int"]
      ],
      "stories.StoryReactionsList"
    ],
    "stories.togglePinnedToTop": [
      187268763,
      [
        ["peer", "InputPeer"],
        ["id", "Vector<int>"]
      ],
      "Bool"
    ],
    "stories.searchPosts": [
      3514894599,
      [
        ["flags", "#"],
        ["hashtag", "flags.0?string"],
        ["area", "flags.1?MediaArea"],
        ["peer", "flags.2?InputPeer"],
        ["offset", "string"],
        ["limit", "int"]
      ],
      "stories.FoundStories"
    ],
    "stories.createAlbum": [
      2741212901,
      [
        ["peer", "InputPeer"],
        ["title", "string"],
        ["stories", "Vector<int>"]
      ],
      "StoryAlbum"
    ],
    "stories.updateAlbum": [
      1582455222,
      [
        ["flags", "#"],
        ["peer", "InputPeer"],
        ["album_id", "int"],
        ["title", "flags.0?string"],
        ["delete_stories", "flags.1?Vector<int>"],
        ["add_stories", "flags.2?Vector<int>"],
        ["order", "flags.3?Vector<int>"]
      ],
      "StoryAlbum"
    ],
    "stories.reorderAlbums": [
      2234907609,
      [
        ["peer", "InputPeer"],
        ["order", "Vector<int>"]
      ],
      "Bool"
    ],
    "stories.deleteAlbum": [
      2369017552,
      [
        ["peer", "InputPeer"],
        ["album_id", "int"]
      ],
      "Bool"
    ],
    "stories.getAlbums": [
      632548039,
      [
        ["peer", "InputPeer"],
        ["hash", "long"]
      ],
      "stories.Albums"
    ],
    "stories.getAlbumStories": [
      2894097761,
      [
        ["peer", "InputPeer"],
        ["album_id", "int"],
        ["offset", "int"],
        ["limit", "int"]
      ],
      "stories.Stories"
    ],
    "stories.startLive": [
      3496594654,
      [
        ["flags", "#"],
        ["pinned", "flags.2?true"],
        ["noforwards", "flags.4?true"],
        ["rtmp_stream", "flags.5?true"],
        ["peer", "InputPeer"],
        ["caption", "flags.0?string"],
        ["entities", "flags.1?Vector<MessageEntity>"],
        ["privacy_rules", "Vector<InputPrivacyRule>"],
        ["random_id", "long"],
        ["messages_enabled", "flags.6?Bool"],
        ["send_paid_messages_stars", "flags.7?long"]
      ],
      "Updates"
    ],
    "premium.getBoostsList": [
      1626764896,
      [
        ["flags", "#"],
        ["gifts", "flags.0?true"],
        ["peer", "InputPeer"],
        ["offset", "string"],
        ["limit", "int"]
      ],
      "premium.BoostsList"
    ],
    "premium.getMyBoosts": [
      199719754,
      [],
      "premium.MyBoosts"
    ],
    "premium.applyBoost": [
      1803396934,
      [
        ["flags", "#"],
        ["slots", "flags.0?Vector<int>"],
        ["peer", "InputPeer"]
      ],
      "premium.MyBoosts"
    ],
    "premium.getBoostsStatus": [
      70197089,
      [
        ["peer", "InputPeer"]
      ],
      "premium.BoostsStatus"
    ],
    "premium.getUserBoosts": [
      965037343,
      [
        ["peer", "InputPeer"],
        ["user_id", "InputUser"]
      ],
      "premium.BoostsList"
    ],
    "smsjobs.isEligibleToJoin": [
      249313744,
      [],
      "smsjobs.EligibilityToJoin"
    ],
    "smsjobs.join": [
      2806959661,
      [],
      "Bool"
    ],
    "smsjobs.leave": [
      2560142707,
      [],
      "Bool"
    ],
    "smsjobs.updateSettings": [
      155164863,
      [
        ["flags", "#"],
        ["allow_international", "flags.0?true"]
      ],
      "Bool"
    ],
    "smsjobs.getStatus": [
      279353576,
      [],
      "smsjobs.Status"
    ],
    "smsjobs.getSmsJob": [
      2005766191,
      [
        ["job_id", "string"]
      ],
      "SmsJob"
    ],
    "smsjobs.finishJob": [
      1327415076,
      [
        ["flags", "#"],
        ["job_id", "string"],
        ["error", "flags.0?string"]
      ],
      "Bool"
    ],
    "fragment.getCollectibleInfo": [
      3189671354,
      [
        ["collectible", "InputCollectible"]
      ],
      "fragment.CollectibleInfo"
    ]
  },
  identifierToName: {
    [1072550713]: "true",
    [3300522427]: "error",
    [3560156531]: "ipPort",
    [932718150]: "ipPortSecret",
    [1182381663]: "accessPointRule",
    [1515793004]: "help.configSimple",
    [668375447]: "inputPeerPhotoFileLocationLegacy",
    [230353641]: "inputStickerSetThumbLegacy",
    [2134579434]: "inputPeerEmpty",
    [2107670217]: "inputPeerSelf",
    [900291769]: "inputPeerChat",
    [3723011404]: "inputPeerUser",
    [666680316]: "inputPeerChannel",
    [2826635804]: "inputPeerUserFromMessage",
    [3173648448]: "inputPeerChannelFromMessage",
    [3112732367]: "inputUserEmpty",
    [4156666175]: "inputUserSelf",
    [4061223110]: "inputUser",
    [497305826]: "inputUserFromMessage",
    [1780335806]: "inputPhoneContact",
    [4113560191]: "inputFile",
    [4199484341]: "inputFileBig",
    [1658620744]: "inputFileStoryDocument",
    [2523198847]: "inputMediaEmpty",
    [505969924]: "inputMediaUploadedPhoto",
    [3015312949]: "inputMediaPhoto",
    [4190388548]: "inputMediaGeoPoint",
    [4171988475]: "inputMediaContact",
    [58495792]: "inputMediaUploadedDocument",
    [2826320565]: "inputMediaDocument",
    [3242007569]: "inputMediaVenue",
    [3854302746]: "inputMediaPhotoExternal",
    [2006319353]: "inputMediaDocumentExternal",
    [3544138739]: "inputMediaGame",
    [1080028941]: "inputMediaInvoice",
    [2535434307]: "inputMediaGeoLive",
    [261416433]: "inputMediaPoll",
    [3866083195]: "inputMediaDice",
    [2315114360]: "inputMediaStory",
    [3256584265]: "inputMediaWebPage",
    [3289396102]: "inputMediaPaidMedia",
    [2680512478]: "inputMediaTodo",
    [4087948362]: "inputMediaStakeDice",
    [480546647]: "inputChatPhotoEmpty",
    [3184373440]: "inputChatUploadedPhoto",
    [2303962423]: "inputChatPhoto",
    [3837862870]: "inputGeoPointEmpty",
    [1210199983]: "inputGeoPoint",
    [483901197]: "inputPhotoEmpty",
    [1001634122]: "inputPhoto",
    [3755650017]: "inputFileLocation",
    [4112735573]: "inputEncryptedFileLocation",
    [3134223748]: "inputDocumentFileLocation",
    [3418877480]: "inputSecureFileLocation",
    [700340377]: "inputTakeoutFileLocation",
    [1075322878]: "inputPhotoFileLocation",
    [3627312883]: "inputPhotoLegacyFileLocation",
    [925204121]: "inputPeerPhotoFileLocation",
    [2642736091]: "inputStickerSetThumb",
    [93890858]: "inputGroupCallStream",
    [1498486562]: "peerUser",
    [918946202]: "peerChat",
    [2728736542]: "peerChannel",
    [2861972229]: "storage.fileUnknown",
    [1086091090]: "storage.filePartial",
    [8322574]: "storage.fileJpeg",
    [3403786975]: "storage.fileGif",
    [172975040]: "storage.filePng",
    [2921222285]: "storage.filePdf",
    [1384777335]: "storage.fileMp3",
    [1258941372]: "storage.fileMov",
    [3016663268]: "storage.fileMp4",
    [276907596]: "storage.fileWebp",
    [3552332666]: "userEmpty",
    [829899656]: "user",
    [1326562017]: "userProfilePhotoEmpty",
    [2194798342]: "userProfilePhoto",
    [164646985]: "userStatusEmpty",
    [3988339017]: "userStatusOnline",
    [9203775]: "userStatusOffline",
    [2065268168]: "userStatusRecently",
    [1410997530]: "userStatusLastWeek",
    [1703516023]: "userStatusLastMonth",
    [693512293]: "chatEmpty",
    [1103884886]: "chat",
    [1704108455]: "chatForbidden",
    [473084188]: "channel",
    [399807445]: "channelForbidden",
    [640893467]: "chatFull",
    [3839931037]: "channelFull",
    [3224190983]: "chatParticipant",
    [3832270564]: "chatParticipantCreator",
    [2694004571]: "chatParticipantAdmin",
    [2271466465]: "chatParticipantsForbidden",
    [1018991608]: "chatParticipants",
    [935395612]: "chatPhotoEmpty",
    [476978193]: "chatPhoto",
    [2426849924]: "messageEmpty",
    [2629079273]: "message",
    [2055212554]: "messageService",
    [1038967584]: "messageMediaEmpty",
    [1766936791]: "messageMediaPhoto",
    [1457575028]: "messageMediaGeo",
    [1882335561]: "messageMediaContact",
    [2676290718]: "messageMediaUnsupported",
    [1389939929]: "messageMediaDocument",
    [3723562043]: "messageMediaWebPage",
    [784356159]: "messageMediaVenue",
    [4256272392]: "messageMediaGame",
    [4138027219]: "messageMediaInvoice",
    [3108030054]: "messageMediaGeoLive",
    [1272375192]: "messageMediaPoll",
    [147581959]: "messageMediaDice",
    [1758159491]: "messageMediaStory",
    [2852600811]: "messageMediaGiveaway",
    [3467263649]: "messageMediaGiveawayResults",
    [2827297937]: "messageMediaPaidMedia",
    [2320740372]: "messageMediaToDo",
    [3395070857]: "messageMediaVideoStream",
    [3064919984]: "messageActionEmpty",
    [3175599021]: "messageActionChatCreate",
    [3047280218]: "messageActionChatEditTitle",
    [2144015272]: "messageActionChatEditPhoto",
    [2514746351]: "messageActionChatDeletePhoto",
    [365886720]: "messageActionChatAddUser",
    [2755604684]: "messageActionChatDeleteUser",
    [51520707]: "messageActionChatJoinedByLink",
    [2513611922]: "messageActionChannelCreate",
    [3775102866]: "messageActionChatMigrateTo",
    [3929622761]: "messageActionChannelMigrateFrom",
    [2495428845]: "messageActionPinMessage",
    [2679813636]: "messageActionHistoryClear",
    [2460428406]: "messageActionGameScore",
    [4288679116]: "messageActionPaymentSentMe",
    [3324293486]: "messageActionPaymentSent",
    [2162236031]: "messageActionPhoneCall",
    [1200788123]: "messageActionScreenshotTaken",
    [4209418070]: "messageActionCustomAction",
    [3306608249]: "messageActionBotAllowed",
    [455635795]: "messageActionSecureValuesSentMe",
    [3646710100]: "messageActionSecureValuesSent",
    [4092747638]: "messageActionContactSignUp",
    [2564871831]: "messageActionGeoProximityReached",
    [2047704898]: "messageActionGroupCall",
    [1345295095]: "messageActionInviteToGroupCall",
    [1007897979]: "messageActionSetMessagesTTL",
    [3013637729]: "messageActionGroupCallScheduled",
    [3105602874]: "messageActionSetChatTheme",
    [3955008459]: "messageActionChatJoinedByRequest",
    [1205698681]: "messageActionWebViewDataSentMe",
    [3032714421]: "messageActionWebViewDataSent",
    [1223234306]: "messageActionGiftPremium",
    [228168278]: "messageActionTopicCreate",
    [3230943264]: "messageActionTopicEdit",
    [1474192222]: "messageActionSuggestProfilePhoto",
    [827428507]: "messageActionRequestedPeer",
    [1348510708]: "messageActionSetChatWallPaper",
    [834962247]: "messageActionGiftCode",
    [2819576292]: "messageActionGiveawayLaunch",
    [2279797077]: "messageActionGiveawayResults",
    [3422726765]: "messageActionBoostApply",
    [2477987912]: "messageActionRequestedPeerSentMe",
    [1102307842]: "messageActionPaymentRefunded",
    [1171632161]: "messageActionGiftStars",
    [2953594786]: "messageActionPrizeStars",
    [3928764883]: "messageActionStarGift",
    [2507310403]: "messageActionStarGiftUnique",
    [2887720909]: "messageActionPaidMessagesRefunded",
    [2226685304]: "messageActionPaidMessagesPrice",
    [805187450]: "messageActionConferenceCall",
    [3430702217]: "messageActionTodoCompletions",
    [3354246275]: "messageActionTodoAppendTasks",
    [4000978326]: "messageActionSuggestedPostApproval",
    [2514341737]: "messageActionSuggestedPostSuccess",
    [1777932024]: "messageActionSuggestedPostRefund",
    [2829305497]: "messageActionGiftTon",
    [747579941]: "messageActionSuggestBirthday",
    [2000845012]: "messageActionStarGiftPurchaseOffer",
    [1940760427]: "messageActionStarGiftPurchaseOfferDeclined",
    [3582593222]: "dialog",
    [1908216652]: "dialogFolder",
    [590459437]: "photoEmpty",
    [4212750949]: "photo",
    [236446268]: "photoSizeEmpty",
    [1976012384]: "photoSize",
    [35527382]: "photoCachedSize",
    [3769678894]: "photoStrippedSize",
    [4198431637]: "photoSizeProgressive",
    [3626061121]: "photoPathSize",
    [286776671]: "geoPointEmpty",
    [2997024355]: "geoPoint",
    [1577067778]: "auth.sentCode",
    [596704836]: "auth.sentCodeSuccess",
    [3767884348]: "auth.sentCodePaymentRequired",
    [782418132]: "auth.authorization",
    [1148485274]: "auth.authorizationSignUpRequired",
    [3023364792]: "auth.exportedAuthorization",
    [3099351820]: "inputNotifyPeer",
    [423314455]: "inputNotifyUsers",
    [1251338318]: "inputNotifyChats",
    [2983951486]: "inputNotifyBroadcasts",
    [1548122514]: "inputNotifyForumTopic",
    [3402328802]: "inputPeerNotifySettings",
    [2573347852]: "peerNotifySettings",
    [4101456375]: "peerSettings",
    [2755118061]: "wallPaper",
    [3766501654]: "wallPaperNoFile",
    [1490799288]: "inputReportReasonSpam",
    [505595789]: "inputReportReasonViolence",
    [777640226]: "inputReportReasonPornography",
    [2918469347]: "inputReportReasonChildAbuse",
    [3252986545]: "inputReportReasonOther",
    [2609510714]: "inputReportReasonCopyright",
    [3688169197]: "inputReportReasonGeoIrrelevant",
    [4124956391]: "inputReportReasonFake",
    [177124030]: "inputReportReasonIllegalDrugs",
    [2663876157]: "inputReportReasonPersonalDetails",
    [2687222078]: "userFull",
    [341499403]: "contact",
    [3242081360]: "importedContact",
    [383348795]: "contactStatus",
    [3075189202]: "contacts.contactsNotModified",
    [3941105218]: "contacts.contacts",
    [2010127419]: "contacts.importedContacts",
    [182326673]: "contacts.blocked",
    [3781575060]: "contacts.blockedSlice",
    [364538944]: "messages.dialogs",
    [1910543603]: "messages.dialogsSlice",
    [4041467286]: "messages.dialogsNotModified",
    [494135274]: "messages.messages",
    [1595959062]: "messages.messagesSlice",
    [3346446926]: "messages.channelMessages",
    [1951620897]: "messages.messagesNotModified",
    [1694474197]: "messages.chats",
    [2631405892]: "messages.chatsSlice",
    [3856126364]: "messages.chatFull",
    [3025955281]: "messages.affectedHistory",
    [1474492012]: "inputMessagesFilterEmpty",
    [2517214492]: "inputMessagesFilterPhotos",
    [2680163941]: "inputMessagesFilterVideo",
    [1458172132]: "inputMessagesFilterPhotoVideo",
    [2665345416]: "inputMessagesFilterDocument",
    [2129714567]: "inputMessagesFilterUrl",
    [4291323271]: "inputMessagesFilterGif",
    [1358283666]: "inputMessagesFilterVoice",
    [928101534]: "inputMessagesFilterMusic",
    [975236280]: "inputMessagesFilterChatPhotos",
    [2160695144]: "inputMessagesFilterPhoneCalls",
    [2054952868]: "inputMessagesFilterRoundVoice",
    [3041516115]: "inputMessagesFilterRoundVideo",
    [3254314650]: "inputMessagesFilterMyMentions",
    [3875695885]: "inputMessagesFilterGeo",
    [3764575107]: "inputMessagesFilterContacts",
    [464520273]: "inputMessagesFilterPinned",
    [522914557]: "updateNewMessage",
    [1318109142]: "updateMessageID",
    [2718806245]: "updateDeleteMessages",
    [706199388]: "updateUserTyping",
    [2202565360]: "updateChatUserTyping",
    [125178264]: "updateChatParticipants",
    [3854432478]: "updateUserStatus",
    [2810480932]: "updateUserName",
    [2303831023]: "updateNewAuthorization",
    [314359194]: "updateNewEncryptedMessage",
    [386986326]: "updateEncryptedChatTyping",
    [3030575245]: "updateEncryption",
    [956179895]: "updateEncryptedMessagesRead",
    [1037718609]: "updateChatParticipantAdd",
    [3811523959]: "updateChatParticipantDelete",
    [2388564083]: "updateDcOptions",
    [3200411887]: "updateNotifySettings",
    [3957614617]: "updateServiceNotification",
    [3996854058]: "updatePrivacy",
    [88680979]: "updateUserPhone",
    [2659499161]: "updateReadHistoryInbox",
    [791617983]: "updateReadHistoryOutbox",
    [2139689491]: "updateWebPage",
    [4163006849]: "updateReadMessagesContents",
    [277713951]: "updateChannelTooLong",
    [1666927625]: "updateChannel",
    [1656358105]: "updateNewChannelMessage",
    [2452516368]: "updateReadChannelInbox",
    [3274529554]: "updateDeleteChannelMessages",
    [4062620680]: "updateChannelMessageViews",
    [3620364706]: "updateChatParticipantAdmin",
    [1753886890]: "updateNewStickerSet",
    [196268545]: "updateStickerSetsOrder",
    [834816008]: "updateStickerSets",
    [2473931806]: "updateSavedGifs",
    [1232025500]: "updateBotInlineQuery",
    [317794823]: "updateBotInlineSend",
    [457133559]: "updateEditChannelMessage",
    [3117401229]: "updateBotCallbackQuery",
    [3825430691]: "updateEditMessage",
    [1763610706]: "updateInlineBotCallbackQuery",
    [3076495785]: "updateReadChannelOutbox",
    [3992719646]: "updateDraftMessage",
    [1461528386]: "updateReadFeaturedStickers",
    [2588027936]: "updateRecentStickers",
    [2720652550]: "updateConfig",
    [861169551]: "updatePtsChanged",
    [791390623]: "updateChannelWebPage",
    [1852826908]: "updateDialogPinned",
    [4195302562]: "updatePinnedDialogs",
    [2199371971]: "updateBotWebhookJSON",
    [2610053286]: "updateBotWebhookJSONQuery",
    [3048144253]: "updateBotShippingQuery",
    [2359990934]: "updateBotPrecheckoutQuery",
    [2869914398]: "updatePhoneCall",
    [1180041828]: "updateLangPackTooLong",
    [1442983757]: "updateLangPack",
    [3843135853]: "updateFavedStickers",
    [636691703]: "updateChannelReadMessagesContents",
    [1887741886]: "updateContactsReset",
    [2990524056]: "updateChannelAvailableMessages",
    [3059282494]: "updateDialogUnreadMark",
    [2896258427]: "updateMessagePoll",
    [1421875280]: "updateChatDefaultBannedRights",
    [422972864]: "updateFolderPeers",
    [1786671974]: "updatePeerSettings",
    [3031420848]: "updatePeerLocated",
    [967122427]: "updateNewScheduledMessage",
    [4071037315]: "updateDeleteScheduledMessages",
    [2182544291]: "updateTheme",
    [2267003193]: "updateGeoLiveViewed",
    [1448076945]: "updateLoginToken",
    [619974263]: "updateMessagePollVote",
    [654302845]: "updateDialogFilter",
    [2782339333]: "updateDialogFilterOrder",
    [889491791]: "updateDialogFilters",
    [643940105]: "updatePhoneCallSignalingData",
    [3533318132]: "updateChannelMessageForwards",
    [3601962310]: "updateReadChannelDiscussionInbox",
    [1767677564]: "updateReadChannelDiscussionOutbox",
    [3957356370]: "updatePeerBlocked",
    [2357774627]: "updateChannelUserTyping",
    [3984976565]: "updatePinnedMessages",
    [1538885128]: "updatePinnedChannelMessages",
    [4170869326]: "updateChat",
    [4075543374]: "updateGroupCallParticipants",
    [2636256992]: "updateGroupCall",
    [3147544997]: "updatePeerHistoryTTL",
    [3498534458]: "updateChatParticipant",
    [2556246715]: "updateChannelParticipant",
    [3297184329]: "updateBotStopped",
    [192428418]: "updateGroupCallConnection",
    [1299263278]: "updateBotCommands",
    [1885586395]: "updatePendingJoinRequests",
    [299870598]: "updateBotChatInviteRequester",
    [506035194]: "updateMessageReactions",
    [397910539]: "updateAttachMenuBots",
    [361936797]: "updateWebViewResultSent",
    [347625491]: "updateBotMenuButton",
    [1960361625]: "updateSavedRingtones",
    [8703322]: "updateTranscribedAudio",
    [4216080748]: "updateReadFeaturedEmojiStickers",
    [674706841]: "updateUserEmojiStatus",
    [821314523]: "updateRecentEmojiStatuses",
    [1870160884]: "updateRecentReactions",
    [2264715141]: "updateMoveStickerSetToTop",
    [3584300836]: "updateMessageExtendedMedia",
    [542282808]: "updateUser",
    [3959795863]: "updateAutoSaveSettings",
    [1974712216]: "updateStory",
    [4149121835]: "updateReadStories",
    [468923833]: "updateStoryID",
    [738741697]: "updateStoriesStealthMode",
    [2103604867]: "updateSentStoryReaction",
    [2421019804]: "updateBotChatBoost",
    [129403168]: "updateChannelViewForumAsMessages",
    [2923368477]: "updatePeerWallpaper",
    [2887898062]: "updateBotMessageReaction",
    [164329305]: "updateBotMessageReactions",
    [2930744948]: "updateSavedDialogPinned",
    [1751942566]: "updatePinnedSavedDialogs",
    [969307186]: "updateSavedReactionTags",
    [4049758676]: "updateSmsJob",
    [4182182578]: "updateQuickReplies",
    [4114458391]: "updateNewQuickReply",
    [1407644140]: "updateDeleteQuickReply",
    [1040518415]: "updateQuickReplyMessage",
    [1450174413]: "updateDeleteQuickReplyMessages",
    [2330315130]: "updateBotBusinessConnect",
    [2648388732]: "updateBotNewBusinessMessage",
    [132077692]: "updateBotEditBusinessMessage",
    [2687146030]: "updateBotDeleteBusinessMessage",
    [405070859]: "updateNewStoryReaction",
    [1317053305]: "updateStarsBalance",
    [513998247]: "updateBusinessBotCallbackQuery",
    [2776936473]: "updateStarsRevenueStatus",
    [675009298]: "updateBotPurchasedPaidMedia",
    [2339528654]: "updatePaidReactionPrivacy",
    [1347068303]: "updateSentPhoneCode",
    [2759272591]: "updateGroupCallChainBlocks",
    [2008081266]: "updateReadMonoForumInbox",
    [2762445686]: "updateReadMonoForumOutbox",
    [2676042504]: "updateMonoForumNoPaidException",
    [3627183885]: "updateGroupCallMessage",
    [3377964902]: "updateGroupCallEncryptedMessage",
    [1748708434]: "updatePinnedForumTopic",
    [3740353488]: "updatePinnedForumTopics",
    [1048963372]: "updateDeleteGroupCallMessages",
    [1222788802]: "updateStarGiftAuctionState",
    [3696816926]: "updateStarGiftAuctionUserState",
    [4221326458]: "updateEmojiGameInfo",
    [2775329342]: "updates.state",
    [1567990072]: "updates.differenceEmpty",
    [16030880]: "updates.difference",
    [2835028353]: "updates.differenceSlice",
    [1258196845]: "updates.differenceTooLong",
    [3809980286]: "updatesTooLong",
    [826001400]: "updateShortMessage",
    [1299050149]: "updateShortChatMessage",
    [2027216577]: "updateShort",
    [1918567619]: "updatesCombined",
    [1957577280]: "updates",
    [2417352961]: "updateShortSentMessage",
    [2378853029]: "photos.photos",
    [352657236]: "photos.photosSlice",
    [539045032]: "photos.photo",
    [157948117]: "upload.file",
    [4052539972]: "upload.fileCdnRedirect",
    [414687501]: "dcOption",
    [3424265246]: "config",
    [2384074613]: "nearestDc",
    [3434860080]: "help.appUpdate",
    [3294258486]: "help.noAppUpdate",
    [415997816]: "help.inviteText",
    [2877210784]: "encryptedChatEmpty",
    [1722964307]: "encryptedChatWaiting",
    [1223809356]: "encryptedChatRequested",
    [1643173063]: "encryptedChat",
    [505183301]: "encryptedChatDiscarded",
    [4047615457]: "inputEncryptedChat",
    [3256830334]: "encryptedFileEmpty",
    [2818608344]: "encryptedFile",
    [406307684]: "inputEncryptedFileEmpty",
    [1690108678]: "inputEncryptedFileUploaded",
    [1511503333]: "inputEncryptedFile",
    [767652808]: "inputEncryptedFileBigUploaded",
    [3977822488]: "encryptedMessage",
    [594758406]: "encryptedMessageService",
    [3236054581]: "messages.dhConfigNotModified",
    [740433629]: "messages.dhConfig",
    [1443858741]: "messages.sentEncryptedMessage",
    [2492727090]: "messages.sentEncryptedFile",
    [1928391342]: "inputDocumentEmpty",
    [448771445]: "inputDocument",
    [922273905]: "documentEmpty",
    [2413085912]: "document",
    [398898678]: "help.support",
    [2681474008]: "notifyPeer",
    [3033021260]: "notifyUsers",
    [3221737155]: "notifyChats",
    [3591563503]: "notifyBroadcasts",
    [577659656]: "notifyForumTopic",
    [381645902]: "sendMessageTypingAction",
    [4250847477]: "sendMessageCancelAction",
    [2710034031]: "sendMessageRecordVideoAction",
    [3916839660]: "sendMessageUploadVideoAction",
    [3576656887]: "sendMessageRecordAudioAction",
    [4082227115]: "sendMessageUploadAudioAction",
    [3520285222]: "sendMessageUploadPhotoAction",
    [2852968932]: "sendMessageUploadDocumentAction",
    [393186209]: "sendMessageGeoLocationAction",
    [1653390447]: "sendMessageChooseContactAction",
    [3714748232]: "sendMessageGamePlayAction",
    [2297593788]: "sendMessageRecordRoundAction",
    [608050278]: "sendMessageUploadRoundAction",
    [3643548293]: "speakingInGroupCallAction",
    [3688534598]: "sendMessageHistoryImportAction",
    [2958739121]: "sendMessageChooseStickerAction",
    [630664139]: "sendMessageEmojiInteraction",
    [3060109358]: "sendMessageEmojiInteractionSeen",
    [929929052]: "sendMessageTextDraftAction",
    [3004386717]: "contacts.found",
    [1335282456]: "inputPrivacyKeyStatusTimestamp",
    [3187344422]: "inputPrivacyKeyChatInvite",
    [4206550111]: "inputPrivacyKeyPhoneCall",
    [3684593874]: "inputPrivacyKeyPhoneP2P",
    [2765966344]: "inputPrivacyKeyForwards",
    [1461304012]: "inputPrivacyKeyProfilePhoto",
    [55761658]: "inputPrivacyKeyPhoneNumber",
    [3508640733]: "inputPrivacyKeyAddedByPhone",
    [2934349160]: "inputPrivacyKeyVoiceMessages",
    [941870144]: "inputPrivacyKeyAbout",
    [3596227020]: "inputPrivacyKeyBirthday",
    [3782419265]: "inputPrivacyKeyStarGiftsAutoSave",
    [3183843252]: "inputPrivacyKeyNoPaidMessages",
    [1304334886]: "inputPrivacyKeySavedMusic",
    [3157175088]: "privacyKeyStatusTimestamp",
    [1343122938]: "privacyKeyChatInvite",
    [1030105979]: "privacyKeyPhoneCall",
    [961092808]: "privacyKeyPhoneP2P",
    [1777096355]: "privacyKeyForwards",
    [2517966829]: "privacyKeyProfilePhoto",
    [3516589165]: "privacyKeyPhoneNumber",
    [1124062251]: "privacyKeyAddedByPhone",
    [110621716]: "privacyKeyVoiceMessages",
    [2760292193]: "privacyKeyAbout",
    [536913176]: "privacyKeyBirthday",
    [749010424]: "privacyKeyStarGiftsAutoSave",
    [399722706]: "privacyKeyNoPaidMessages",
    [4286207771]: "privacyKeySavedMusic",
    [218751099]: "inputPrivacyValueAllowContacts",
    [407582158]: "inputPrivacyValueAllowAll",
    [320652927]: "inputPrivacyValueAllowUsers",
    [195371015]: "inputPrivacyValueDisallowContacts",
    [3597362889]: "inputPrivacyValueDisallowAll",
    [2417034343]: "inputPrivacyValueDisallowUsers",
    [2215004623]: "inputPrivacyValueAllowChatParticipants",
    [3914272646]: "inputPrivacyValueDisallowChatParticipants",
    [793067081]: "inputPrivacyValueAllowCloseFriends",
    [2009975281]: "inputPrivacyValueAllowPremium",
    [1515179237]: "inputPrivacyValueAllowBots",
    [3303373077]: "inputPrivacyValueDisallowBots",
    [4294843308]: "privacyValueAllowContacts",
    [1698855810]: "privacyValueAllowAll",
    [3096469426]: "privacyValueAllowUsers",
    [4169726490]: "privacyValueDisallowContacts",
    [2339628899]: "privacyValueDisallowAll",
    [3831632193]: "privacyValueDisallowUsers",
    [1796427406]: "privacyValueAllowChatParticipants",
    [1103656293]: "privacyValueDisallowChatParticipants",
    [4159232155]: "privacyValueAllowCloseFriends",
    [3974725963]: "privacyValueAllowPremium",
    [558242653]: "privacyValueAllowBots",
    [4138072111]: "privacyValueDisallowBots",
    [1352683077]: "account.privacyRules",
    [3100684255]: "accountDaysTTL",
    [1815593308]: "documentAttributeImageSize",
    [297109817]: "documentAttributeAnimated",
    [1662637586]: "documentAttributeSticker",
    [1137015880]: "documentAttributeVideo",
    [2555574726]: "documentAttributeAudio",
    [358154344]: "documentAttributeFilename",
    [2550256375]: "documentAttributeHasStickers",
    [4245985433]: "documentAttributeCustomEmoji",
    [4050950690]: "messages.stickersNotModified",
    [816245886]: "messages.stickers",
    [313694676]: "stickerPack",
    [3898999491]: "messages.allStickersNotModified",
    [3451637435]: "messages.allStickers",
    [2228326789]: "messages.affectedMessages",
    [555358088]: "webPageEmpty",
    [2966502983]: "webPagePending",
    [3902555570]: "webPage",
    [1930545681]: "webPageNotModified",
    [2902578717]: "authorization",
    [1275039392]: "account.authorizations",
    [2507886843]: "account.password",
    [2589733861]: "account.passwordSettings",
    [3258394569]: "account.passwordInputSettings",
    [326715557]: "auth.passwordRecovery",
    [2743383929]: "receivedNotifyMessage",
    [2720841110]: "chatInviteExported",
    [3977280183]: "chatInvitePublicJoinRequests",
    [1516793212]: "chatInviteAlready",
    [1553807106]: "chatInvite",
    [1634294960]: "chatInvitePeek",
    [4290128789]: "inputStickerSetEmpty",
    [2649203305]: "inputStickerSetID",
    [2250033312]: "inputStickerSetShortName",
    [42402760]: "inputStickerSetAnimatedEmoji",
    [3867103758]: "inputStickerSetDice",
    [215889721]: "inputStickerSetAnimatedEmojiAnimations",
    [3364567810]: "inputStickerSetPremiumGifts",
    [80008398]: "inputStickerSetEmojiGenericAnimations",
    [701560302]: "inputStickerSetEmojiDefaultStatuses",
    [1153562857]: "inputStickerSetEmojiDefaultTopicIcons",
    [1232373075]: "inputStickerSetEmojiChannelDefaultStatuses",
    [485912992]: "inputStickerSetTonGifts",
    [768691932]: "stickerSet",
    [1846886166]: "messages.stickerSet",
    [3556320491]: "messages.stickerSetNotModified",
    [3262826695]: "botCommand",
    [1300890265]: "botInfo",
    [2734311552]: "keyboardButton",
    [629866245]: "keyboardButtonUrl",
    [901503851]: "keyboardButtonCallback",
    [2976541737]: "keyboardButtonRequestPhone",
    [4235815743]: "keyboardButtonRequestGeoLocation",
    [2478439349]: "keyboardButtonSwitchInline",
    [1358175439]: "keyboardButtonGame",
    [2950250427]: "keyboardButtonBuy",
    [280464681]: "keyboardButtonUrlAuth",
    [3492708308]: "inputKeyboardButtonUrlAuth",
    [3150401885]: "keyboardButtonRequestPoll",
    [3918005115]: "inputKeyboardButtonUserProfile",
    [814112961]: "keyboardButtonUserProfile",
    [326529584]: "keyboardButtonWebView",
    [2696958044]: "keyboardButtonSimpleWebView",
    [1406648280]: "keyboardButtonRequestPeer",
    [3378916613]: "inputKeyboardButtonRequestPeer",
    [1976723854]: "keyboardButtonCopy",
    [2002815875]: "keyboardButtonRow",
    [2688441221]: "replyKeyboardHide",
    [2259946248]: "replyKeyboardForceReply",
    [2245892561]: "replyKeyboardMarkup",
    [1218642516]: "replyInlineMarkup",
    [3146955413]: "messageEntityUnknown",
    [4194588573]: "messageEntityMention",
    [1868782349]: "messageEntityHashtag",
    [1827637959]: "messageEntityBotCommand",
    [1859134776]: "messageEntityUrl",
    [1692693954]: "messageEntityEmail",
    [3177253833]: "messageEntityBold",
    [2188348256]: "messageEntityItalic",
    [681706865]: "messageEntityCode",
    [1938967520]: "messageEntityPre",
    [1990644519]: "messageEntityTextUrl",
    [3699052864]: "messageEntityMentionName",
    [546203849]: "inputMessageEntityMentionName",
    [2607407947]: "messageEntityPhone",
    [1280209983]: "messageEntityCashtag",
    [2622389899]: "messageEntityUnderline",
    [3204879316]: "messageEntityStrike",
    [1981704948]: "messageEntityBankCard",
    [852137487]: "messageEntitySpoiler",
    [3369010680]: "messageEntityCustomEmoji",
    [4056722092]: "messageEntityBlockquote",
    [4002160262]: "inputChannelEmpty",
    [4082822184]: "inputChannel",
    [1536380829]: "inputChannelFromMessage",
    [2131196633]: "contacts.resolvedPeer",
    [182649427]: "messageRange",
    [1041346555]: "updates.channelDifferenceEmpty",
    [2763835134]: "updates.channelDifferenceTooLong",
    [543450958]: "updates.channelDifference",
    [2496933607]: "channelMessagesFilterEmpty",
    [3447183703]: "channelMessagesFilter",
    [3409540633]: "channelParticipant",
    [1331723247]: "channelParticipantSelf",
    [803602899]: "channelParticipantCreator",
    [885242707]: "channelParticipantAdmin",
    [1844969806]: "channelParticipantBanned",
    [453242886]: "channelParticipantLeft",
    [3728686201]: "channelParticipantsRecent",
    [3026225513]: "channelParticipantsAdmins",
    [2746567045]: "channelParticipantsKicked",
    [2966521435]: "channelParticipantsBots",
    [338142689]: "channelParticipantsBanned",
    [106343499]: "channelParticipantsSearch",
    [3144345741]: "channelParticipantsContacts",
    [3763035371]: "channelParticipantsMentions",
    [2595290799]: "channels.channelParticipants",
    [4028055529]: "channels.channelParticipantsNotModified",
    [3753378583]: "channels.channelParticipant",
    [2013922064]: "help.termsOfService",
    [3892468898]: "messages.savedGifsNotModified",
    [2225089037]: "messages.savedGifs",
    [864077702]: "inputBotInlineMessageMediaAuto",
    [1036876423]: "inputBotInlineMessageText",
    [2526190213]: "inputBotInlineMessageMediaGeo",
    [1098628881]: "inputBotInlineMessageMediaVenue",
    [2800599037]: "inputBotInlineMessageMediaContact",
    [1262639204]: "inputBotInlineMessageGame",
    [3622273573]: "inputBotInlineMessageMediaInvoice",
    [3185362192]: "inputBotInlineMessageMediaWebPage",
    [2294256409]: "inputBotInlineResult",
    [2832753831]: "inputBotInlineResultPhoto",
    [4294507972]: "inputBotInlineResultDocument",
    [1336154098]: "inputBotInlineResultGame",
    [1984755728]: "botInlineMessageMediaAuto",
    [2357159394]: "botInlineMessageText",
    [85477117]: "botInlineMessageMediaGeo",
    [2324063644]: "botInlineMessageMediaVenue",
    [416402882]: "botInlineMessageMediaContact",
    [894081801]: "botInlineMessageMediaInvoice",
    [2157631910]: "botInlineMessageMediaWebPage",
    [295067450]: "botInlineResult",
    [400266251]: "botInlineMediaResult",
    [3760321270]: "messages.botResults",
    [1571494644]: "exportedMessageLink",
    [1313731771]: "messageFwdHeader",
    [1923290508]: "auth.codeTypeSms",
    [1948046307]: "auth.codeTypeCall",
    [577556219]: "auth.codeTypeFlashCall",
    [3592083182]: "auth.codeTypeMissedCall",
    [116234636]: "auth.codeTypeFragmentSms",
    [1035688326]: "auth.sentCodeTypeApp",
    [3221273506]: "auth.sentCodeTypeSms",
    [1398007207]: "auth.sentCodeTypeCall",
    [2869151449]: "auth.sentCodeTypeFlashCall",
    [2181063812]: "auth.sentCodeTypeMissedCall",
    [4098946459]: "auth.sentCodeTypeEmailCode",
    [2773032426]: "auth.sentCodeTypeSetUpEmailRequired",
    [3646315577]: "auth.sentCodeTypeFragmentSms",
    [10475318]: "auth.sentCodeTypeFirebaseSms",
    [2752949377]: "auth.sentCodeTypeSmsWord",
    [3010958511]: "auth.sentCodeTypeSmsPhrase",
    [911761060]: "messages.botCallbackAnswer",
    [649453030]: "messages.messageEditData",
    [2299280777]: "inputBotInlineMessageID",
    [3067680215]: "inputBotInlineMessageID64",
    [1008755359]: "inlineBotSwitchPM",
    [863093588]: "messages.peerDialogs",
    [3989684315]: "topPeer",
    [2875595611]: "topPeerCategoryBotsPM",
    [344356834]: "topPeerCategoryBotsInline",
    [104314861]: "topPeerCategoryCorrespondents",
    [3172442442]: "topPeerCategoryGroups",
    [371037736]: "topPeerCategoryChannels",
    [511092620]: "topPeerCategoryPhoneCalls",
    [2822794409]: "topPeerCategoryForwardUsers",
    [4226728176]: "topPeerCategoryForwardChats",
    [4255022060]: "topPeerCategoryBotsApp",
    [4219683473]: "topPeerCategoryPeers",
    [3727060725]: "contacts.topPeersNotModified",
    [1891070632]: "contacts.topPeers",
    [3039597469]: "contacts.topPeersDisabled",
    [453805082]: "draftMessageEmpty",
    [2531960299]: "draftMessage",
    [3336309862]: "messages.featuredStickersNotModified",
    [3191351558]: "messages.featuredStickers",
    [186120336]: "messages.recentStickersNotModified",
    [2295561302]: "messages.recentStickers",
    [1338747336]: "messages.archivedStickers",
    [946083368]: "messages.stickerSetInstallResultSuccess",
    [904138920]: "messages.stickerSetInstallResultArchive",
    [1678812626]: "stickerSetCovered",
    [872932635]: "stickerSetMultiCovered",
    [1087454222]: "stickerSetFullCovered",
    [2008112412]: "stickerSetNoCovered",
    [2933316530]: "maskCoords",
    [1251549527]: "inputStickeredMediaPhoto",
    [70813275]: "inputStickeredMediaDocument",
    [3187238203]: "game",
    [53231223]: "inputGameID",
    [3274827786]: "inputGameShortName",
    [1940093419]: "highScore",
    [2587622809]: "messages.highScores",
    [3695018575]: "textEmpty",
    [1950782688]: "textPlain",
    [1730456516]: "textBold",
    [3641877916]: "textItalic",
    [3240501956]: "textUnderline",
    [2616769429]: "textStrike",
    [1816074681]: "textFixed",
    [1009288385]: "textUrl",
    [3730443734]: "textEmail",
    [2120376535]: "textConcat",
    [3983181060]: "textSubscript",
    [3355139585]: "textSuperscript",
    [55281185]: "textMarked",
    [483104362]: "textPhone",
    [136105807]: "textImage",
    [894777186]: "textAnchor",
    [324435594]: "pageBlockUnsupported",
    [1890305021]: "pageBlockTitle",
    [2415565343]: "pageBlockSubtitle",
    [3132089824]: "pageBlockAuthorDate",
    [3218105580]: "pageBlockHeader",
    [4046173921]: "pageBlockSubheader",
    [1182402406]: "pageBlockParagraph",
    [3228621118]: "pageBlockPreformatted",
    [1216809369]: "pageBlockFooter",
    [3676352904]: "pageBlockDivider",
    [3456972720]: "pageBlockAnchor",
    [3840442385]: "pageBlockList",
    [641563686]: "pageBlockBlockquote",
    [1329878739]: "pageBlockPullquote",
    [391759200]: "pageBlockPhoto",
    [2089805750]: "pageBlockVideo",
    [972174080]: "pageBlockCover",
    [2826014149]: "pageBlockEmbed",
    [4065961995]: "pageBlockEmbedPost",
    [1705048653]: "pageBlockCollage",
    [52401552]: "pageBlockSlideshow",
    [4011282869]: "pageBlockChannel",
    [2151899626]: "pageBlockAudio",
    [504660880]: "pageBlockKicker",
    [3209554562]: "pageBlockTable",
    [2592793057]: "pageBlockOrderedList",
    [1987480557]: "pageBlockDetails",
    [370236054]: "pageBlockRelatedArticles",
    [2756656886]: "pageBlockMap",
    [2246320897]: "phoneCallDiscardReasonMissed",
    [3767910816]: "phoneCallDiscardReasonDisconnect",
    [1471006352]: "phoneCallDiscardReasonHangup",
    [4210550985]: "phoneCallDiscardReasonBusy",
    [2679894519]: "phoneCallDiscardReasonMigrateConferenceCall",
    [2104790276]: "dataJSON",
    [3408489464]: "labeledPrice",
    [77522308]: "invoice",
    [3926049406]: "paymentCharge",
    [512535275]: "postAddress",
    [2426158996]: "paymentRequestedInfo",
    [3452074527]: "paymentSavedCredentialsCard",
    [475467473]: "webDocument",
    [4190682310]: "webDocumentNoProxy",
    [2616017741]: "inputWebDocument",
    [3258570374]: "inputWebFileLocation",
    [2669814217]: "inputWebFileGeoPointLocation",
    [4100974884]: "inputWebFileAudioAlbumThumbLocation",
    [568808380]: "upload.webFile",
    [2684716881]: "payments.paymentForm",
    [2079764828]: "payments.paymentFormStars",
    [3022376929]: "payments.paymentFormStarGift",
    [3510966403]: "payments.validatedRequestedInfo",
    [1314881805]: "payments.paymentResult",
    [3628142905]: "payments.paymentVerificationNeeded",
    [1891958275]: "payments.paymentReceipt",
    [3669751866]: "payments.paymentReceiptStars",
    [4220511292]: "payments.savedInfo",
    [3238965967]: "inputPaymentCredentialsSaved",
    [873977640]: "inputPaymentCredentials",
    [178373535]: "inputPaymentCredentialsApplePay",
    [2328045569]: "inputPaymentCredentialsGooglePay",
    [3680828724]: "account.tmpPassword",
    [3055631583]: "shippingOption",
    [853188252]: "inputStickerSetItem",
    [506920429]: "inputPhoneCall",
    [1399245077]: "phoneCallEmpty",
    [3307368215]: "phoneCallWaiting",
    [347139340]: "phoneCallRequested",
    [912311057]: "phoneCallAccepted",
    [810769141]: "phoneCall",
    [1355435489]: "phoneCallDiscarded",
    [2629903303]: "phoneConnection",
    [1667228533]: "phoneConnectionWebrtc",
    [4236742600]: "phoneCallProtocol",
    [3968000320]: "phone.phoneCall",
    [4004045934]: "upload.cdnFileReuploadNeeded",
    [2845821519]: "upload.cdnFile",
    [3380800186]: "cdnPublicKey",
    [1462101002]: "cdnConfig",
    [3402727926]: "langPackString",
    [1816636575]: "langPackStringPluralized",
    [695856818]: "langPackStringDeleted",
    [4085629430]: "langPackDifference",
    [4006239459]: "langPackLanguage",
    [3873421349]: "channelAdminLogEventActionChangeTitle",
    [1427671598]: "channelAdminLogEventActionChangeAbout",
    [1783299128]: "channelAdminLogEventActionChangeUsername",
    [1129042607]: "channelAdminLogEventActionChangePhoto",
    [460916654]: "channelAdminLogEventActionToggleInvites",
    [648939889]: "channelAdminLogEventActionToggleSignatures",
    [3924306968]: "channelAdminLogEventActionUpdatePinned",
    [1889215493]: "channelAdminLogEventActionEditMessage",
    [1121994683]: "channelAdminLogEventActionDeleteMessage",
    [405815507]: "channelAdminLogEventActionParticipantJoin",
    [4170676210]: "channelAdminLogEventActionParticipantLeave",
    [3810276568]: "channelAdminLogEventActionParticipantInvite",
    [3872931198]: "channelAdminLogEventActionParticipantToggleBan",
    [3580323600]: "channelAdminLogEventActionParticipantToggleAdmin",
    [2982398631]: "channelAdminLogEventActionChangeStickerSet",
    [1599903217]: "channelAdminLogEventActionTogglePreHistoryHidden",
    [771095562]: "channelAdminLogEventActionDefaultBannedRights",
    [2399639107]: "channelAdminLogEventActionStopPoll",
    [84703944]: "channelAdminLogEventActionChangeLinkedChat",
    [241923758]: "channelAdminLogEventActionChangeLocation",
    [1401984889]: "channelAdminLogEventActionToggleSlowMode",
    [589338437]: "channelAdminLogEventActionStartGroupCall",
    [3684667712]: "channelAdminLogEventActionDiscardGroupCall",
    [4179895506]: "channelAdminLogEventActionParticipantMute",
    [3863226816]: "channelAdminLogEventActionParticipantUnmute",
    [1456906823]: "channelAdminLogEventActionToggleGroupCallSetting",
    [4271882584]: "channelAdminLogEventActionParticipantJoinByInvite",
    [1515256996]: "channelAdminLogEventActionExportedInviteDelete",
    [1091179342]: "channelAdminLogEventActionExportedInviteRevoke",
    [3910056793]: "channelAdminLogEventActionExportedInviteEdit",
    [1048537159]: "channelAdminLogEventActionParticipantVolume",
    [1855199800]: "channelAdminLogEventActionChangeHistoryTTL",
    [2947945546]: "channelAdminLogEventActionParticipantJoinByRequest",
    [3408578406]: "channelAdminLogEventActionToggleNoForwards",
    [663693416]: "channelAdminLogEventActionSendMessage",
    [3192786680]: "channelAdminLogEventActionChangeAvailableReactions",
    [4031755177]: "channelAdminLogEventActionChangeUsernames",
    [46949251]: "channelAdminLogEventActionToggleForum",
    [1483767080]: "channelAdminLogEventActionCreateTopic",
    [4033864200]: "channelAdminLogEventActionEditTopic",
    [2920712457]: "channelAdminLogEventActionDeleteTopic",
    [1569535291]: "channelAdminLogEventActionPinTopic",
    [1693675004]: "channelAdminLogEventActionToggleAntiSpam",
    [1469507456]: "channelAdminLogEventActionChangePeerColor",
    [1581742885]: "channelAdminLogEventActionChangeProfilePeerColor",
    [834362706]: "channelAdminLogEventActionChangeWallpaper",
    [1051328177]: "channelAdminLogEventActionChangeEmojiStatus",
    [1188577451]: "channelAdminLogEventActionChangeEmojiStickerSet",
    [1621597305]: "channelAdminLogEventActionToggleSignatureProfiles",
    [1684286899]: "channelAdminLogEventActionParticipantSubExtend",
    [3306682238]: "channelAdminLogEventActionToggleAutotranslation",
    [531458253]: "channelAdminLogEvent",
    [3985307469]: "channels.adminLogResults",
    [3926948580]: "channelAdminLogEventsFilter",
    [1558266229]: "popularContact",
    [2660214483]: "messages.favedStickersNotModified",
    [750063767]: "messages.favedStickers",
    [1189204285]: "recentMeUrlUnknown",
    [3106671074]: "recentMeUrlUser",
    [3000660434]: "recentMeUrlChat",
    [3947431965]: "recentMeUrlChatInvite",
    [3154794460]: "recentMeUrlStickerSet",
    [235081943]: "help.recentMeUrls",
    [482797855]: "inputSingleMedia",
    [2801333330]: "webAuthorization",
    [3981887996]: "account.webAuthorizations",
    [2792792866]: "inputMessageID",
    [3134751637]: "inputMessageReplyTo",
    [2257003832]: "inputMessagePinned",
    [2902071934]: "inputMessageCallbackQuery",
    [4239064759]: "inputDialogPeer",
    [1684014375]: "inputDialogPeerFolder",
    [3849174789]: "dialogPeer",
    [1363483106]: "dialogPeerFolder",
    [223655517]: "messages.foundStickerSetsNotModified",
    [2331024850]: "messages.foundStickerSets",
    [4087022428]: "fileHash",
    [1968737087]: "inputClientProxy",
    [3811614591]: "help.termsOfServiceUpdateEmpty",
    [686618977]: "help.termsOfServiceUpdate",
    [859091184]: "inputSecureFileUploaded",
    [1399317950]: "inputSecureFile",
    [1679398724]: "secureFileEmpty",
    [2097791614]: "secureFile",
    [2330640067]: "secureData",
    [2103482845]: "securePlainPhone",
    [569137759]: "securePlainEmail",
    [2636808675]: "secureValueTypePersonalDetails",
    [1034709504]: "secureValueTypePassport",
    [115615172]: "secureValueTypeDriverLicense",
    [2698015819]: "secureValueTypeIdentityCard",
    [2577698595]: "secureValueTypeInternalPassport",
    [3420659238]: "secureValueTypeAddress",
    [4231435598]: "secureValueTypeUtilityBill",
    [2299755533]: "secureValueTypeBankStatement",
    [2340959368]: "secureValueTypeRentalAgreement",
    [2581823594]: "secureValueTypePassportRegistration",
    [3926060083]: "secureValueTypeTemporaryRegistration",
    [3005262555]: "secureValueTypePhone",
    [2386339822]: "secureValueTypeEmail",
    [411017418]: "secureValue",
    [3676426407]: "inputSecureValue",
    [3978218928]: "secureValueHash",
    [3903065049]: "secureValueErrorData",
    [12467706]: "secureValueErrorFrontSide",
    [2257201829]: "secureValueErrorReverseSide",
    [3845639894]: "secureValueErrorSelfie",
    [2054162547]: "secureValueErrorFile",
    [1717706985]: "secureValueErrorFiles",
    [2258466191]: "secureValueError",
    [2702460784]: "secureValueErrorTranslationFile",
    [878931416]: "secureValueErrorTranslationFiles",
    [871426631]: "secureCredentialsEncrypted",
    [2905480408]: "account.authorizationForm",
    [2166326607]: "account.sentEmailCode",
    [1722786150]: "help.deepLinkInfoEmpty",
    [1783556146]: "help.deepLinkInfo",
    [289586518]: "savedPhoneContact",
    [1304052993]: "account.takeout",
    [3562713238]: "passwordKdfAlgoUnknown",
    [982592842]: "passwordKdfAlgoSHA256SHA256PBKDF2HMACSHA512iter100000SHA256ModPow",
    [4883767]: "securePasswordKdfAlgoUnknown",
    [3153255840]: "securePasswordKdfAlgoPBKDF2HMACSHA512iter100000",
    [2252807570]: "securePasswordKdfAlgoSHA512",
    [354925740]: "secureSecretSettings",
    [2558588504]: "inputCheckPasswordEmpty",
    [3531600002]: "inputCheckPasswordSRP",
    [2191366618]: "secureRequiredType",
    [41187252]: "secureRequiredTypeOneOf",
    [3216634967]: "help.passportConfigNotModified",
    [2694370991]: "help.passportConfig",
    [488313413]: "inputAppEvent",
    [3235781593]: "jsonObjectValue",
    [1064139624]: "jsonNull",
    [3342098026]: "jsonBool",
    [736157604]: "jsonNumber",
    [3072226938]: "jsonString",
    [4148447075]: "jsonArray",
    [2579616925]: "jsonObject",
    [878078826]: "pageTableCell",
    [3770729957]: "pageTableRow",
    [1869903447]: "pageCaption",
    [3106911949]: "pageListItemText",
    [635466748]: "pageListItemBlocks",
    [1577484359]: "pageListOrderedItemText",
    [2564655414]: "pageListOrderedItemBlocks",
    [3012615176]: "pageRelatedArticle",
    [2556788493]: "page",
    [2349199817]: "help.supportName",
    [4088278765]: "help.userInfoEmpty",
    [32192344]: "help.userInfo",
    [4279689930]: "pollAnswer",
    [1484026161]: "poll",
    [997055186]: "pollAnswerVoters",
    [2061444128]: "pollResults",
    [4030849616]: "chatOnlines",
    [1202287072]: "statsURL",
    [1605510357]: "chatAdminRights",
    [2668758040]: "chatBannedRights",
    [3861952889]: "inputWallPaper",
    [1913199744]: "inputWallPaperSlug",
    [2524595758]: "inputWallPaperNoFile",
    [471437699]: "account.wallPapersNotModified",
    [3452142988]: "account.wallPapers",
    [2904898936]: "codeSettings",
    [925826256]: "wallPaperSettings",
    [3131405864]: "autoDownloadSettings",
    [1674235686]: "account.autoDownloadSettings",
    [3585325561]: "emojiKeyword",
    [594408994]: "emojiKeywordDeleted",
    [1556570557]: "emojiKeywordsDifference",
    [2775937949]: "emojiURL",
    [3019592545]: "emojiLanguage",
    [4283715173]: "folder",
    [4224893590]: "inputFolderPeer",
    [3921323624]: "folderPeer",
    [3896830975]: "messages.searchCounter",
    [2463316494]: "urlAuthResultRequest",
    [2408320590]: "urlAuthResultAccepted",
    [2849430303]: "urlAuthResultDefault",
    [3216354699]: "channelLocationEmpty",
    [547062491]: "channelLocation",
    [3393592157]: "peerLocated",
    [4176226379]: "peerSelfLocated",
    [3497176244]: "restrictionReason",
    [1012306921]: "inputTheme",
    [4119399921]: "inputThemeSlug",
    [2685298646]: "theme",
    [4095653410]: "account.themesNotModified",
    [2587724909]: "account.themes",
    [1654593920]: "auth.loginToken",
    [110008598]: "auth.loginTokenMigrateTo",
    [957176926]: "auth.loginTokenSuccess",
    [1474462241]: "account.contentSettings",
    [2837970629]: "messages.inactiveChats",
    [3282117730]: "baseThemeClassic",
    [4225242760]: "baseThemeDay",
    [3081969320]: "baseThemeNight",
    [1834973166]: "baseThemeTinted",
    [1527845466]: "baseThemeArctic",
    [2413711439]: "inputThemeSettings",
    [4200117972]: "themeSettings",
    [1421174295]: "webPageAttributeTheme",
    [781501415]: "webPageAttributeStory",
    [1355547603]: "webPageAttributeStickerSet",
    [3480186296]: "webPageAttributeUniqueStarGift",
    [835375875]: "webPageAttributeStarGiftCollection",
    [29770178]: "webPageAttributeStarGiftAuction",
    [1218005070]: "messages.votesList",
    [4117234314]: "bankCardOpenUrl",
    [1042605427]: "payments.bankCardData",
    [2856789585]: "dialogFilter",
    [909284270]: "dialogFilterDefault",
    [2522053591]: "dialogFilterChatlist",
    [2004110666]: "dialogFilterSuggested",
    [3057118639]: "statsDateRangeDays",
    [3410210014]: "statsAbsValueAndPrev",
    [3419287520]: "statsPercentValue",
    [1244130093]: "statsGraphAsync",
    [3202127906]: "statsGraphError",
    [2393138358]: "statsGraph",
    [963421692]: "stats.broadcastStats",
    [2566302837]: "help.promoDataEmpty",
    [145021050]: "help.promoData",
    [3727929492]: "videoSize",
    [4166795580]: "videoSizeEmojiMarkup",
    [228623102]: "videoSizeStickerMarkup",
    [2634330011]: "statsGroupTopPoster",
    [3612888199]: "statsGroupTopAdmin",
    [1398765469]: "statsGroupTopInviter",
    [4018141462]: "stats.megagroupStats",
    [4265718607]: "globalPrivacySettings",
    [1107543535]: "help.countryCode",
    [3280440867]: "help.country",
    [2479628082]: "help.countriesListNotModified",
    [2278585758]: "help.countriesList",
    [1163625789]: "messageViews",
    [3066361155]: "messages.messageViews",
    [2788431746]: "messages.discussionMessage",
    [1763137035]: "messageReplyHeader",
    [240843065]: "messageReplyStoryHeader",
    [2211844034]: "messageReplies",
    [3908927508]: "peerBlocked",
    [2145983508]: "stats.messageStats",
    [2004925620]: "groupCallDiscarded",
    [4021466647]: "groupCall",
    [3635053583]: "inputGroupCall",
    [4261839423]: "inputGroupCallSlug",
    [2349883455]: "inputGroupCallInviteMessage",
    [708691884]: "groupCallParticipant",
    [2658302637]: "phone.groupCall",
    [4101460406]: "phone.groupParticipants",
    [813821341]: "inlineQueryPeerTypeSameBotPM",
    [2201751468]: "inlineQueryPeerTypePM",
    [3613836554]: "inlineQueryPeerTypeChat",
    [1589952067]: "inlineQueryPeerTypeMegagroup",
    [1664413338]: "inlineQueryPeerTypeBroadcast",
    [238759180]: "inlineQueryPeerTypeBotPM",
    [375566091]: "messages.historyImport",
    [1578088377]: "messages.historyImportParsed",
    [4019011180]: "messages.affectedFoundMessages",
    [2354765785]: "chatInviteImporter",
    [3183881676]: "messages.exportedChatInvites",
    [410107472]: "messages.exportedChatInvite",
    [572915951]: "messages.exportedChatInviteReplaced",
    [2176233482]: "messages.chatInviteImporters",
    [4075613987]: "chatAdminWithInvites",
    [3063640791]: "messages.chatAdminsWithInvites",
    [2723014423]: "messages.checkedHistoryImportPeer",
    [2951045695]: "phone.joinAsPeers",
    [541839704]: "phone.exportedGroupCallInvite",
    [3702593719]: "groupCallParticipantVideoSourceGroup",
    [1735736008]: "groupCallParticipantVideo",
    [2248056895]: "stickers.suggestedShortName",
    [795652779]: "botCommandScopeDefault",
    [1011811544]: "botCommandScopeUsers",
    [1877059713]: "botCommandScopeChats",
    [3114950762]: "botCommandScopeChatAdmins",
    [3684534653]: "botCommandScopePeer",
    [1071145937]: "botCommandScopePeerAdmins",
    [169026035]: "botCommandScopePeerUser",
    [3816265825]: "account.resetPasswordFailedWait",
    [3924819069]: "account.resetPasswordRequestedWait",
    [3911636542]: "account.resetPasswordOk",
    [3286236164]: "chatTheme",
    [878246344]: "chatThemeUniqueGift",
    [3759268292]: "account.chatThemesNotModified",
    [3188294003]: "account.chatThemes",
    [2109703795]: "sponsoredMessage",
    [4292502893]: "messages.sponsoredMessages",
    [406407439]: "messages.sponsoredMessagesEmpty",
    [3383776159]: "searchResultsCalendarPeriod",
    [343859772]: "messages.searchResultsCalendar",
    [2137295719]: "searchResultPosition",
    [1404185519]: "messages.searchResultsPositions",
    [4103516358]: "channels.sendAsPeers",
    [997004590]: "users.userFull",
    [1753266509]: "messages.peerSettings",
    [3282207583]: "auth.loggedOut",
    [2748435328]: "reactionCount",
    [171155211]: "messageReactions",
    [834488621]: "messages.messageReactionsList",
    [3229084673]: "availableReaction",
    [2668042583]: "messages.availableReactionsNotModified",
    [1989032621]: "messages.availableReactions",
    [2356786748]: "messagePeerReaction",
    [2162903215]: "groupCallStreamChannel",
    [3504636594]: "phone.groupCallStreamChannels",
    [767505458]: "phone.groupCallStreamRtmpUrl",
    [1165423600]: "attachMenuBotIconColor",
    [2997303403]: "attachMenuBotIcon",
    [3641544190]: "attachMenuBot",
    [4057500252]: "attachMenuBotsNotModified",
    [1011024320]: "attachMenuBots",
    [2478794367]: "attachMenuBotsBot",
    [1294139288]: "webViewResultUrl",
    [211046684]: "webViewMessageSent",
    [1966318984]: "botMenuButtonDefault",
    [1113113093]: "botMenuButtonCommands",
    [3350559974]: "botMenuButton",
    [4227262641]: "account.savedRingtonesNotModified",
    [3253284037]: "account.savedRingtones",
    [2548612798]: "notificationSoundDefault",
    [1863070943]: "notificationSoundNone",
    [2198575844]: "notificationSoundLocal",
    [4285300809]: "notificationSoundRingtone",
    [3072737133]: "account.savedRingtone",
    [523271863]: "account.savedRingtoneConverted",
    [2104224014]: "attachMenuPeerTypeSameBotPM",
    [3274439194]: "attachMenuPeerTypeBotPM",
    [4047950623]: "attachMenuPeerTypePM",
    [84480319]: "attachMenuPeerTypeChat",
    [2080104188]: "attachMenuPeerTypeBroadcast",
    [3317000281]: "inputInvoiceMessage",
    [3274099439]: "inputInvoiceSlug",
    [2560125965]: "inputInvoicePremiumGiftCode",
    [1710230755]: "inputInvoiceStars",
    [887591921]: "inputInvoiceChatInviteSubscription",
    [3898760850]: "inputInvoiceStarGift",
    [1300335965]: "inputInvoiceStarGiftUpgrade",
    [1247763417]: "inputInvoiceStarGiftTransfer",
    [3669668591]: "inputInvoicePremiumGiftStars",
    [4103700034]: "inputInvoiceBusinessBotTransferStars",
    [3281998628]: "inputInvoiceStarGiftResale",
    [2584430776]: "inputInvoiceStarGiftPrepaidUpgrade",
    [1048049172]: "inputInvoicePremiumAuthCode",
    [153344209]: "inputInvoiceStarGiftDropOriginalDetails",
    [516618768]: "inputInvoiceStarGiftAuctionBid",
    [2932919257]: "payments.exportedInvoice",
    [3485063511]: "messages.transcribedAudio",
    [1395946908]: "help.premiumPromo",
    [2792693350]: "inputStorePaymentPremiumSubscription",
    [1634697192]: "inputStorePaymentGiftPremium",
    [4219011987]: "inputStorePaymentPremiumGiftCode",
    [369444042]: "inputStorePaymentPremiumGiveaway",
    [4188186315]: "inputStorePaymentStarsTopup",
    [494149367]: "inputStorePaymentStarsGift",
    [1964968186]: "inputStorePaymentStarsGiveaway",
    [2612159341]: "inputStorePaymentAuthCode",
    [2298016283]: "paymentFormMethod",
    [769727150]: "emojiStatusEmpty",
    [3892250250]: "emojiStatus",
    [1904500795]: "emojiStatusCollectible",
    [118758847]: "inputEmojiStatusCollectible",
    [3498894917]: "account.emojiStatusesNotModified",
    [2428790737]: "account.emojiStatuses",
    [2046153753]: "reactionEmpty",
    [455247544]: "reactionEmoji",
    [2302016627]: "reactionCustomEmoji",
    [1379771627]: "reactionPaid",
    [3942396604]: "chatReactionsNone",
    [1385335754]: "chatReactionsAll",
    [1713193015]: "chatReactionsSome",
    [2960120799]: "messages.reactionsNotModified",
    [3942512406]: "messages.reactions",
    [1128644211]: "emailVerifyPurposeLoginSetup",
    [1383932651]: "emailVerifyPurposeLoginChange",
    [3153401477]: "emailVerifyPurposePassport",
    [2452510121]: "emailVerificationCode",
    [3683688130]: "emailVerificationGoogle",
    [2530243837]: "emailVerificationApple",
    [731303195]: "account.emailVerified",
    [3787132257]: "account.emailVerifiedLogin",
    [1596792306]: "premiumSubscriptionOption",
    [3088871476]: "sendAsPeer",
    [2908916936]: "messageExtendedMediaPreview",
    [3997670500]: "messageExtendedMedia",
    [4244550300]: "stickerKeyword",
    [3020371527]: "username",
    [37687451]: "forumTopicDeleted",
    [3456044746]: "forumTopic",
    [913709011]: "messages.forumTopics",
    [1135897376]: "defaultHistoryTTL",
    [1103040667]: "exportedContactToken",
    [1597737472]: "requestPeerTypeUser",
    [3387977243]: "requestPeerTypeChat",
    [865857388]: "requestPeerTypeBroadcast",
    [1209970170]: "emojiListNotModified",
    [2048790993]: "emojiList",
    [2056961449]: "emojiGroup",
    [2161274055]: "emojiGroupGreeting",
    [154914612]: "emojiGroupPremium",
    [1874111879]: "messages.emojiGroupsNotModified",
    [2283780427]: "messages.emojiGroups",
    [1964978502]: "textWithEntities",
    [870003448]: "messages.translateResult",
    [3360175310]: "autoSaveSettings",
    [2170563911]: "autoSaveException",
    [1279133341]: "account.autoSaveSettings",
    [2094949405]: "help.appConfigNotModified",
    [3709368366]: "help.appConfig",
    [2837495162]: "inputBotAppID",
    [2425095175]: "inputBotAppShortName",
    [1571189943]: "botAppNotModified",
    [2516373974]: "botApp",
    [3947933173]: "messages.botApp",
    [3044185557]: "inlineBotWebView",
    [1246753138]: "readParticipantDate",
    [4091599411]: "inputChatlistDialogFilter",
    [206668204]: "exportedChatlistInvite",
    [283567014]: "chatlists.exportedChatlistInvite",
    [279670215]: "chatlists.exportedInvites",
    [4203214425]: "chatlists.chatlistInviteAlready",
    [4044279343]: "chatlists.chatlistInvite",
    [2478671757]: "chatlists.chatlistUpdates",
    [3903288752]: "bots.botInfo",
    [3066834268]: "messagePeerVote",
    [1959634180]: "messagePeerVoteInputOption",
    [1177089766]: "messagePeerVoteMultiple",
    [2371443926]: "storyViews",
    [1374088783]: "storyItemDeleted",
    [4289579283]: "storyItemSkipped",
    [3992020209]: "storyItem",
    [291044926]: "stories.allStoriesNotModified",
    [1862033025]: "stories.allStories",
    [1673780490]: "stories.stories",
    [2965236421]: "storyView",
    [2424530699]: "storyViewPublicForward",
    [3178549065]: "storyViewPublicRepost",
    [1507299269]: "stories.storyViewsList",
    [3734957341]: "stories.storyViews",
    [2258615824]: "inputReplyToMessage",
    [1484862010]: "inputReplyToStory",
    [1775660101]: "inputReplyToMonoForum",
    [1070138683]: "exportedStoryLink",
    [1898850301]: "storiesStealthMode",
    [3486113794]: "mediaAreaCoordinates",
    [3196246940]: "mediaAreaVenue",
    [2994872703]: "inputMediaAreaVenue",
    [3402974509]: "mediaAreaGeoPoint",
    [340088945]: "mediaAreaSuggestedReaction",
    [1996756655]: "mediaAreaChannelPost",
    [577893055]: "inputMediaAreaChannelPost",
    [926421125]: "mediaAreaUrl",
    [1235637404]: "mediaAreaWeather",
    [1468491885]: "mediaAreaStarGift",
    [2587224473]: "peerStories",
    [3404105576]: "stories.peerStories",
    [4250800829]: "messages.webPage",
    [629052971]: "premiumGiftCodeOption",
    [3952623503]: "payments.checkedGiftCode",
    [1130879648]: "payments.giveawayInfo",
    [3782600303]: "payments.giveawayInfoResults",
    [2991824212]: "prepaidGiveaway",
    [2594011104]: "prepaidStarsGiveaway",
    [1262359766]: "boost",
    [2264424764]: "premium.boostsList",
    [3293069660]: "myBoost",
    [2598512866]: "premium.myBoosts",
    [1230586490]: "premium.boostsStatus",
    [3089555792]: "storyFwdHeader",
    [3875901055]: "postInteractionCountersMessage",
    [2319978023]: "postInteractionCountersStory",
    [1355613820]: "stats.storyStats",
    [32685898]: "publicForwardMessage",
    [3992169936]: "publicForwardStory",
    [2466479648]: "stats.publicForwards",
    [3041614543]: "peerColor",
    [3116393370]: "peerColorCollectible",
    [3102377641]: "inputPeerColorCollectible",
    [639736408]: "help.peerColorSet",
    [1987928555]: "help.peerColorProfileSet",
    [2917953214]: "help.peerColorOption",
    [732034510]: "help.peerColorsNotModified",
    [16313608]: "help.peerColors",
    [1620104917]: "storyReaction",
    [3148555843]: "storyReactionPublicForward",
    [3486322451]: "storyReactionPublicRepost",
    [2858383516]: "stories.storyReactionsList",
    [3179793260]: "savedDialog",
    [1681948327]: "monoForumDialog",
    [4164608545]: "messages.savedDialogs",
    [1153080793]: "messages.savedDialogsSlice",
    [3223285736]: "messages.savedDialogsNotModified",
    [3413112872]: "savedReactionTag",
    [2291882479]: "messages.savedReactionTagsNotModified",
    [844731658]: "messages.savedReactionTags",
    [1001931436]: "outboxReadDate",
    [3700114639]: "smsjobs.eligibleToJoin",
    [720277905]: "smsjobs.status",
    [3869372088]: "smsJob",
    [302717625]: "businessWeeklyOpen",
    [2358423704]: "businessWorkHours",
    [2891717367]: "businessLocation",
    [1871393450]: "inputBusinessRecipients",
    [554733559]: "businessRecipients",
    [3384402617]: "businessAwayMessageScheduleAlways",
    [3287479553]: "businessAwayMessageScheduleOutsideWorkHours",
    [3427638988]: "businessAwayMessageScheduleCustom",
    [26528571]: "inputBusinessGreetingMessage",
    [3843664811]: "businessGreetingMessage",
    [2200008160]: "inputBusinessAwayMessage",
    [4011158108]: "businessAwayMessage",
    [4287793653]: "timezone",
    [2533820620]: "help.timezonesListNotModified",
    [2071260529]: "help.timezonesList",
    [110563371]: "quickReply",
    [609840449]: "inputQuickReplyShortcut",
    [18418929]: "inputQuickReplyShortcutId",
    [3331155605]: "messages.quickReplies",
    [1603398491]: "messages.quickRepliesNotModified",
    [3445908332]: "connectedBot",
    [400029819]: "account.connectedBots",
    [718878489]: "messages.dialogFilters",
    [1821253126]: "birthday",
    [2402595573]: "botBusinessConnection",
    [163867085]: "inputBusinessIntro",
    [1510606445]: "businessIntro",
    [4211040925]: "messages.myStickers",
    [3818152105]: "inputCollectibleUsername",
    [2732725412]: "inputCollectiblePhone",
    [1857945489]: "fragment.collectibleInfo",
    [3303379486]: "inputBusinessBotRecipients",
    [3096245107]: "businessBotRecipients",
    [496600883]: "contactBirthday",
    [290452237]: "contacts.contactBirthdays",
    [1653379620]: "missingInvitee",
    [2136862630]: "messages.invitedUsers",
    [292003751]: "inputBusinessChatLink",
    [3031328367]: "businessChatLink",
    [3963855569]: "account.businessChatLinks",
    [2586029857]: "account.resolvedBusinessChatLinks",
    [3593466986]: "requestedPeerUser",
    [1929860175]: "requestedPeerChat",
    [2342781924]: "requestedPeerChannel",
    [1124938064]: "sponsoredMessageReportOption",
    [2221907522]: "channels.sponsoredMessageReportResultChooseOption",
    [1044107055]: "channels.sponsoredMessageReportResultAdsHidden",
    [2910423113]: "channels.sponsoredMessageReportResultReported",
    [3133384218]: "reactionNotificationsFromContacts",
    [1268654752]: "reactionNotificationsFromAll",
    [1457736048]: "reactionsNotifySettings",
    [2479088254]: "availableEffect",
    [3522009691]: "messages.availableEffectsNotModified",
    [3185271150]: "messages.availableEffects",
    [3097230543]: "factCheck",
    [2515714020]: "starsTransactionPeerUnsupported",
    [3025646453]: "starsTransactionPeerAppStore",
    [2069236235]: "starsTransactionPeerPlayMarket",
    [621656824]: "starsTransactionPeerPremiumBot",
    [3912227074]: "starsTransactionPeerFragment",
    [3624771933]: "starsTransactionPeer",
    [1617438738]: "starsTransactionPeerAds",
    [4184308397]: "starsTransactionPeerAPI",
    [198776256]: "starsTopupOption",
    [325426864]: "starsTransaction",
    [1822222573]: "payments.starsStatus",
    [3900361664]: "foundStory",
    [3806230327]: "stories.foundStories",
    [3729546643]: "geoPointAddress",
    [4273886353]: "starsRevenueStatus",
    [1814066038]: "payments.starsRevenueStats",
    [497778871]: "payments.starsRevenueWithdrawalUrl",
    [961445665]: "payments.starsRevenueAdsAccountUrl",
    [543876817]: "inputStarsTransaction",
    [1577421297]: "starsGiftOption",
    [428978491]: "bots.popularAppBots",
    [602479523]: "botPreviewMedia",
    [212278628]: "bots.previewInfo",
    [88173912]: "starsSubscriptionPricing",
    [779004698]: "starsSubscription",
    [1269016922]: "messageReactor",
    [2496562474]: "starsGiveawayOption",
    [1411605001]: "starsGiveawayWinnersOption",
    [825922887]: "starGift",
    [1453155529]: "starGiftUnique",
    [2743640936]: "payments.starGiftsNotModified",
    [785918357]: "payments.starGifts",
    [2030298073]: "messageReportOption",
    [4041531574]: "reportResultChooseOption",
    [1862904881]: "reportResultAddComment",
    [2377333835]: "reportResultReported",
    [2395931921]: "messages.botPreparedInlineMessage",
    [4283920525]: "messages.preparedInlineMessage",
    [3382384976]: "botAppSettings",
    [3708577522]: "starRefProgram",
    [429997937]: "connectedBotStarRef",
    [2564155933]: "payments.connectedStarRefBots",
    [3033913433]: "payments.suggestedStarRefBots",
    [3149313187]: "starsAmount",
    [1957618656]: "starsTonAmount",
    [1611711796]: "messages.foundStickersNotModified",
    [2194268816]: "messages.foundStickers",
    [2966251031]: "botVerifierSettings",
    [4181513308]: "botVerification",
    [970559507]: "starGiftAttributeModel",
    [330104601]: "starGiftAttributePattern",
    [3644687772]: "starGiftAttributeBackdrop",
    [3770675820]: "starGiftAttributeOriginalDetails",
    [1038213101]: "payments.starGiftUpgradePreview",
    [1658259128]: "users.users",
    [828000628]: "users.usersSlice",
    [1097619176]: "payments.uniqueStarGift",
    [2358937772]: "messages.webPagePreview",
    [3939926110]: "savedStarGift",
    [2515765681]: "payments.savedStarGifts",
    [1764202389]: "inputSavedStarGiftUser",
    [4043418239]: "inputSavedStarGiftChat",
    [545636920]: "inputSavedStarGiftSlug",
    [2225748636]: "payments.starGiftWithdrawalUrl",
    [543872158]: "paidReactionPrivacyDefault",
    [520887001]: "paidReactionPrivacyAnonymous",
    [3698130160]: "paidReactionPrivacyPeer",
    [504403720]: "account.paidMessagesRevenue",
    [84580409]: "requirementToContactEmpty",
    [3850495209]: "requirementToContactPremium",
    [3036053139]: "requirementToContactPaidMessages",
    [2690796791]: "businessBotRights",
    [1911715524]: "disallowedGiftsSettings",
    [3331786963]: "sponsoredPeer",
    [3929191601]: "contacts.sponsoredPeersEmpty",
    [3942852740]: "contacts.sponsoredPeers",
    [1219145276]: "starGiftAttributeIdModel",
    [1242965043]: "starGiftAttributeIdPattern",
    [520210263]: "starGiftAttributeIdBackdrop",
    [783398488]: "starGiftAttributeCounter",
    [2491028191]: "payments.resaleStarGifts",
    [3280453710]: "stories.canSendStoryCount",
    [3890753042]: "pendingSuggestion",
    [3416892719]: "todoItem",
    [1236871718]: "todoList",
    [572241380]: "todoCompletion",
    [244201445]: "suggestedPost",
    [453922567]: "starsRating",
    [2641040304]: "starGiftCollection",
    [2696564503]: "payments.starGiftCollectionsNotModified",
    [2317955827]: "payments.starGiftCollections",
    [2468704346]: "storyAlbum",
    [1448008427]: "stories.albumsNotModified",
    [3281549882]: "stories.albums",
    [1040931690]: "searchPostsFlood",
    [1362093126]: "payments.uniqueStarGiftValueInfo",
    [3113014934]: "profileTabPosts",
    [1296815210]: "profileTabGifts",
    [1925597525]: "profileTabMedia",
    [2872286208]: "profileTabFiles",
    [2670187118]: "profileTabMusic",
    [3833006382]: "profileTabVoice",
    [3546637465]: "profileTabLinks",
    [2730555029]: "profileTabGifs",
    [3817310884]: "users.savedMusicNotModified",
    [883094167]: "users.savedMusic",
    [1338514798]: "account.savedMusicIdsNotModified",
    [2576180790]: "account.savedMusicIds",
    [927967149]: "payments.checkCanSendGiftResultOk",
    [3588588148]: "payments.checkCanSendGiftResultFail",
    [2200339587]: "inputChatThemeEmpty",
    [3376277852]: "inputChatTheme",
    [2279989220]: "inputChatThemeUniqueGift",
    [2582262557]: "starGiftUpgradePrice",
    [445316222]: "groupCallMessage",
    [3997371525]: "groupCallDonor",
    [2635971878]: "phone.groupCallStars",
    [1897752877]: "recentStory",
    [822231244]: "auctionBidLevel",
    [4264769874]: "starGiftAuctionStateNotModified",
    [1998212710]: "starGiftAuctionState",
    [2536352703]: "starGiftAuctionStateFinished",
    [787403204]: "starGiftAuctionUserState",
    [1798960364]: "payments.starGiftAuctionState",
    [1118831432]: "starGiftAuctionAcquiredGift",
    [2103169520]: "payments.starGiftAuctionAcquiredGifts",
    [3541812317]: "starGiftActiveAuctionState",
    [3677608656]: "payments.starGiftActiveAuctionsNotModified",
    [2935401404]: "payments.starGiftActiveAuctions",
    [48327832]: "inputStarGiftAuction",
    [2058715912]: "inputStarGiftAuctionSlug",
    [2556509887]: "passkey",
    [4175473180]: "account.passkeys",
    [3781909729]: "account.passkeyRegistrationOptions",
    [3791878025]: "auth.passkeyLoginOptions",
    [1046713180]: "inputPasskeyResponseRegister",
    [3273638218]: "inputPasskeyResponseLogin",
    [1009235855]: "inputPasskeyCredentialPublicKey",
    [1528613672]: "inputPasskeyCredentialFirebasePNV",
    [2952094616]: "starGiftBackground",
    [984483112]: "starGiftAuctionRound",
    [178266597]: "starGiftAuctionRoundExtendable",
    [1187439471]: "payments.starGiftUpgradeAttributes",
    [3660240455]: "messages.emojiGameOutcome",
    [1508266805]: "messages.emojiGameUnavailable",
    [1155883043]: "messages.emojiGameDiceInfo"
  }
});
var LAYER = 221;

// tl/2_telegram.ts
async function deserializeType2(name, bufferOrReader) {
  const reader = bufferOrReader instanceof Uint8Array ? new TLReader(bufferOrReader) : bufferOrReader;
  return await reader.readType(name, schema2);
}
function serializeObject2(object) {
  return new TLWriter().writeObject(object, schema2).buffer;
}
function isValidObject3(object) {
  return isValidObject(object, schema2);
}
function assertIsValidObject3(object) {
  return assertIsValidObject(object, schema2);
}
function is3(name, value) {
  return is(name, value, schema2);
}
function isOneOf3(names, value) {
  return isOneOf(names, value, schema2);
}
function isOfEnum3(name, value) {
  return isOfEnum(name, value, schema2);
}
function as3(name, value) {
  return as(name, value, schema2);
}
function mustGetReturnType3(name) {
  return mustGetReturnType(name, schema2);
}
var GENERIC_FUNCTIONS = [
  "invokeAfterMsg",
  "invokeAfterMsgs",
  "initConnection",
  "invokeWithLayer",
  "invokeWithoutUpdates",
  "invokeWithMessagesRange",
  "invokeWithTakeout"
];
function isGenericFunction(value) {
  return isOneOf3(GENERIC_FUNCTIONS, value);
}
function getChannelChatId(channelId) {
  return ZERO_CHANNEL_ID + -Number(channelId);
}
function peerToChatId(peer) {
  if (isOneOf3(["peerUser", "inputPeerUser", "inputPeerUserFromMessage", "user", "userFull"], peer) || "user_id" in peer) {
    return Number("user_id" in peer ? peer.user_id : peer.id);
  } else if ("chat_id" in peer || isOneOf3(["peerChat", "inputPeerChat", "chat", "chatForbidden", "chatFull"], peer)) {
    return -Number("chat_id" in peer ? peer.chat_id : peer.id);
  } else if ("channel_id" in peer || isOneOf3(["peerChannel", "inputPeerChannel", "inputPeerChannelFromMessage", "channel", "channelForbidden", "channelFull"], peer)) {
    return getChannelChatId("channel_id" in peer ? peer.channel_id : peer.id);
  } else {
    unreachable();
  }
}
function chatIdToPeer(chatId) {
  if (chatId > 0) {
    return { _: "peerUser", user_id: BigInt(chatId) };
  } else if (chatId > ZERO_CHANNEL_ID) {
    return { _: "peerChat", chat_id: BigInt(Math.abs(chatId)) };
  } else {
    return { _: "peerChannel", channel_id: BigInt(ZERO_CHANNEL_ID - chatId) };
  }
}
function chatIdToPeerId(chatId) {
  const peer = chatIdToPeer(chatId);
  if ("user_id" in peer) {
    return peer.user_id;
  } else if ("chat_id" in peer) {
    return peer.chat_id;
  } else if ("channel_id" in peer) {
    return peer.channel_id;
  } else {
    unreachable();
  }
}
function getChatIdPeerType(chatId) {
  if (chatId > 0) {
    return "user";
  } else if (chatId > ZERO_CHANNEL_ID) {
    return "chat";
  } else {
    return "channel";
  }
}
function inputPeerToPeer(inputPeer) {
  if ("user_id" in inputPeer) {
    return { ...inputPeer, _: "peerUser" };
  } else if ("chat_id" in inputPeer) {
    return { ...inputPeer, _: "peerChat" };
  } else if ("channel_id" in inputPeer) {
    return { ...inputPeer, _: "peerChannel" };
  } else {
    unreachable();
  }
}

// client/0_password.ts
function isSafePrime(primeBytes, g) {
  const goodPrime = new Uint8Array([
    199,
    28,
    174,
    185,
    198,
    177,
    201,
    4,
    142,
    108,
    82,
    47,
    112,
    241,
    63,
    115,
    152,
    13,
    64,
    35,
    142,
    62,
    33,
    193,
    73,
    52,
    208,
    55,
    86,
    61,
    147,
    15,
    72,
    25,
    138,
    10,
    167,
    193,
    64,
    88,
    34,
    148,
    147,
    210,
    37,
    48,
    244,
    219,
    250,
    51,
    111,
    110,
    10,
    201,
    37,
    19,
    149,
    67,
    174,
    212,
    76,
    206,
    124,
    55,
    32,
    253,
    81,
    246,
    148,
    88,
    112,
    90,
    198,
    140,
    212,
    254,
    107,
    107,
    19,
    171,
    220,
    151,
    70,
    81,
    41,
    105,
    50,
    132,
    84,
    241,
    143,
    175,
    140,
    89,
    95,
    100,
    36,
    119,
    254,
    150,
    187,
    42,
    148,
    29,
    91,
    205,
    29,
    74,
    200,
    204,
    73,
    136,
    7,
    8,
    250,
    155,
    55,
    142,
    60,
    79,
    58,
    144,
    96,
    190,
    230,
    124,
    249,
    164,
    164,
    166,
    149,
    129,
    16,
    81,
    144,
    126,
    22,
    39,
    83,
    181,
    107,
    15,
    107,
    65,
    13,
    186,
    116,
    216,
    168,
    75,
    42,
    20,
    179,
    20,
    78,
    14,
    241,
    40,
    71,
    84,
    253,
    23,
    237,
    149,
    13,
    89,
    101,
    180,
    185,
    221,
    70,
    88,
    45,
    177,
    23,
    141,
    22,
    156,
    107,
    196,
    101,
    176,
    214,
    255,
    156,
    163,
    146,
    143,
    239,
    91,
    154,
    228,
    228,
    24,
    252,
    21,
    232,
    62,
    190,
    160,
    248,
    127,
    169,
    255,
    94,
    237,
    112,
    5,
    13,
    237,
    40,
    73,
    244,
    123,
    249,
    89,
    217,
    86,
    133,
    12,
    233,
    41,
    133,
    31,
    13,
    129,
    21,
    246,
    53,
    177,
    5,
    238,
    46,
    78,
    21,
    208,
    75,
    36,
    84,
    191,
    111,
    79,
    173,
    240,
    52,
    177,
    4,
    3,
    17,
    156,
    216,
    227,
    185,
    47,
    204,
    91
  ]);
  if (goodPrime.every((v, i) => v === primeBytes[i])) {
    if ([3, 4, 5, 7].includes(g)) {
      return true;
    }
  }
  return false;
}
var h = sha256;
var sh = (data, salt) => h(concat([salt, data, salt]));
var ph1 = async (password, salt1, salt2) => await sh(await sh(password, salt1), salt2);
async function pbkdf2(password, salt, iterations) {
  const key = await crypto.subtle.importKey("raw", password, "PBKDF2", false, ["deriveBits"]);
  const buffer = await crypto.subtle.deriveBits({ name: "PBKDF2", salt, iterations, hash: "SHA-512" }, key, 512);
  return new Uint8Array(buffer);
}
var ph2 = async (password, salt1, salt2) => await sh(await pbkdf2(await ph1(password, salt1, salt2), salt1, 1e5), salt2);
function isGoodModExpFirst(modexp, prime) {
  const diff = prime - modexp;
  const minDiffBitsCount = 2048 - 64;
  const maxModExpSize = 256;
  return !(diff < 0n || diff.toString(2).length < minDiffBitsCount || modexp.toString(2).length < minDiffBitsCount || Math.floor((modexp.toString(2).length + 7) / 8) > maxModExpSize);
}
function pad(bigint) {
  if (typeof bigint === "number") {
    bigint = BigInt(bigint);
  }
  if (typeof bigint === "bigint") {
    return intToBytes(bigint, 256, { byteOrder: "big", isSigned: false });
  } else {
    return concat([new Uint8Array(256 - bigint.length), bigint]);
  }
}
async function checkPassword(password_, ap) {
  const password = encodeText(password_);
  const algo = ap.current_algo;
  if (!telegram_exports.is("passwordKdfAlgoSHA256SHA256PBKDF2HMACSHA512iter100000SHA256ModPow", algo)) {
    throw new Error("Unexpected algorithm");
  }
  const g = algo.g;
  const p = intFromBytes(algo.p, { byteOrder: "big", isSigned: false });
  if (!isSafePrime(algo.p, g)) {
    throw new Error("Got unsafe prime");
  }
  const srpB = ap.srp_B;
  const srpId = ap.srp_id;
  {
    if (!srpB) {
      throw new Error("srbB is not set");
    }
    if (!srpId) {
      throw new Error("srpId is not set");
    }
  }
  const salt1 = algo.salt1;
  const salt2 = algo.salt2;
  const gB = intFromBytes(srpB, { byteOrder: "big", isSigned: false });
  const k = intFromBytes(await h(concat([pad(p), pad(g)])), { byteOrder: "big", isSigned: false });
  let u = 0n;
  let a = 0n;
  let gA = 0n;
  for (let i = 0; i < 1e3; i++) {
    a = getRandomInt(256, false);
    gA = modExp(BigInt(g), a, p);
    if (isGoodModExpFirst(gA, p)) {
      u = intFromBytes(await sha256(concat([pad(gA), pad(gB)])), { byteOrder: "big", isSigned: false });
      if (u > 0n) {
        break;
      }
    }
  }
  if (!a || !u || !gA) {
    throw new Error();
  }
  const x = intFromBytes(await ph2(password, salt1, salt2), { byteOrder: "big", isSigned: false });
  const v = modExp(BigInt(g), x, p);
  const kV = mod(k * v, p);
  const t = mod(gB - kV, p);
  const sA = modExp(t, a + u * x, p);
  const kA = await h(pad(sA));
  const hG = await h(pad(g));
  const m1 = await h(concat([
    (await h(pad(p))).map((v2, i) => v2 ^ hG[i]),
    await h(salt1),
    await h(salt2),
    pad(gA),
    pad(gB),
    kA
  ]));
  return { _: "inputCheckPasswordSRP", srp_id: srpId, A: pad(gA), M1: m1 };
}

// connection/1_connection_web_socket.ts
var L = getLogger("ConnectionWebSocket");
var errConnectionNotOpen = new ConnectionError("The connection is not open.");
var ConnectionWebSocket = class {
  #url;
  #webSocket;
  #rMutex = new Mutex();
  #wMutex = new Mutex();
  #buffer = new Uint8Array();
  #nextResolve = null;
  stateChangeHandler;
  constructor(url) {
    this.#url = url;
  }
  #initWs() {
    return new Promise((resolve, reject) => {
      const webSocket = new WebSocket(this.#url, "binary");
      const mutex = new Mutex();
      webSocket.addEventListener("close", () => {
        this.#rejectRead();
        this.stateChangeHandler?.(false);
      });
      webSocket.addEventListener("open", () => {
        this.stateChangeHandler?.(true);
        resolve(webSocket);
        L.debug("connected to", this.#url);
      });
      webSocket.addEventListener("message", async (e) => {
        if (typeof e.data === "string") {
          return;
        }
        const unlock = await mutex.lock();
        const data = new Uint8Array(await new Blob([e.data].map((v) => v instanceof Blob || v instanceof Uint8Array ? v : v instanceof ArrayBuffer ? v : unreachable())).arrayBuffer());
        this.#buffer = concat([this.#buffer, data]);
        if (this.#nextResolve !== null && this.#buffer.length >= this.#nextResolve[0]) {
          this.#nextResolve[1].resolve();
          this.#nextResolve = null;
        }
        unlock();
      });
      webSocket.addEventListener("error", (err) => {
        if (this.#isConnecting) {
          reject("message" in err ? new ConnectionError(err.message) : new ConnectionError("Failed to connect."));
        }
        if (this.connected) {
          L.error(err);
        }
      });
    });
  }
  get connected() {
    return !!this.#webSocket && this.#webSocket.readyState === WebSocket.OPEN;
  }
  #isConnecting = false;
  async open() {
    if (this.#isConnecting) {
      return;
    }
    this.#isConnecting = true;
    try {
      this.#webSocket = await this.#initWs();
    } finally {
      this.#isConnecting = false;
    }
  }
  #assertConnected() {
    if (!this.connected) {
      throw errConnectionNotOpen;
    }
  }
  async read(p) {
    this.#assertConnected();
    const unlock = await this.#rMutex.lock();
    try {
      this.#assertConnected();
      if (this.#buffer.length < p.length) {
        await new Promise((resolve, reject) => this.#nextResolve = [p.length, { resolve, reject }]);
      }
      const slice = this.#buffer.slice(0, p.length);
      p.set(slice);
      this.#buffer = this.#buffer.slice(slice.length);
    } finally {
      unlock();
    }
  }
  async write(p) {
    this.#assertConnected();
    const unlock = await this.#wMutex.lock();
    try {
      this.#assertConnected();
      this.#webSocket.send(p);
    } finally {
      unlock();
    }
  }
  #rejectRead() {
    if (this.#nextResolve !== null) {
      this.#nextResolve[1].reject(errConnectionNotOpen);
      this.#nextResolve = null;
    }
  }
  close() {
    this.#assertConnected();
    this.#webSocket.close(1e3, "method");
    this.#webSocket = void 0;
    this.#rejectRead();
  }
};

// storage/1_utilities.ts
var ValueType_ = {
  Boolean: 0,
  Number: 1,
  String: 2,
  BigInt: 3,
  Date: 4,
  Uint8Array: 5,
  Array: 6,
  Map: 7
};
var ValueType = Object.freeze(ValueType_);
function toString(value) {
  if (typeof value === "boolean") {
    return `${ValueType.Boolean}${Number(value)}`;
  } else if (typeof value === "number") {
    return `${ValueType.Number}${value}`;
  } else if (typeof value === "string") {
    return `${ValueType.String}${value}`;
  } else if (typeof value === "bigint") {
    return `${ValueType.BigInt}${value}`;
  } else if (value instanceof Date) {
    return `${ValueType.Date}${value.getTime()}`;
  } else if (value instanceof Uint8Array) {
    return `${ValueType.Uint8Array}${encodeBase64(value)}`;
  } else if (Array.isArray(value)) {
    const items = value.map((v) => {
      const s = toString(v);
      return String(s.length) + "\n" + s;
    });
    return `${ValueType.Array}${items.join("")}`;
  } else if (typeof value === "object" && value !== null && Object.getPrototypeOf(value) === Object.prototype) {
    return `${ValueType.Map}${toString(Object.entries(value)).slice(1)}`;
  }
  return unreachable();
}
function fromString(string) {
  const [type, value] = [Number(string[0]), string.slice(1)];
  switch (type) {
    case ValueType.Boolean:
      return Boolean(Number(value));
    case ValueType.Number:
      return Number(value);
    case ValueType.String:
      return value;
    case ValueType.BigInt:
      return BigInt(value);
    case ValueType.Date:
      return new Date(Number(value));
    case ValueType.Uint8Array:
      return decodeBase64(value);
    case ValueType.Array: {
      const arr = [];
      for (let i = 0; i < value.length; ++i) {
        const length_ = value.slice(i, value.indexOf("\n", i));
        i += length_.length + 1;
        const length = Number(length_);
        const value_ = value.slice(i, i + length);
        i += value_.length - 1;
        arr.push(fromString(value_));
      }
      return arr;
    }
    case ValueType.Map:
      return Object.fromEntries(fromString(`${ValueType.Array}${value}`));
  }
}
function fixKey(key) {
  return key.map((v) => typeof v === "bigint" ? String(ValueType.BigInt) + String(v) : typeof v === "string" ? String(ValueType.String) + v : v);
}
function restoreKey(key) {
  return key.map((v) => {
    if (typeof v === "string") {
      const t = Number(v[0]);
      if (t === ValueType.BigInt) {
        return BigInt(v.slice(1));
      } else if (t === ValueType.String) {
        return v.slice(1);
      } else {
        return v;
      }
    } else {
      return v;
    }
  });
}
function getPrefixKeyRange(prefix2) {
  if (indexedDB.cmp(prefix2, prefix2) !== 0)
    throw new TypeError();
  const upperKey = successor(prefix2);
  if (upperKey === void 0)
    return IDBKeyRange.lowerBound(prefix2);
  return IDBKeyRange.bound(prefix2, upperKey, false, true);
}
var MAX_DATE_VALUE = 864e13;
var UPPER_BOUND = {
  NUMBER: new Date(-MAX_DATE_VALUE),
  DATE: "",
  STRING: [],
  ARRAY: void 0
};
function successor(key) {
  if (typeof key === "number") {
    if (key === Infinity)
      return UPPER_BOUND.NUMBER;
    if (key === -Infinity)
      return -Number.MAX_VALUE;
    if (key === 0)
      return Number.MIN_VALUE;
    let epsilon = Math.abs(key);
    while (key + epsilon / 2 !== key)
      epsilon = epsilon / 2;
    return key + epsilon;
  }
  if (key instanceof Date) {
    if (key.valueOf() + 1 > MAX_DATE_VALUE)
      return UPPER_BOUND.DATE;
    return new Date(key.valueOf() + 1);
  }
  if (typeof key === "string") {
    let len = key.length;
    while (len > 0) {
      const head = key.substring(0, len - 1), tail = key.charCodeAt(len - 1);
      if (tail !== 65535)
        return head + String.fromCharCode(tail + 1);
      key = head;
      --len;
    }
    return UPPER_BOUND.STRING;
  }
  if (Array.isArray(key)) {
    key = key.slice();
    let len = key.length;
    while (len > 0) {
      const tail = successor(key.pop());
      if (tail !== void 0) {
        key.push(tail);
        return key;
      }
      --len;
    }
    return UPPER_BOUND.ARRAY;
  }
  throw new TypeError();
}
function isInRange(key, start, end) {
  for (const [i, part] of key.entries()) {
    const left = start[i];
    const right = end[i];
    if (!left || !right) {
      continue;
    }
    if (left === void 0 || right === void 0) {
      return false;
    }
    if (part >= left && part <= right) {
      continue;
    }
    return false;
  }
  return true;
}

// storage/2_storage_indexed_db.ts
var VERSION = 1;
var KV_OBJECT_STORE = "kv";
var StorageIndexedDB = class _StorageIndexedDB {
  database = null;
  #name;
  #id = null;
  #supportsFiles;
  constructor(name, params) {
    if (typeof indexedDB === "undefined") {
      throw new Error("Unavailable in current environment");
    }
    this.#name = name;
    this.#supportsFiles = params?.storeFiles ?? true;
  }
  get name() {
    return this.#name;
  }
  branch(id5) {
    const storage = new _StorageIndexedDB(this.name, { storeFiles: this.#supportsFiles });
    storage.#id = id5;
    return storage;
  }
  initialize() {
    const db = indexedDB.open(this.name, VERSION);
    return new Promise((res, rej) => {
      db.onblocked = rej;
      db.onerror = rej;
      db.onupgradeneeded = () => {
        db.result.createObjectStore(KV_OBJECT_STORE);
      };
      db.onsuccess = () => {
        this.database = db.result;
        res();
      };
    });
  }
  get supportsFiles() {
    return this.#supportsFiles;
  }
  get mustSerialize() {
    return true;
  }
  get isMemory() {
    return false;
  }
  #fixKey(key) {
    if (this.#id !== null) {
      return ["__S" + this.#id, ...key];
    } else {
      return key;
    }
  }
  set(k, v, tx_) {
    k = this.#fixKey(k);
    if (!this.database) {
      throw new Error("Not initialized");
    }
    const store = (tx_ ?? this.database.transaction(KV_OBJECT_STORE, "readwrite")).objectStore(KV_OBJECT_STORE);
    let tx;
    if (v === null) {
      tx = store.delete(fixKey(k));
    } else {
      tx = store.put(v, fixKey(k));
    }
    return new Promise((res, rej) => {
      tx.onerror = rej;
      tx.onsuccess = () => {
        res();
      };
    });
  }
  get(k, tx_, fix = true) {
    if (fix) {
      k = this.#fixKey(k);
    }
    if (!this.database) {
      throw new Error("Not initialized");
    }
    const tx = (tx_ ?? this.database.transaction(KV_OBJECT_STORE, "readonly")).objectStore(KV_OBJECT_STORE).get(fixKey(k));
    return new Promise((res, rej) => {
      tx.onerror = rej;
      tx.onsuccess = () => {
        res(tx.result === void 0 ? null : tx.result);
      };
    });
  }
  async *getMany(filter2, params, tx_) {
    if ("prefix" in filter2 && this.#id !== null) {
      filter2.prefix = this.#fixKey(filter2.prefix);
    }
    if ("start" in filter2 && this.#id !== null) {
      filter2.start = this.#fixKey(filter2.start);
    }
    if ("end" in filter2 && this.#id !== null) {
      filter2.end = this.#fixKey(filter2.end);
    }
    if (!this.database) {
      throw new Error("Not initialized");
    }
    if (params?.limit !== void 0 && params.limit <= 0) {
      params.limit = 1;
    }
    let keyRange;
    if ("prefix" in filter2) {
      keyRange = getPrefixKeyRange(fixKey(filter2.prefix));
    } else {
      keyRange = IDBKeyRange.bound(fixKey(filter2.start), fixKey(filter2.end), true, true);
    }
    const keys2 = await new Promise((res, rej) => {
      const items = new Array();
      const tx = (tx_ ?? this.database.transaction(KV_OBJECT_STORE, "readonly")).objectStore(KV_OBJECT_STORE).openKeyCursor(keyRange, params?.reverse ? "prev" : void 0);
      tx.onerror = rej;
      tx.onsuccess = () => {
        const cursor = tx.result;
        if (!cursor) {
          res(items);
          return;
        }
        items.push(restoreKey(cursor.key));
        if (params?.limit !== void 0 && items.length >= params.limit) {
          res(items);
        } else {
          cursor.continue();
        }
      };
    });
    for (const key of keys2) {
      yield [key, await this.get(key, null, false)];
    }
  }
  async incr(key, by) {
    if (!this.database) {
      throw new Error("Not initialized");
    }
    const tx = this.database.transaction(KV_OBJECT_STORE, "readwrite");
    const currentValue = await this.get(key, tx);
    await this.set(key, (currentValue || 0) + by, tx);
  }
};

// storage/2_storage_local_storage.ts
var StorageLocalStorage = class _StorageLocalStorage {
  #prefix;
  constructor(prefix2) {
    if (typeof localStorage === "undefined") {
      throw new Error("Unavailable in current environment");
    }
    if (prefix2.length <= 0) {
      throw new Error("Empty prefix");
    }
    this.#prefix = prefix2;
  }
  get prefix() {
    return this.#prefix;
  }
  branch(id5) {
    return new _StorageLocalStorage(this.prefix + "S__" + id5);
  }
  initialize() {
  }
  get supportsFiles() {
    return false;
  }
  get mustSerialize() {
    return true;
  }
  get isMemory() {
    return false;
  }
  get(key_) {
    const key = this.prefix + toString(key_);
    const value = localStorage.getItem(key);
    if (value !== null) {
      return fromString(value);
    } else {
      return null;
    }
  }
  *getMany(filter2, params) {
    let entries = Object.entries(localStorage).sort(([a], [b]) => a.localeCompare(b));
    if (params?.reverse) {
      entries.reverse();
    }
    if (params?.limit !== void 0) {
      entries = entries.slice(0, params.limit <= 0 ? 1 : params.limit);
    }
    entries:
      for (let [key, value] of entries) {
        if (key.startsWith(this.prefix)) {
          key = key.slice(this.prefix.length);
        }
        const parts = fromString(key);
        if (Array.isArray(parts)) {
          if ("prefix" in filter2) {
            for (const [i, p] of filter2.prefix.entries()) {
              if (toString(p) !== toString(parts[i])) {
                continue entries;
              }
            }
          } else {
            if (!isInRange(parts, filter2.start, filter2.end)) {
              continue;
            }
          }
          yield [parts, fromString(value)];
        }
      }
  }
  set(key_, value) {
    const key = this.prefix + toString(key_);
    if (value !== null) {
      localStorage.setItem(key, toString(value));
    } else {
      localStorage.removeItem(key);
    }
  }
  incr(key, by) {
    this.set(key, (this.get(key) || 0) + by);
  }
};

// storage/2_storage_memory.ts
var StorageMemory = class _StorageMemory {
  map = /* @__PURE__ */ new Map();
  #id = null;
  constructor() {
  }
  get mustSerialize() {
    return false;
  }
  initialize() {
  }
  #fixKey(key) {
    if (this.#id !== null) {
      return ["__S" + this.#id, ...key];
    } else {
      return key;
    }
  }
  branch(id5) {
    const storage = new _StorageMemory();
    storage.#id = id5;
    return storage;
  }
  get supportsFiles() {
    return false;
  }
  get isMemory() {
    return true;
  }
  get(key) {
    key = this.#fixKey(key);
    return this.map.get(toString(key)) ?? null;
  }
  #getEntries() {
    const entries = new Array();
    for (const entry of this.map.entries()) {
      if (this.#id !== null && !entry[0].startsWith("__S" + this.#id)) {
        continue;
      }
      entries.push(entry);
    }
    return entries;
  }
  *getMany(filter2, params) {
    let entries = this.#getEntries();
    if (params?.reverse) {
      entries.reverse();
    }
    if (params?.limit !== void 0) {
      entries = entries.slice(0, params.limit <= 0 ? 1 : params.limit);
    }
    entries:
      for (const [key, value] of entries) {
        const parts = fromString(key);
        if (Array.isArray(parts)) {
          if ("prefix" in filter2) {
            for (const [i, p] of filter2.prefix.entries()) {
              if (toString(p) !== toString(parts[i])) {
                continue entries;
              }
            }
          } else {
            if (!isInRange(parts, filter2.start, filter2.end)) {
              continue;
            }
          }
          yield [parts, value];
        }
      }
  }
  set(key_, value) {
    key_ = this.#fixKey(key_);
    const key = toString(key_);
    if (value !== null) {
      this.map.set(key, value);
    } else {
      this.map.delete(key);
    }
  }
  incr(key, by) {
    this.set(key, (this.get(key) || 0) + by);
  }
};

// storage/2_storage_session_storage.ts
var StorageSessionStorage = class _StorageSessionStorage {
  #prefix;
  constructor(prefix2) {
    if (typeof sessionStorage === "undefined") {
      throw new Error("Unavailable in current environment");
    }
    if (prefix2.length <= 0) {
      throw new Error("Empty prefix");
    }
    this.#prefix = prefix2;
  }
  get mustSerialize() {
    return true;
  }
  get prefix() {
    return this.#prefix;
  }
  branch(id5) {
    return new _StorageSessionStorage(this.prefix + "S__" + id5);
  }
  initialize() {
  }
  get supportsFiles() {
    return false;
  }
  get isMemory() {
    return false;
  }
  get(key_) {
    const key = this.prefix + toString(key_);
    const value = sessionStorage.getItem(key);
    if (value !== null) {
      return fromString(value);
    } else {
      return null;
    }
  }
  *getMany(filter2, params) {
    let entries = Object.entries(sessionStorage).sort(([a], [b]) => a.localeCompare(b));
    if (params?.reverse) {
      entries.reverse();
    }
    if (params?.limit !== void 0) {
      entries = entries.slice(0, params.limit <= 0 ? 1 : params.limit);
    }
    entries:
      for (let [key, value] of entries) {
        if (key.startsWith(this.prefix)) {
          key = key.slice(this.prefix.length);
        }
        const parts = fromString(key);
        if (Array.isArray(parts)) {
          if ("prefix" in filter2) {
            for (const [i, p] of filter2.prefix.entries()) {
              if (toString(p) !== toString(parts[i])) {
                continue entries;
              }
            }
          } else {
            if (!isInRange(parts, filter2.start, filter2.end)) {
              continue;
            }
          }
          yield [parts, fromString(value)];
        }
      }
  }
  set(key_, value) {
    const key = this.prefix + toString(key_);
    if (value !== null) {
      sessionStorage.setItem(key, toString(value));
    } else {
      sessionStorage.removeItem(key);
    }
  }
  incr(key, by) {
    this.set(key, (this.get(key) || 0) + by);
  }
};

// transport/0_transport.ts
var Transport = class {
  obfuscationParameters = null;
  async encrypt(buffer) {
    if (this.obfuscationParameters) {
      return await this.obfuscationParameters.encryptionCTR.call(buffer);
    } else {
      return buffer;
    }
  }
  async decrypt(buffer) {
    if (this.obfuscationParameters) {
      return await this.obfuscationParameters.decryptionCTR.call(buffer);
    } else {
      return buffer;
    }
  }
};

// transport/0_obfuscation.ts
async function getObfuscationParameters(protocol, connection) {
  let init;
  while (true) {
    init = concat([crypto.getRandomValues(new Uint8Array(56)), intToBytes(protocol, 4, { byteOrder: "big", isSigned: false }), crypto.getRandomValues(new Uint8Array(4))]);
    if (init[0] === 239) {
      continue;
    }
    const dataView = new DataView(init.buffer, init.byteOffset, init.byteLength);
    const firstInt = dataView.getInt32(0);
    if ([1145128264, 1414745936, 542393671, 1230262351, 33620758, 3722304989, 4008636142].includes(firstInt)) {
      continue;
    }
    const secondInt = dataView.getInt32(4);
    if (secondInt === 0) {
      continue;
    }
    break;
  }
  const encryptKey = init.slice(8, 8 + 32);
  const encryptIv = init.slice(40, 40 + 16);
  const importedEncryptedKey = await CTR.importKey(encryptKey);
  const encryptionCTR = new CTR(importedEncryptedKey, encryptIv);
  const encryptedInit = await encryptionCTR.call(init);
  const initRev = new Uint8Array(init).reverse();
  const decryptKey = initRev.slice(8, 8 + 32);
  const decryptIv = initRev.slice(40, 40 + 16);
  const importedDecryptKey = await CTR.importKey(decryptKey);
  const decryptionCTR = new CTR(importedDecryptKey, decryptIv);
  await connection.write(concat([init.subarray(0, 56), encryptedInit.subarray(56, 56 + 8)]));
  return { encryptionCTR, decryptionCTR };
}

// transport/1_transport_abridged.ts
var TransportAbridged = class extends Transport {
  #connection;
  #obfuscated;
  constructor(connection, obfuscated = false) {
    super();
    this.#connection = connection;
    this.#obfuscated = obfuscated;
  }
  async initialize() {
    if (this.#obfuscated) {
      this.obfuscationParameters = await getObfuscationParameters(4025479151, this.#connection);
    } else {
      await this.#connection.write(new Uint8Array([239]));
    }
  }
  async receive() {
    let length;
    {
      let buffer2 = new Uint8Array(1);
      await this.#connection.read(buffer2);
      buffer2 = await this.decrypt(buffer2);
      if (buffer2[0] < 127) {
        length = buffer2[0];
      } else {
        let buffer3 = new Uint8Array(3);
        await this.#connection.read(buffer3);
        buffer3 = await this.decrypt(buffer3);
        length = Number(intFromBytes(buffer3, { isSigned: false }));
      }
    }
    length *= 4;
    const buffer = new Uint8Array(length);
    await this.#connection.read(buffer);
    return await this.decrypt(buffer);
  }
  async send(buffer) {
    const bufferLength = buffer.length / 4;
    const header = new Uint8Array([bufferLength >= 127 ? 127 : bufferLength]);
    const length = bufferLength >= 127 ? intToBytes(bufferLength, 3, { isSigned: false }) : new Uint8Array();
    const data = concat([header, length, buffer]);
    await this.#connection.write(await this.encrypt(data));
  }
};

// transport/1_transport_intermediate.ts
var TransportIntermediate = class extends Transport {
  #connection;
  #obfuscated;
  constructor(connection, obfuscated = false) {
    super();
    this.#connection = connection;
    this.#obfuscated = obfuscated;
  }
  async initialize() {
    if (this.#obfuscated) {
      this.obfuscationParameters = await getObfuscationParameters(4008636142, this.#connection);
    } else {
      await this.#connection.write(new Uint8Array([238, 238, 238, 238]));
    }
  }
  async receive() {
    let length;
    {
      let buffer2 = new Uint8Array(4);
      await this.#connection.read(buffer2);
      buffer2 = await this.decrypt(buffer2);
      const dataView = new DataView(buffer2.buffer, buffer2.byteOffset, buffer2.byteLength);
      length = dataView.getUint32(0, true);
    }
    const buffer = new Uint8Array(length);
    await this.#connection.read(buffer);
    return await this.decrypt(buffer);
  }
  async send(buffer) {
    const length = intToBytes(buffer.length, 4);
    const data = concat([length, buffer]);
    await this.#connection.write(await this.encrypt(data));
  }
};

// transport/1_transport_provider.ts
function getDcIps(dc, version) {
  switch (version) {
    case "ipv4":
      switch (dc) {
        case "1":
          return ["149.154.175.50"];
        case "2":
          return ["149.154.167.51", "95.161.76.100"];
        case "3":
          return ["149.154.175.100"];
        case "4":
          return ["149.154.167.91"];
        case "5":
          return ["149.154.171.5"];
        case "1-test":
          return ["149.154.175.10"];
        case "2-test":
          return ["149.154.167.40"];
        case "3-test":
          return ["149.154.175.117"];
        default:
          unreachable();
      }
      break;
    case "ipv6":
      switch (dc) {
        case "1":
          return ["2001:b28:f23d:f001::a"];
        case "2":
          return ["2001:67c:4e8:f002::a"];
        case "3":
          return ["2001:b28:f23d:f003::a"];
        case "4":
          return ["2001:67c:4e8:f004::a"];
        case "5":
          return ["2001:b28:f23f:f005::a"];
        case "1-test":
          return ["2001:b28:f23d:f001::e"];
        case "2-test":
          return ["2001:67c:4e8:f002::e"];
        case "3-test":
          return ["2001:b28:f23d:f003::e"];
        default:
          unreachable();
      }
      break;
    default:
      unreachable();
  }
}
function getDcId(dc, cdn) {
  return Number(dc[0]) + (dc.endsWith("-test") ? 1e4 : 0) * (cdn ? -1 : 1);
}
function getDc(dcId) {
  dcId = Math.abs(dcId);
  const test = dcId >= 1e4;
  if (dcId >= 1e4) {
    dcId -= 1e4;
  }
  return `${dcId}${test ? "-test" : ""}`;
}

// connection/1_connection_tcp.ts
var L2 = getLogger("ConnectionTCP");
var ConnectionTCP = class {
  #hostname;
  #port;
  #connection;
  #rMutex = new Mutex();
  #wMutex = new Mutex();
  #buffer = new Uint8Array();
  #nextResolve = null;
  #canRead = false;
  #canWrite = false;
  connect = Deno.connect;
  stateChangeHandler;
  callback;
  constructor(hostname, port) {
    this.#hostname = hostname;
    this.#port = port;
  }
  get connected() {
    return !!this.#connection && this.#canRead && this.#canWrite;
  }
  #assertConnected() {
    if (!this.connected) {
      throw new ConnectionError("The connection is not open.");
    }
  }
  async open() {
    if (this.connected) {
      return;
    }
    const connection = await this.connect({
      hostname: this.#hostname,
      port: this.#port
    });
    connection.setNoDelay(true);
    connection.setKeepAlive(true);
    this.#canRead = this.#canWrite = true;
    this.stateChangeHandler?.(true);
    L2.debug("connected to", this.#hostname, "port", this.#port);
    Promise.resolve().then(async () => {
      do {
        try {
          for await (const chunk of iterateReader(connection)) {
            this.callback?.read(chunk.length);
            this.#buffer = concat([this.#buffer, chunk]);
            if (this.#nextResolve !== null && this.#buffer.length >= this.#nextResolve[0]) {
              this.#nextResolve[1].resolve();
              this.#nextResolve = null;
            }
          }
          this.#canRead = false;
          break;
        } catch (err) {
          this.#canRead = false;
          this.stateChangeHandler?.(false);
          this.#rejectRead();
          L2.error(err);
        }
      } while (this.connected);
      this.stateChangeHandler?.(false);
    });
    this.#connection = connection;
  }
  #rejectRead() {
    if (this.#nextResolve !== null) {
      this.#nextResolve[1].reject(new ConnectionError("The connection was closed."));
      this.#nextResolve = null;
    }
  }
  async read(p) {
    this.#assertConnected();
    const unlock = await this.#rMutex.lock();
    try {
      this.#assertConnected();
      if (this.#buffer.length < p.length) {
        await new Promise((resolve, reject) => this.#nextResolve = [p.length, { resolve, reject }]);
      }
      const slice = this.#buffer.slice(0, p.length);
      p.set(slice);
      this.#buffer = this.#buffer.slice(slice.length);
    } finally {
      unlock();
    }
  }
  async write(p) {
    this.#assertConnected();
    const unlock = await this.#wMutex.lock();
    try {
      this.#assertConnected();
      let written = 0;
      while (written < p.length) {
        try {
          const wrote = await this.#connection.write(p.subarray(written));
          this.callback?.write(wrote);
          written += wrote;
        } catch (err) {
          if (err instanceof Deno.errors.BrokenPipe || err instanceof Deno.errors.ConnectionReset) {
            this.#canWrite = false;
          }
          if (!this.connected) {
            this.stateChangeHandler?.(false);
            throw new ConnectionError("The connection was closed.");
          } else {
            throw err;
          }
        }
      }
    } finally {
      unlock();
    }
  }
  close() {
    this.#assertConnected();
    this.#connection.close();
    this.#canRead = this.#canWrite = false;
    this.#connection = void 0;
    this.#rejectRead();
  }
};

// transport/2_transport_provider_tcp.ts
function transportProviderTcp(params) {
  return ({ dc, cdn }) => {
    const connection = new ConnectionTCP(getDcIps(dc, params?.ipv6 ? "ipv6" : "ipv4")[0], 80);
    const transport = new TransportAbridged(connection, params?.obfuscated);
    return { connection, transport, dcId: getDcId(dc, cdn) };
  };
}

// transport/2_transport_provider_web_socket.ts
var dcToNameMap = {
  "1": "pluto",
  "1-test": "pluto",
  "2": "venus",
  "2-test": "venus",
  "3": "aurora",
  "3-test": "aurora",
  "4": "vesta",
  "5": "flora"
};
var transportProviderWebSocket = (params) => {
  return ({ dc, cdn }) => {
    params ??= {};
    params.wss ??= typeof location !== "undefined" && location.protocol === "http:" && location.hostname !== "localhost" ? false : true;
    const url = `${params.wss ? "wss" : "ws"}://${dcToNameMap[dc]}.web.telegram.org/${cdn ? "cdn" : "api"}/ws`;
    const connection = new ConnectionWebSocket(url);
    const transport = new TransportIntermediate(connection, true);
    const dcId = getDcId(dc, cdn);
    return { connection, transport, dcId };
  };
};

// types/_file_id.ts
var NEXT_VERSION = 53;
var PERSISTENT_ID_VERSION = 4;
var WEB_LOCATION_FLAG = 1 << 24;
var FILE_REFERENCE_FLAG = 1 << 25;
var FileType_ = {
  Thumbnail: 0,
  ProfilePhoto: 1,
  Photo: 2,
  VoiceNote: 3,
  Video: 4,
  Document: 5,
  Encrypted: 6,
  Temp: 7,
  Sticker: 8,
  Audio: 9,
  Animation: 10,
  EncryptedThumbnail: 11,
  Wallpaper: 12,
  VideoNote: 13,
  SecureDecrypted: 14,
  SecureEncrypted: 15,
  Background: 16,
  DocumentAsFile: 17,
  Ringtone: 18,
  CallLog: 19,
  PhotoStory: 20,
  VideoStory: 21,
  Size: 22,
  None: 23
};
var FileType = Object.freeze(FileType_);
var FileTypeClass = Object.freeze({
  Photo: 0,
  Document: 1,
  Secure: 2,
  Encrypted: 3,
  Temp: 4
});
var PhotoSourceType_ = {
  Legacy: 0,
  Thumbnail: 1,
  ChatPhotoSmall: 2,
  ChatPhotoBig: 3,
  StickerSetThumbnail: 4,
  FullLegacy: 5,
  ChatPhotoSmallLegacy: 6,
  ChatPhotoBigLegacy: 7,
  StickerSetThumbnailLegacy: 8,
  StickerSetThumbnailVersion: 9
};
var PhotoSourceType = Object.freeze(PhotoSourceType_);
function deserializePhotoSource(reader) {
  const type = reader.readInt32();
  switch (type) {
    case PhotoSourceType.Legacy:
      return { type, secret: reader.readInt64() };
    case PhotoSourceType.Thumbnail:
      return { type, fileType: reader.readInt32(), thumbnailType: reader.readInt32() };
    case PhotoSourceType.ChatPhotoSmall:
    case PhotoSourceType.ChatPhotoBig: {
      const chatId = reader.readInt64();
      const chatAccessHash = reader.readInt64();
      return { type, chatId, chatAccessHash };
    }
    case PhotoSourceType.FullLegacy: {
      const volumeId = reader.readInt64();
      const localId = reader.readInt32();
      const secret = reader.readInt64();
      return { type, volumeId, localId, secret };
    }
    case PhotoSourceType.ChatPhotoSmallLegacy:
    case PhotoSourceType.ChatPhotoBigLegacy: {
      const chatId = reader.readInt64();
      const chatAccessHash = reader.readInt64();
      const volumeId = reader.readInt64();
      const localId = reader.readInt32();
      return { type, chatId, chatAccessHash, volumeId, localId };
    }
    case PhotoSourceType.StickerSetThumbnail: {
      const stickerSetId = reader.readInt64();
      const stickerSetAccessHash = reader.readInt64();
      return { type, stickerSetId, stickerSetAccessHash };
    }
    case PhotoSourceType.StickerSetThumbnailLegacy: {
      const stickerSetId = reader.readInt64();
      const stickerSetAccessHash = reader.readInt64();
      const volumeId = reader.readInt64();
      const localId = reader.readInt32();
      return { type, stickerSetId, stickerSetAccessHash, volumeId, localId };
    }
    case PhotoSourceType.StickerSetThumbnailVersion: {
      const stickerSetId = reader.readInt64();
      const stickerSetAccessHash = reader.readInt64();
      return { type, stickerSetId, stickerSetAccessHash, version: reader.readInt32() };
    }
  }
}
function serializePhotoSource(photoSource, writer) {
  writer.writeInt32(photoSource.type);
  switch (photoSource.type) {
    case PhotoSourceType.Legacy:
      writer.writeInt64(photoSource.secret);
      break;
    case PhotoSourceType.Thumbnail:
      writer.writeInt32(photoSource.fileType);
      writer.writeInt32(photoSource.thumbnailType);
      break;
    case PhotoSourceType.ChatPhotoSmall:
    case PhotoSourceType.ChatPhotoBig:
      writer.writeInt64(photoSource.chatId);
      writer.writeInt64(photoSource.chatAccessHash);
      break;
    case PhotoSourceType.FullLegacy:
      writer.writeInt64(photoSource.volumeId);
      writer.writeInt32(photoSource.localId);
      writer.writeInt64(photoSource.secret);
      break;
    case PhotoSourceType.ChatPhotoSmallLegacy:
    case PhotoSourceType.ChatPhotoBigLegacy:
      writer.writeInt64(photoSource.chatId);
      writer.writeInt64(photoSource.chatAccessHash);
      writer.writeInt64(photoSource.volumeId);
      writer.writeInt32(photoSource.localId);
      break;
    case PhotoSourceType.StickerSetThumbnail:
      writer.writeInt64(photoSource.stickerSetId);
      writer.writeInt64(photoSource.stickerSetAccessHash);
      break;
    case PhotoSourceType.StickerSetThumbnailLegacy:
      writer.writeInt64(photoSource.stickerSetId);
      writer.writeInt64(photoSource.stickerSetAccessHash);
      writer.writeInt64(photoSource.volumeId);
      writer.writeInt32(photoSource.localId);
      break;
    case PhotoSourceType.StickerSetThumbnailVersion:
      writer.writeInt64(photoSource.stickerSetId);
      writer.writeInt64(photoSource.stickerSetAccessHash);
      writer.writeInt32(photoSource.version);
      break;
    default:
      unreachable();
  }
}
function getPhotoSourceCompareType(source) {
  switch (source.type) {
    case PhotoSourceType.Legacy:
      break;
    case PhotoSourceType.Thumbnail: {
      const type = source.thumbnailType;
      if (!(0 <= type && type <= 127)) {
        unreachable();
      }
      if (type === "a".charCodeAt(0)) {
        return 0;
      }
      if (type === "c".charCodeAt(0)) {
        return 1;
      }
      return type + 5;
    }
    case PhotoSourceType.ChatPhotoSmall:
      return 0;
    case PhotoSourceType.ChatPhotoBig:
      return 1;
    case PhotoSourceType.StickerSetThumbnail:
      break;
    case PhotoSourceType.FullLegacy:
    case PhotoSourceType.ChatPhotoSmallLegacy:
    case PhotoSourceType.ChatPhotoBigLegacy:
    case PhotoSourceType.StickerSetThumbnailLegacy:
      return 3;
    case PhotoSourceType.StickerSetThumbnailVersion:
      return 2;
    default:
      break;
  }
  unreachable();
}
function writePhotoSourceUniqueId(photoSource, writer) {
  const compareType = getPhotoSourceCompareType(photoSource);
  if (compareType !== 2 && compareType !== 3) {
    writer.write(new Uint8Array([compareType]));
    return;
  }
  if (compareType === 2) {
    writer.write(new Uint8Array([2]));
  }
  writer.writeInt64("volumeId" in photoSource ? photoSource.volumeId : "stickerSetId" in photoSource ? photoSource.stickerSetId : unreachable());
  writer.writeInt32("localId" in photoSource ? photoSource.localId : "version" in photoSource ? photoSource.version : unreachable());
}
function getFileTypeClass(fileType) {
  switch (fileType) {
    case FileType.Photo:
    case FileType.ProfilePhoto:
    case FileType.Thumbnail:
    case FileType.EncryptedThumbnail:
    case FileType.Wallpaper:
    case FileType.PhotoStory:
      return FileTypeClass.Photo;
    case FileType.Video:
    case FileType.VoiceNote:
    case FileType.Document:
    case FileType.Sticker:
    case FileType.Audio:
    case FileType.Animation:
    case FileType.VideoNote:
    case FileType.Background:
    case FileType.DocumentAsFile:
    case FileType.Ringtone:
    case FileType.CallLog:
    case FileType.VideoStory:
      return FileTypeClass.Document;
    case FileType.SecureDecrypted:
    case FileType.SecureEncrypted:
      return FileTypeClass.Secure;
    case FileType.Encrypted:
      return FileTypeClass.Encrypted;
    case FileType.Temp:
      return FileTypeClass.Temp;
    case FileType.None:
    case FileType.Size:
    default:
      unreachable();
  }
}
function isWeb(fileType) {
  return !!(fileType & WEB_LOCATION_FLAG);
}
function hasFileReference(fileType) {
  return !!(fileType & FILE_REFERENCE_FLAG);
}
function deserializeFileId(fileId) {
  const reader = new TLReader(rleDecode(base64DecodeUrlSafe(fileId)));
  if (reader.buffer[reader.buffer.length - 1] !== PERSISTENT_ID_VERSION) {
    throw new InputError("Unsupported file ID format");
  }
  const originalType = reader.readInt32();
  const type = originalType & ~WEB_LOCATION_FLAG & ~FILE_REFERENCE_FLAG;
  const dcId = reader.readInt32();
  if (isWeb(originalType)) {
    const url = reader.readString();
    const accessHash2 = reader.readInt64();
    return { type, dcId, location: { type: "web", url, accessHash: accessHash2 } };
  }
  const fileReference = hasFileReference(originalType) ? reader.readBytes() : void 0;
  const id5 = reader.readInt64();
  const accessHash = reader.readInt64();
  if (getFileTypeClass(type) === FileTypeClass.Photo) {
    const source = deserializePhotoSource(reader);
    return { type, dcId, fileReference, location: { type: "photo", id: id5, accessHash, source } };
  } else {
    return { type, dcId, fileReference, location: { type: "common", id: id5, accessHash } };
  }
}
function serializeFileId(fileId) {
  const writer = new TLWriter();
  let type = fileId.type;
  if (fileId.fileReference) {
    type |= FILE_REFERENCE_FLAG;
  }
  if (fileId.location.type === "web") {
    type |= WEB_LOCATION_FLAG;
  }
  writer.writeInt32(type);
  writer.writeInt32(fileId.dcId);
  if (fileId.location.type === "web") {
    writer.writeString(fileId.location.url);
    writer.writeInt64(fileId.location.accessHash);
  } else {
    if (fileId.fileReference) {
      writer.writeBytes(fileId.fileReference);
    }
    writer.writeInt64(fileId.location.id);
    writer.writeInt64(fileId.location.accessHash);
    if (fileId.location.type === "photo") {
      serializePhotoSource(fileId.location.source, writer);
    }
  }
  writer.write(new Uint8Array([NEXT_VERSION - 1, PERSISTENT_ID_VERSION]));
  return base64EncodeUrlSafe(rleEncode(writer.buffer));
}
function toUniqueFileId(fileId) {
  const writer = new TLWriter();
  const type = fileId.location.type === "web" ? 0 : getFileTypeClass(fileId.type) + 1;
  writer.writeInt32(type);
  if (fileId.location.type === "web") {
    writer.writeString(fileId.location.url);
  } else if (fileId.location.type === "common") {
    writer.writeInt64(fileId.location.id);
  } else {
    switch (fileId.location.source.type) {
      case PhotoSourceType.Legacy:
      case PhotoSourceType.StickerSetThumbnail:
        unreachable();
      case PhotoSourceType.FullLegacy:
      case PhotoSourceType.ChatPhotoSmallLegacy:
      case PhotoSourceType.ChatPhotoBigLegacy:
      case PhotoSourceType.StickerSetThumbnailLegacy:
        writer.writeInt64(fileId.location.id);
        writePhotoSourceUniqueId(fileId.location.source, writer);
        break;
      case PhotoSourceType.ChatPhotoSmall:
      case PhotoSourceType.ChatPhotoBig:
      case PhotoSourceType.Thumbnail:
        writer.writeInt64(fileId.location.id);
        writePhotoSourceUniqueId(fileId.location.source, writer);
        break;
      case PhotoSourceType.StickerSetThumbnailVersion:
        writePhotoSourceUniqueId(fileId.location.source, writer);
        break;
    }
  }
  return base64EncodeUrlSafe(rleEncode(writer.buffer));
}
function getPhotoFileId(photo) {
  const sizes = photo.sizes.map((v) => {
    if (telegram_exports.is("photoSizeProgressive", v)) {
      return { _: "photoSize", type: v.type, w: v.w, h: v.h, size: Math.max(...v.sizes) };
    } else {
      return v;
    }
  }).filter((v) => telegram_exports.is("photoSize", v)).sort((a, b) => a.size - b.size);
  const largest = sizes.slice(-1)[0];
  const { dc_id: dcId, id: id5, access_hash: accessHash, file_reference: fileReference } = photo;
  const fileId = {
    type: FileType.Photo,
    dcId,
    fileReference,
    location: {
      type: "photo",
      id: id5,
      accessHash,
      source: {
        type: PhotoSourceType.Thumbnail,
        fileType: FileType.Photo,
        thumbnailType: largest.type.charCodeAt(0)
      }
    }
  };
  return { fileId: serializeFileId(fileId), fileUniqueId: toUniqueFileId(fileId) };
}

// types/0_birthday.ts
function constructBirthday(birthday) {
  return cleanObject({
    day: birthday.day,
    month: birthday.month,
    year: birthday.year
  });
}
function birthdayToTlObject(birthday) {
  return {
    _: "birthday",
    day: birthday.day,
    month: birthday.month,
    year: birthday.year
  };
}

// types/0_callback_query_answer.ts
function constructCallbackQueryAnswer(answer) {
  return {
    isAlert: !!answer.alert,
    text: answer.message ?? "",
    url: answer.url ?? ""
  };
}

// types/0_callback_query_question.ts
function validateCallbackQueryQuestion(q) {
  if (!["game", "password", "button"].includes(q.type)) {
    throw new InputError("Got invalid callback query question type.");
  }
  if (q.type === "password" && (typeof q.password !== "string" || !q.password)) {
    throw new InputError("Got empty password.");
  }
  if ((q.type === "button" || q.type === "password") && (typeof q.data !== "string" || !q.data)) {
    throw new InputError("Got empty button data.");
  }
}

// types/0_chat_administrator_rights.ts
function constructChatAdministratorRights(rights_) {
  return {
    isAnonymous: rights_.anonymous || false,
    canManageChat: rights_.other || false,
    canDeleteMessages: rights_.delete_messages || false,
    canManageVideoChats: rights_.manage_call || false,
    canRestrictMembers: rights_.ban_users || false,
    canPromoteMembers: rights_.add_admins || false,
    canChangeInfo: rights_.change_info || false,
    canInviteUsers: rights_.invite_users || false,
    canPostMessages: rights_.post_messages || false,
    canEditMessages: rights_.edit_messages || false,
    canPinMessages: rights_.pin_messages || false,
    canManageTopics: rights_.manage_topics || false,
    canPostStories: rights_.post_stories || false,
    canEditStories: rights_.edit_stories || false,
    canDeleteStories: rights_.delete_stories || false,
    canManageDirectMessages: rights_.manage_direct_messages || false
  };
}
function chatAdministratorRightsToTlObject(rights) {
  return {
    _: "chatAdminRights",
    anonymous: rights.isAnonymous || void 0,
    other: rights.canManageChat || void 0,
    delete_messages: rights.canDeleteMessages || void 0,
    manage_call: rights.canManageVideoChats || void 0,
    ban_users: rights.canRestrictMembers || void 0,
    add_admins: rights.canPromoteMembers || void 0,
    change_info: rights.canChangeInfo || void 0,
    invite_users: rights.canInviteUsers || void 0,
    post_messages: rights.canPostMessages || void 0,
    edit_messages: rights.canEditMessages || void 0,
    pin_messages: rights.canPinMessages || void 0,
    manage_topics: rights.canManageTopics || void 0,
    post_stories: rights.canPostStories || void 0,
    edit_stories: rights.canEditStories || void 0,
    delete_stories: rights.canDeleteStories || void 0,
    manage_direct_messages: rights.canManageDirectMessages || void 0
  };
}

// types/0_chat_member_rights.ts
function constructChatMemberRights(rights) {
  return cleanObject({
    canSendMessages: rights.send_messages ? true : false,
    canSendAudio: rights.send_audios ? true : false,
    canSendDocuments: rights.send_docs ? true : false,
    canSendPhotos: rights.send_photos ? true : false,
    canSendVideos: rights.send_messages ? true : false,
    canSendVideoNotes: rights.send_roundvideos ? true : false,
    canSendVoice: rights.send_voices ? true : false,
    canSendPolls: rights.send_polls ? true : false,
    canSendStickers: rights.send_stickers ? true : false,
    canSendAnimations: rights.send_gifs ? true : void 0,
    canSendGames: rights.send_games ? true : void 0,
    canSendInlineBotResults: rights.send_inline ? true : void 0,
    canAddWebPagePreviews: rights.embed_links ? true : void 0,
    canChangeInfo: rights.change_info ? true : void 0,
    canInviteUsers: rights.invite_users ? true : void 0,
    canPinMessages: rights.pin_messages ? true : void 0,
    canManageTopics: rights.manage_topics ? true : void 0
  });
}
function chatMemberRightsToTlObject(rights, until) {
  return {
    _: "chatBannedRights",
    until_date: until ?? 0,
    send_messages: rights?.canSendMessages !== false ? void 0 : true,
    send_audios: rights?.canSendAudio !== false ? void 0 : true,
    send_docs: rights?.canSendDocuments !== false ? void 0 : true,
    send_photos: rights?.canSendPhotos !== false ? void 0 : true,
    send_videos: rights?.canSendVideos !== false ? void 0 : true,
    send_roundvideos: rights?.canSendVideoNotes !== false ? void 0 : true,
    send_voices: rights?.canSendVoice !== false ? void 0 : true,
    send_polls: rights?.canSendPolls !== false ? void 0 : true,
    send_stickers: rights?.canSendStickers !== false ? void 0 : true,
    send_gifs: rights?.canSendAnimations !== false ? void 0 : true,
    send_games: rights?.canSendGames !== false ? void 0 : true,
    send_inline: rights?.canSendInlineBotResults !== false ? void 0 : true,
    embed_links: rights?.canAddWebPagePreviews !== false ? void 0 : true,
    change_info: rights?.canChangeInfo !== false ? void 0 : true,
    invite_users: rights?.canInviteUsers !== false ? void 0 : true,
    pin_messages: rights?.canPinMessages !== false ? void 0 : true,
    manage_topics: rights?.canManageTopics !== false ? void 0 : true
  };
}

// types/0_chat_photo.ts
function constructChatPhoto(photo, chatId, chatAccessHash) {
  const smallFileId_ = {
    type: FileType.ProfilePhoto,
    dcId: photo.dc_id,
    location: { type: "photo", id: photo.photo_id, accessHash: 0n, source: { type: PhotoSourceType.ChatPhotoSmall, chatId: BigInt(chatId), chatAccessHash } }
  };
  const smallFileId = serializeFileId(smallFileId_);
  const smallFileUniqueId = toUniqueFileId(smallFileId_);
  const bigFileId_ = {
    type: FileType.ProfilePhoto,
    dcId: photo.dc_id,
    location: { type: "photo", id: photo.photo_id, accessHash: 0n, source: { type: PhotoSourceType.ChatPhotoBig, chatId: BigInt(chatId), chatAccessHash } }
  };
  const bigFileId = serializeFileId(bigFileId_);
  const bigFileUniqueId = toUniqueFileId(bigFileId_);
  if (telegram_exports.is("chatPhoto", photo)) {
    return cleanObject({
      smallFileId,
      smallFileUniqueId,
      bigFileId,
      bigFileUniqueId,
      hasVideo: photo.has_video || false,
      isPersonal: false
    });
  } else {
    return cleanObject({
      smallFileId,
      smallFileUniqueId,
      bigFileId,
      bigFileUniqueId,
      hasVideo: photo.has_video || false,
      isPersonal: photo.personal ? true : false
    });
  }
}

// types/0_contact.ts
function constructContact(contact) {
  return cleanObject({
    phoneNumber: contact.phone_number,
    firstName: contact.first_name,
    lastName: contact.last_name || void 0,
    userId: Number(contact.user_id) || void 0,
    vcard: contact.vcard || void 0
  });
}

// types/0_dice.ts
function constructDice(dice_) {
  return { emoji: dice_.emoticon, value: dice_.value };
}

// types/0_failed_invitation.ts
function constructFailedInvitation(missingInvitee) {
  return {
    userId: Number(missingInvitee.user_id),
    requiresPremiumToInvite: !!missingInvitee.premium_would_allow_invite,
    requiresPremiumToMessage: !!missingInvitee.premium_required_for_pm
  };
}

// types/0_giveaway_parameters.ts
function constructGiveawayParameters(g) {
  const countries = g.countries_iso2 ?? [];
  const boostedChatId = telegram_exports.peerToChatId({ _: "peerChannel", channel_id: g.channels[0] });
  const additionalChatIds = g.channels.slice(1).map((v) => telegram_exports.peerToChatId({ _: "peerChannel", channel_id: v }));
  const onlyNewMembers = g.only_new_subscribers ? true : false;
  const winnerSelectionDate = g.until_date;
  return { boostedChatId, additionalChatIds, winnerSelectionDate, onlyNewMembers, countries };
}

// types/0_invoice.ts
function constructInvoice(invoice) {
  return {
    title: invoice.title,
    description: invoice.description,
    startParameter: invoice.start_param,
    currency: invoice.currency,
    totalAmount: Number(invoice.total_amount)
  };
}

// types/0_live_stream_channel.ts
function constructLiveStreamChannel(channel) {
  return {
    id: channel.channel,
    scale: channel.scale,
    timestamp: Number(channel.last_timestamp_ms)
  };
}

// types/0_location.ts
function constructLocation(geo_) {
  if (telegram_exports.is("messageMediaGeo", geo_)) {
    const geo = telegram_exports.as("geoPoint", geo_.geo);
    return cleanObject({
      latitude: geo.lat,
      longitude: geo.long,
      horizontalAccuracy: geo.accuracy_radius
    });
  } else if (telegram_exports.is("messageMediaGeoLive", geo_)) {
    const media = geo_;
    const geo = telegram_exports.as("geoPoint", media.geo);
    return cleanObject({
      latitude: geo.lat,
      longitude: geo.long,
      horizontalAccuracy: geo.accuracy_radius,
      livePeriod: media.period,
      heading: media.heading,
      proximityAlertRadius: media.proximity_notification_radius
    });
  } else {
    return cleanObject({
      latitude: geo_.lat,
      longitude: geo_.long,
      horizontalAccuracy: geo_.accuracy_radius
    });
  }
}

// types/0_mask_position.ts
function constructMaskPosition({ n, x, y, zoom }) {
  return {
    point: n === 0 ? "forehead" : n === 1 ? "eyes" : n === 2 ? "mouth" : "chin",
    xShift: x,
    yShift: y,
    scale: zoom
  };
}

// types/0_message_search_filter.ts
function messageSearchFilterToTlObject(filter2) {
  switch (filter2) {
    case "empty":
      return { _: "inputMessagesFilterEmpty" };
    case "animations":
      return { _: "inputMessagesFilterGif" };
    case "audios":
      return { _: "inputMessagesFilterMusic" };
    case "documents":
      return { _: "inputMessagesFilterDocument" };
    case "photos":
      return { _: "inputMessagesFilterPhotos" };
    case "videos":
      return { _: "inputMessagesFilterVideo" };
    case "voiceMessages":
      return { _: "inputMessagesFilterVoice" };
    case "photosAndVideos":
      return { _: "inputMessagesFilterPhotoVideo" };
    case "links":
      return { _: "inputMessagesFilterUrl" };
    case "chatPhotos":
      return { _: "inputMessagesFilterChatPhotos" };
    case "videoNotes":
      return { _: "inputMessagesFilterRoundVideo" };
    case "voiceMessagesAndVideoNotes":
      return { _: "inputMessagesFilterRoundVoice" };
    case "mentions":
      return { _: "inputMessagesFilterMyMentions" };
    case "pinned":
      return { _: "inputMessagesFilterPinned" };
    default:
      unreachable();
  }
}

// types/0_mini_app_button_info.ts
function constructMiniAppButtonInfo(url) {
  return { url };
}

// types/0_opening_hours.ts
function constructOpeningHours(hours) {
  return {
    timezone: hours.timezone_id,
    intervals: hours.weekly_open.map((v) => [v.start_minute, v.end_minute])
  };
}

// types/0_reaction.ts
function constructReaction(reaction) {
  if (telegram_exports.is("reactionEmoji", reaction)) {
    return { type: "emoji", emoji: reaction.emoticon };
  } else if (telegram_exports.is("reactionCustomEmoji", reaction)) {
    return { type: "custom", id: String(reaction.document_id) };
  } else if (telegram_exports.is("reactionPaid", reaction)) {
    return { type: "paid" };
  } else {
    unreachable();
  }
}
function reactionToTlObject(reaction) {
  return reaction.type === "emoji" ? { _: "reactionEmoji", emoticon: reaction.emoji } : reaction.type === "custom" ? { _: "reactionCustomEmoji", document_id: BigInt(reaction.id) } : { _: "reactionPaid" };
}
function reactionEqual(left, right) {
  if (left.type === "emoji") {
    if (right.type === "emoji" && left.emoji === right.emoji) {
      return true;
    }
  } else if (left.type === "custom") {
    if (right.type === "custom" && left.id === right.id) {
      return true;
    }
  }
  return false;
}

// types/0_refunded_payment.ts
function constructRefundedPayment(action) {
  return cleanObject({
    currency: action.currency,
    totalAmount: Number(action.total_amount),
    invoicePayload: action.payload ? decodeText(action.payload) : "",
    telegramPaymentChargeId: action.charge.id,
    providerPaymentChargeId: action.charge.provider_charge_id
  });
}

// types/0_restriction_reason.ts
function constructRestrictionReason(rr) {
  return { platform: rr.platform, reason: rr.reason, text: rr.text };
}

// types/0_self_destruct_option.ts
var MAX_INT_32 = ~~(4294967295 / 2);
function constructSelfDestructOption(ttlSeconds) {
  if (ttlSeconds === MAX_INT_32) {
    return "afterOpen";
  } else {
    return ttlSeconds;
  }
}
function selfDestructOptionToInt(option) {
  if (option === "afterOpen") {
    return 2147483647;
  } else if (typeof option === "number") {
    if (option === 0) {
      throw new InputError("Self destruct option cannot be zero.");
    } else if (option < 0) {
      throw new InputError("Self destruct option cannot be negative.");
    } else {
      return option;
    }
  } else {
    throw new InputError("Invalid self destruct option.");
  }
}

// types/0_shipping_address.ts
function constructShippingAddress(shippingAddress) {
  return {
    countryCode: shippingAddress.country_iso2,
    state: shippingAddress.state,
    city: shippingAddress.city,
    streetLine1: shippingAddress.street_line1,
    streetLine2: shippingAddress.street_line2,
    postCode: shippingAddress.post_code
  };
}

// types/0_slow_mode_duration.ts
function slowModeDurationToSeconds(duration) {
  const amount = Number(duration.slice(0, -1));
  const unit = duration[duration.length - 1];
  if (unit === "s") {
    return amount;
  }
  const multiplyBy = unit === "h" ? 60 ** 2 : 60;
  return amount * multiplyBy;
}

// types/0_thumbnail.ts
function constructThumbnail(size, file) {
  const type = telegram_exports.is("photo", file) ? FileType.Photo : FileType.Thumbnail;
  const fileType = telegram_exports.is("photo", file) ? FileType.Photo : FileType.Document;
  const fileId_ = {
    type,
    dcId: file.dc_id,
    fileReference: file.file_reference,
    location: { type: "photo", id: file.id, accessHash: file.access_hash, source: { type: PhotoSourceType.Thumbnail, fileType, thumbnailType: size.type.charCodeAt(0) } }
  };
  return {
    fileId: serializeFileId(fileId_),
    fileUniqueId: toUniqueFileId(fileId_),
    width: size.w,
    height: size.h,
    fileSize: size.size
  };
}

// types/0_translation.ts
function constructTranslation(langPackString) {
  if (telegram_exports.is("langPackString", langPackString)) {
    return {
      key: langPackString.key,
      value: langPackString.value
    };
  } else if (telegram_exports.is("langPackStringPluralized", langPackString)) {
    return {
      key: langPackString.key,
      value: langPackString.other_value,
      one: langPackString.one_value,
      zero: langPackString.zero_value,
      two: langPackString.two_value,
      few: langPackString.few_value,
      many: langPackString.many_value
    };
  } else {
    return {
      key: langPackString.key,
      value: ""
    };
  }
}

// types/0_video_chat.ts
function constructVideoChat(call) {
  const id5 = String(call.id);
  if (telegram_exports.is("groupCallDiscarded", call)) {
    return {
      type: "ended",
      id: id5,
      duration: call.duration
    };
  } else {
    const title = call.title ?? "";
    const liveStream = call.rtmp_stream ? true : false;
    const participantCount = call.participants_count;
    if (call.schedule_date) {
      return {
        type: "scheduled",
        id: id5,
        title,
        scheduledFor: call.schedule_date,
        isLiveStream: liveStream,
        participantCount
      };
    } else {
      return {
        type: "active",
        id: id5,
        title,
        isLiveStream: liveStream,
        recording: call.record_video_active ? true : false,
        participantCount
      };
    }
  }
}

// types/0_voice_transcription.ts
function constructVoiceTranscription(transcribedAudio) {
  return {
    id: String(transcribedAudio.transcription_id),
    done: !transcribedAudio.pending,
    text: transcribedAudio.text
  };
}

// types/0_voice.ts
function constructVoice(document, audioAttributes, fileId, fileUniqueId) {
  return {
    fileId,
    fileUniqueId,
    duration: audioAttributes.duration,
    mimeType: document.mime_type,
    fileSize: Number(document.size)
  };
}

// types/1_animation.ts
function constructAnimation(document, videoAttribute, fileAttribute, fileId, fileUniqueId) {
  return cleanObject({
    fileId,
    fileUniqueId,
    width: videoAttribute?.w ?? 0,
    height: videoAttribute?.h ?? 0,
    duration: videoAttribute?.duration ?? 0,
    thumbnails: document.thumbs ? document.thumbs.map((v) => telegram_exports.is("photoSize", v) ? constructThumbnail(v, document) : null).filter((v) => v) : [],
    fileName: fileAttribute?.file_name,
    mimeType: document.mime_type,
    fileSize: Number(document.size)
  });
}

// types/1_audio.ts
function constructAudio(document, audioAttribute, fileId, fileUniqueId) {
  return cleanObject({
    fileId,
    fileUniqueId,
    duration: audioAttribute?.duration ?? 0,
    performer: audioAttribute?.performer,
    title: audioAttribute?.title,
    mimeType: document.mime_type,
    fileSize: Number(document.size),
    thumbnails: document.thumbs ? document.thumbs.map((v) => telegram_exports.is("photoSize", v) ? constructThumbnail(v, document) : null).filter((v) => v) : []
  });
}

// types/1_bot_command_scope.ts
async function botCommandScopeToTlObject(scope, getInputPeer) {
  switch (scope.type) {
    case "default":
      return { _: "botCommandScopeDefault" };
    case "allPrivateChats":
      return { _: "botCommandScopeUsers" };
    case "allGroupChats":
      return { _: "botCommandScopeChats" };
    case "allChatAdministrators":
      return { _: "botCommandScopeChatAdmins" };
    case "chat":
      return { _: "botCommandScopePeer", peer: await getInputPeer(scope.chatId) };
    case "chatAdministrators":
      return { _: "botCommandScopePeerAdmins", peer: await getInputPeer(scope.chatId) };
    case "chatMember": {
      const user = await getInputPeer(scope.userId);
      if (!telegram_exports.is("inputPeerUser", user)) {
        unreachable();
      }
      return { _: "botCommandScopePeerUser", peer: await getInputPeer(scope.chatId), user_id: { _: "inputUser", user_id: user.user_id, access_hash: user.access_hash } };
    }
    default:
      unreachable();
  }
}

// types/1_chat_p.ts
function constructChatP(chat) {
  if (telegram_exports.is("user", chat)) {
    const id5 = Number(chat.id);
    const usernames = chat.usernames?.map((v) => v.username);
    const username = chat.username ?? usernames?.shift();
    const chat_ = {
      id: id5,
      type: "private",
      isBot: chat.bot || false,
      color: telegram_exports.is("peerColor", chat.color) && chat.color.color !== void 0 ? chat.color.color : getColorFromPeerId(id5),
      firstName: chat.first_name || "",
      lastName: chat.last_name,
      username,
      languageCode: chat.lang_code,
      also: usernames?.filter((v) => v !== username),
      isScam: chat.scam || false,
      isFake: chat.fake || false,
      isPremium: chat.premium || false,
      isVerified: chat.verified || false,
      isSupport: chat.support || false,
      isRestricted: chat.restricted || false,
      restrictionReason: chat.restriction_reason,
      addedToAttachmentMenu: chat.bot ? chat.attach_menu_enabled || false : void 0,
      hasMainMiniApp: chat.bot ? chat.attach_menu_enabled || false : void 0
    };
    if (telegram_exports.is("userProfilePhoto", chat.photo)) {
      chat_.photo = constructChatPhoto(chat.photo, chat_.id, chat.access_hash ?? 0n);
    }
    return cleanObject(chat_);
  } else if (telegram_exports.is("chat", chat) || telegram_exports.is("chatForbidden", chat)) {
    const id5 = peerToChatId(chat);
    const chat_ = {
      id: id5,
      type: "group",
      color: getColorFromPeerId(id5),
      title: chat.title,
      isCreator: false
    };
    if (telegram_exports.is("chat", chat)) {
      chat_.isCreator = chat.creator || false;
      if (telegram_exports.is("chatPhoto", chat.photo)) {
        chat_.photo = constructChatPhoto(chat.photo, id5, 0n);
      }
    }
    return cleanObject(chat_);
  } else if (telegram_exports.is("channel", chat) || telegram_exports.is("channelForbidden", chat)) {
    let chat_;
    const id5 = peerToChatId(chat);
    if (telegram_exports.is("channelForbidden", chat)) {
      const { title: title2 } = chat;
      if (chat.megagroup) {
        return { id: id5, color: getColorFromPeerId(id5), title: title2, type: "supergroup", isScam: false, isFake: false, isVerified: false, isRestricted: false, isForum: false };
      } else {
        return { id: id5, color: getColorFromPeerId(id5), title: title2, type: "channel", isScam: false, isFake: false, isVerified: false, isRestricted: false };
      }
    }
    const {
      title,
      scam: isScam = false,
      fake: isFake = false,
      verified: isVerified = false,
      restricted: isRestricted = false
    } = chat;
    if (chat.megagroup) {
      chat_ = {
        id: id5,
        color: telegram_exports.is("peerColor", chat.color) && chat.color.color !== void 0 ? chat.color.color : getColorFromPeerId(id5),
        type: "supergroup",
        title,
        isScam,
        isFake,
        isVerified,
        isRestricted,
        isForum: chat.forum || false
      };
    } else {
      const id6 = ZERO_CHANNEL_ID + -Number(chat.id);
      chat_ = {
        id: id6,
        color: telegram_exports.is("peerColor", chat.color) && chat.color.color !== void 0 ? chat.color.color : getColorFromPeerId(id6),
        type: "channel",
        title,
        isScam,
        isFake,
        isVerified,
        isRestricted
      };
    }
    chat_.username = chat.username ?? chat.usernames?.[0].username;
    chat_.also = chat.usernames?.map((v) => v.username).filter((v) => v !== chat_.username);
    if (telegram_exports.is("chatPhoto", chat.photo)) {
      chat_.photo = constructChatPhoto(chat.photo, id5, chat.access_hash ?? 0n);
    }
    if (chat_.isRestricted) {
      chat_.restrictionReason = (chat.restriction_reason ?? []).map(constructRestrictionReason);
    }
    return cleanObject(chat_);
  } else {
    unreachable();
  }
}
function isChatPUser(chatP) {
  return chatP.type === "private";
}

// types/1_document.ts
function constructDocument(document, fileNameAttribute, fileId, fileUniqueId) {
  return {
    fileId,
    fileUniqueId,
    thumbnails: document.thumbs ? document.thumbs.map((v) => telegram_exports.is("photoSize", v) ? constructThumbnail(v, document) : null).filter((v) => v) : [],
    fileName: fileNameAttribute.file_name,
    mimeType: document.mime_type,
    fileSize: Number(document.size)
  };
}

// types/1_giveaway.ts
function constructGiveaway(g) {
  const winnerCount = g.quantity;
  const premiumMonthCount = g.months;
  const starCount = g.stars;
  const parameters = constructGiveawayParameters(g);
  return cleanObject({ parameters, winnerCount, premiumMonthCount, starCount: starCount ? Number(starCount) : void 0 });
}

// types/1_inline_keyboard_button.ts
function constructInlineKeyboardButton(button_) {
  if (telegram_exports.is("keyboardButtonUrl", button_)) {
    return { text: button_.text, url: button_.url };
  } else if (telegram_exports.is("keyboardButtonCallback", button_)) {
    return { text: button_.text, callbackData: decodeText(button_.data) };
  } else if (telegram_exports.is("keyboardButtonWebView", button_) || telegram_exports.is("keyboardButtonSimpleWebView", button_)) {
    return { text: button_.text, miniApp: constructMiniAppButtonInfo(button_.url) };
  } else if (telegram_exports.is("keyboardButtonUrlAuth", button_)) {
    return { text: button_.text, loginUrl: { url: button_.url, forwardText: button_.fwd_text } };
  } else if (telegram_exports.is("keyboardButtonSwitchInline", button_)) {
    if (button_.same_peer) {
      return { text: button_.text, switchInlineQueryCurrentChat: button_.query };
    } else if (button_.peer_types && button_.peer_types.length) {
      const allowUsers = button_.peer_types.some((v) => v._ === "inlineQueryPeerTypeBotPM") || void 0;
      const allowBots = button_.peer_types.some((v) => v._ === "inlineQueryPeerTypeSameBotPM" || v._ === "inlineQueryPeerTypeBotPM") || void 0;
      const allowGroups = button_.peer_types.some((v) => v._ === "inlineQueryPeerTypeChat" || v._ === "inlineQueryPeerTypeMegagroup") || void 0;
      const allowChannels = button_.peer_types.some((v) => v._ === "inlineQueryPeerTypeBroadcast") || void 0;
      return cleanObject({ text: button_.text, switchInlineQueryChosenChats: { query: button_.query, allowUsers, allowBots, allowGroups, allowChannels } });
    } else {
      return { text: button_.text, switchInlineQuery: button_.query };
    }
  } else if (telegram_exports.is("keyboardButtonBuy", button_)) {
    return { text: button_.text, pay: true };
  } else if (telegram_exports.is("keyboardButtonGame", button_)) {
    return { text: button_.text, callbackGame: {} };
  } else if (telegram_exports.is("keyboardButtonCopy", button_)) {
    return { text: button_.text, copy: button_.copy_text };
  } else if (telegram_exports.is("keyboardButtonRequestPeer", button_)) {
    unreachable();
  } else {
    unreachable();
  }
}
async function inlineKeyboardButtonToTlObject(button, usernameResolver) {
  if ("url" in button) {
    return { _: "keyboardButtonUrl", text: button.text, url: button.url };
  } else if ("callbackData" in button) {
    return { _: "keyboardButtonCallback", text: button.text, data: encodeText(button.callbackData) };
  } else if ("miniApp" in button) {
    return { _: "keyboardButtonWebView", text: button.text, url: button.miniApp.url };
  } else if ("loginUrl" in button) {
    return { _: "inputKeyboardButtonUrlAuth", text: button.text, url: button.loginUrl.url, fwd_text: button.loginUrl.forwardText, bot: button.loginUrl.botUsername ? await usernameResolver(button.loginUrl.botUsername) : { _: "inputUserSelf" }, request_write_access: button.loginUrl.requestWriteAccess || void 0 };
  } else if ("switchInlineQuery" in button) {
    return { _: "keyboardButtonSwitchInline", text: button.text, query: button.switchInlineQuery };
  } else if ("switchInlineQueryCurrentChat" in button) {
    return { _: "keyboardButtonSwitchInline", text: button.text, query: button.switchInlineQueryCurrentChat, same_peer: true };
  } else if ("switchInlineQueryChosenChats" in button) {
    const peerTypes = new Array();
    const { allowUsers, allowBots, allowGroups, allowChannels } = button.switchInlineQueryChosenChats;
    if (!allowUsers && !allowBots && !allowGroups && !allowChannels) {
      throw new InputError("switchInlineQueryChosenChats: At least one chat type must be allowed.");
    }
    if (allowUsers) {
      peerTypes.push({ _: "inlineQueryPeerTypeBotPM" });
    }
    if (allowBots) {
      peerTypes.push({ _: "inlineQueryPeerTypeSameBotPM" }, { _: "inlineQueryPeerTypeBotPM" });
    }
    if (allowGroups) {
      peerTypes.push({ _: "inlineQueryPeerTypeChat" }, { _: "inlineQueryPeerTypeMegagroup" });
    }
    if (allowChannels) {
      peerTypes.push({ _: "inlineQueryPeerTypeBroadcast" });
    }
    return { _: "keyboardButtonSwitchInline", text: button.text, query: button.switchInlineQueryChosenChats.query, peer_types: peerTypes };
  } else if ("pay" in button) {
    return { _: "keyboardButtonBuy", text: button.text };
  } else if ("copy" in button) {
    return { _: "keyboardButtonCopy", text: button.text, copy_text: button.copy };
  } else {
    unreachable();
  }
}

// types/1_keyboard_button.ts
function constructKeyboardButton(button_) {
  if (telegram_exports.is("keyboardButton", button_)) {
    return { text: button_.text };
  } else if (telegram_exports.is("keyboardButtonRequestPeer", button_)) {
    if (telegram_exports.is("requestPeerTypeUser", button_.peer_type)) {
      return {
        text: button_.text,
        requestUser: {
          requestId: button_.button_id,
          userIsBot: button_.peer_type.bot || false,
          userIsPremium: button_.peer_type.premium || false
        }
      };
    } else if (telegram_exports.is("requestPeerTypeChat", button_.peer_type)) {
      const button = {
        text: button_.text,
        requestChat: {
          requestId: button_.button_id,
          chatIsChannel: false,
          chatIsForum: button_.peer_type.forum || false,
          chatHasUsername: button_.peer_type.has_username || false,
          chatIsCreated: button_.peer_type.creator || false,
          botIsMember: button_.peer_type.bot_participant || false
        }
      };
      if (button_.peer_type.bot_admin_rights) {
        button.requestChat.botAdministratorRights = constructChatAdministratorRights(button_.peer_type.bot_admin_rights);
      }
      if (button_.peer_type.user_admin_rights) {
        button.requestChat.userAdministratorRights = constructChatAdministratorRights(button_.peer_type.user_admin_rights);
      }
      return button;
    } else if (telegram_exports.is("requestPeerTypeBroadcast", button_.peer_type)) {
      const button = {
        text: button_.text,
        requestChat: {
          requestId: button_.button_id,
          chatIsChannel: true,
          chatIsCreated: button_.peer_type.creator || false,
          chatHasUsername: button_.peer_type.has_username || false
        }
      };
      if (button_.peer_type.bot_admin_rights) {
        button.requestChat.botAdministratorRights = constructChatAdministratorRights(button_.peer_type.bot_admin_rights);
      }
      if (button_.peer_type.user_admin_rights) {
        button.requestChat.userAdministratorRights = constructChatAdministratorRights(button_.peer_type.user_admin_rights);
      }
      return button;
    } else {
      unreachable();
    }
  } else if (telegram_exports.is("keyboardButtonRequestPhone", button_)) {
    return { text: button_.text, requestContact: true };
  } else if (telegram_exports.is("keyboardButtonRequestGeoLocation", button_)) {
    return { text: button_.text, requestLocation: true };
  } else if (telegram_exports.is("keyboardButtonRequestPoll", button_)) {
    const button = { text: button_.text, requestPoll: {} };
    if (button_.quiz) {
      button.requestPoll.type = "quiz";
    }
    return button;
  } else if (telegram_exports.is("keyboardButtonWebView", button_) || telegram_exports.is("keyboardButtonSimpleWebView", button_)) {
    return { text: button_.text, miniApp: { url: button_.url } };
  } else {
    unreachable();
  }
}
function keyboardButtonToTlObject(button) {
  if ("requestUser" in button) {
    return { _: "keyboardButtonRequestPeer", text: button.text, button_id: button.requestUser.requestId, peer_type: { _: "requestPeerTypeUser", bot: button.requestUser.userIsBot, premium: button.requestUser.userIsPremium }, max_quantity: 1 };
  } else if ("requestChat" in button) {
    if (!button.requestChat.chatIsChannel) {
      return { _: "keyboardButtonRequestPeer", text: button.text, button_id: button.requestChat.requestId, peer_type: { _: "requestPeerTypeChat", forum: button.requestChat.chatIsForum, has_username: button.requestChat.chatHasUsername, creator: button.requestChat.chatIsCreated || void 0, bot_participant: button.requestChat.botIsMember || void 0, bot_admin_rights: button.requestChat.botAdministratorRights ? chatAdministratorRightsToTlObject(button.requestChat.botAdministratorRights) : void 0, user_admin_rights: button.requestChat.userAdministratorRights ? chatAdministratorRightsToTlObject(button.requestChat.userAdministratorRights) : void 0 }, max_quantity: 1 };
    } else {
      return { _: "keyboardButtonRequestPeer", text: button.text, button_id: button.requestChat.requestId, peer_type: { _: "requestPeerTypeBroadcast", has_username: button.requestChat.chatHasUsername, creator: button.requestChat.chatIsCreated || void 0, bot_admin_rights: button.requestChat.botAdministratorRights ? chatAdministratorRightsToTlObject(button.requestChat.botAdministratorRights) : void 0, user_admin_rights: button.requestChat.userAdministratorRights ? chatAdministratorRightsToTlObject(button.requestChat.userAdministratorRights) : void 0 }, max_quantity: 1 };
    }
  } else if ("requestContact" in button) {
    return { _: "keyboardButtonRequestPhone", text: button.text };
  } else if ("requestLocation" in button) {
    return { _: "keyboardButtonRequestGeoLocation", text: button.text };
  } else if ("requestPoll" in button) {
    return { _: "keyboardButtonRequestPoll", text: button.text, quiz: button.requestPoll.type === "quiz" };
  } else if ("miniApp" in button) {
    return { _: "keyboardButtonWebView", text: button.text, url: button.miniApp.url };
  } else {
    return { _: "keyboardButton", text: button.text };
  }
}

// types/1_message_reaction.ts
function constructMessageReaction(reaction_, recentReactions) {
  const choosers = recentReactions.filter((v) => {
    if (telegram_exports.is("reactionEmoji", reaction_.reaction)) {
      return telegram_exports.is("reactionEmoji", v.reaction) && v.reaction.emoticon === reaction_.reaction.emoticon;
    } else if (telegram_exports.is("reactionCustomEmoji", reaction_.reaction)) {
      return telegram_exports.is("reactionCustomEmoji", v.reaction) && v.reaction.document_id === reaction_.reaction.document_id;
    } else {
      unreachable();
    }
  }).map((v) => telegram_exports.peerToChatId(v.peer_id));
  const reaction = constructReaction(reaction_.reaction);
  const count = reaction_.count;
  const chosen = reaction_.chosen_order !== void 0 ? true : false;
  return { reaction, count, choosers, chosen };
}

// types/1_mini_app_info.ts
function constructMiniAppInfo(result) {
  return cleanObject({
    url: result.url,
    mode: result.fullscreen ? "fullscreen" : result.fullsize ? "default" : "compact",
    queryId: result.query_id ? String(result.query_id) : void 0
  });
}

// types/1_order_info.ts
function constructOrderInfo(info) {
  return cleanObject({
    name: info.name,
    phoneNumber: info.phone,
    email: info.email,
    shippingAddress: info.shipping_address ? constructShippingAddress(info.shipping_address) : void 0
  });
}

// types/1_photo.ts
function constructPhoto(photo) {
  const { sizes, largest } = getPhotoSizes(photo);
  return {
    ...getPhotoFileId(photo),
    width: largest.w,
    height: largest.h,
    fileSize: largest.size,
    thumbnails: sizes.slice(0, -1).map((v) => constructThumbnail(v, photo))
  };
}
function getPhotoSizes(photo) {
  const sizes = photo.sizes.map((v) => {
    if (telegram_exports.is("photoSizeProgressive", v)) {
      return { _: "photoSize", type: v.type, w: v.w, h: v.h, size: Math.max(...v.sizes) };
    } else {
      return v;
    }
  }).filter((v) => telegram_exports.is("photoSize", v)).sort((a, b) => a.size - b.size);
  const largest = sizes.slice(-1)[0];
  return { sizes, largest };
}

// types/1_reaction_count.ts
function constructReactionCount(reaction_) {
  const reaction = constructReaction(reaction_.reaction);
  const count = reaction_.count;
  return { reaction, count };
}

// types/1_sticker.ts
async function constructSticker(document, fileId, fileUniqueId, getStickerSetName, customEmojiId = "") {
  const stickerAttribute = document.attributes.find((v) => telegram_exports.is("documentAttributeSticker", v));
  const setName = telegram_exports.is("inputStickerSetID", stickerAttribute?.stickerset) ? await getStickerSetName(stickerAttribute.stickerset) : void 0;
  return constructSticker2(document, fileId, fileUniqueId, setName, customEmojiId);
}
function constructSticker2(document, fileId, fileUniqueId, setName, customEmojiId = "") {
  const stickerAttribute = document.attributes.find((v) => telegram_exports.is("documentAttributeSticker", v));
  const imageSizeAttribute = document.attributes.find((v) => telegram_exports.is("documentAttributeImageSize", v));
  const customEmojiAttribute = document.attributes.find((v) => telegram_exports.is("documentAttributeCustomEmoji", v));
  const videoAttribute = document.attributes.find((v) => telegram_exports.is("documentAttributeVideo", v));
  return cleanObject({
    fileId,
    fileUniqueId,
    type: customEmojiAttribute ? "customEmoji" : stickerAttribute.mask ? "mask" : "regular",
    width: imageSizeAttribute ? imageSizeAttribute.w : videoAttribute ? videoAttribute.w : 512,
    height: imageSizeAttribute ? imageSizeAttribute.h : videoAttribute ? videoAttribute.h : 512,
    isAnimated: document.mime_type === "application/x-tgsticker",
    isVideo: document.mime_type === "video/webm",
    thumbnails: document.thumbs ? document.thumbs.map((v) => telegram_exports.is("photoSize", v) ? constructThumbnail(v, document) : null).filter((v) => v) : [],
    emoji: (customEmojiAttribute ? customEmojiAttribute.alt : stickerAttribute.alt) || void 0,
    setName,
    premiumAnimation: void 0,
    maskPosition: stickerAttribute ? stickerAttribute.mask_coords ? constructMaskPosition(stickerAttribute.mask_coords) : void 0 : void 0,
    customEmojiId: customEmojiAttribute ? customEmojiId : void 0,
    needsRepainting: customEmojiAttribute ? Boolean(customEmojiAttribute.text_color) : void 0,
    fileSize: Number(document.size)
  });
}

// types/1_story_reaction.ts
function constructStoryReaction(reaction_) {
  const reaction = constructReaction(reaction_.reaction);
  const count = reaction_.count;
  const chosen = reaction_.chosen_order !== void 0 ? true : false;
  return { reaction, count, isChosen: chosen };
}

// types/1_venue.ts
function constructVenue(media_) {
  const geo = telegram_exports.as("geoPoint", media_.geo);
  return {
    location: constructLocation(geo),
    title: media_.title,
    address: media_.address,
    foursquareId: media_.venue_id,
    foursquareType: media_.venue_type
  };
}

// types/1_video_note.ts
function constructVideoNote(document, videoAttribute, fileId, fileUniqueId) {
  return {
    fileId,
    fileUniqueId,
    length: videoAttribute.w,
    duration: videoAttribute.duration,
    thumbnails: document.thumbs ? document.thumbs.map((v) => telegram_exports.is("photoSize", v) ? constructThumbnail(v, document) : null).filter((v) => v) : [],
    fileSize: Number(document.size)
  };
}

// types/1_video.ts
function constructVideo(document, videoAttribute, fileName, fileId, fileUniqueId) {
  return {
    fileId,
    fileUniqueId,
    width: videoAttribute.w,
    height: videoAttribute.h,
    duration: videoAttribute.duration,
    thumbnails: document.thumbs ? document.thumbs.map((v) => telegram_exports.is("photoSize", v) ? constructThumbnail(v, document) : null).filter((v) => v) : [],
    fileName,
    mimeType: document.mime_type,
    fileSize: Number(document.size)
  };
}

// types/2_chat_member.ts
function constructChatMember(member, participant, getPeer2) {
  const peer = "user_id" in participant ? getPeer2({ ...participant, _: "peerUser" }) : "peer" in participant ? Array.isArray(participant.peer) ? participant.peer : telegram_exports.is("peerUser", participant.peer) ? getPeer2(participant.peer) : unreachable() : unreachable();
  if (peer === null || peer[0].type !== "private")
    unreachable();
  if (telegram_exports.is("channelParticipant", participant) || telegram_exports.is("chatParticipant", participant)) {
    return {
      status: "member",
      member
    };
  } else if (telegram_exports.is("channelParticipantCreator", participant)) {
    return cleanObject({
      status: "creator",
      member,
      isAnonymous: participant.admin_rights.anonymous ? true : false,
      title: participant.rank
    });
  } else if (telegram_exports.is("channelParticipantAdmin", participant)) {
    return cleanObject({
      status: "administrator",
      member,
      rights: constructChatAdministratorRights(participant.admin_rights),
      title: participant.rank
    });
  } else if (telegram_exports.is("channelParticipantBanned", participant)) {
    const until = participant.banned_rights.until_date ? participant.banned_rights.until_date : void 0;
    if (!participant.banned_rights.view_messages) {
      participant.peer;
      return cleanObject({
        status: "banned",
        member,
        until
      });
    }
    const isMember = participant.left ? true : false;
    const rights = constructChatMemberRights(participant.banned_rights);
    return cleanObject({
      status: "restricted",
      member,
      isMember,
      rights,
      until
    });
  } else if (telegram_exports.is("channelParticipantSelf", participant)) {
    const until = participant.subscription_until_date ? participant.subscription_until_date : void 0;
    return cleanObject({
      status: "member",
      member,
      until
    });
  } else if (telegram_exports.is("channelParticipantLeft", participant)) {
    return { status: "left", member };
  } else if (telegram_exports.is("chatParticipantAdmin", participant)) {
    return cleanObject({
      status: "administrator",
      member,
      rights: {
        isAnonymous: false,
        canManageChat: true,
        canDeleteMessages: true,
        canManageVideoChats: false,
        canRestrictMembers: true,
        canPromoteMembers: false,
        canChangeInfo: true,
        canInviteUsers: true,
        canPostMessages: false,
        canEditMessages: false,
        canPinMessages: true,
        canManageTopics: false,
        canDeleteStories: false,
        canEditStories: false,
        canManageDirectMessages: false,
        canPostStories: false
      }
    });
  } else if (telegram_exports.is("chatParticipantCreator", participant)) {
    return cleanObject({
      status: "creator",
      member,
      isAnonymous: false
    });
  } else {
    unreachable();
  }
}

// types/2_chat.ts
function constructChat(fullChat, getPeer2) {
  if (telegram_exports.is("userFull", fullChat)) {
    const peer = getPeer2({ _: "peerUser", user_id: fullChat.id });
    if (!peer)
      unreachable();
    return cleanObject({
      ...peer[0],
      birthday: fullChat.birthday ? constructBirthday(fullChat.birthday) : void 0,
      photo: fullChat.profile_photo && telegram_exports.is("photo", fullChat.profile_photo) ? constructPhoto(fullChat.profile_photo) : void 0,
      address: fullChat.business_location?.address,
      location: fullChat.business_location?.geo_point && telegram_exports.is("geoPoint", fullChat.business_location.geo_point) ? constructLocation(fullChat.business_location.geo_point) : void 0,
      openingHours: fullChat.business_work_hours ? constructOpeningHours(fullChat.business_work_hours) : void 0
    });
  } else if (telegram_exports.is("chatFull", fullChat)) {
    const peer = getPeer2({ _: "peerChat", chat_id: fullChat.id });
    if (peer === null)
      unreachable();
    return cleanObject({
      ...peer[0],
      photo: fullChat.chat_photo && telegram_exports.is("photo", fullChat.chat_photo) ? constructPhoto(fullChat.chat_photo) : void 0,
      videoChatId: telegram_exports.is("inputGroupCall", fullChat.call) ? String(fullChat.call.id) : void 0
    });
  } else if (telegram_exports.is("channelFull", fullChat)) {
    const peer = getPeer2({ _: "peerChannel", channel_id: fullChat.id });
    if (peer === null)
      unreachable();
    return cleanObject({
      ...peer[0],
      photo: fullChat.chat_photo && telegram_exports.is("photo", fullChat.chat_photo) ? constructPhoto(fullChat.chat_photo) : void 0,
      videoChatId: telegram_exports.is("inputGroupCall", fullChat.call) ? String(fullChat.call.id) : void 0
    });
  }
  unreachable();
}

// types/2_inactive_chat.ts
function constructInactiveChat(chat_, lastActivity) {
  if (telegram_exports.is("chatEmpty", chat_)) {
    unreachable();
  }
  const chat = constructChatP(chat_);
  return {
    lastActivity,
    chat
  };
}

// types/2_message_entity.ts
function constructMessageEntity(obj) {
  if (telegram_exports.is("messageEntityMention", obj)) {
    return { type: "mention", offset: obj.offset, length: obj.length };
  } else if (telegram_exports.is("messageEntityHashtag", obj)) {
    return { type: "hashtag", offset: obj.offset, length: obj.length };
  } else if (telegram_exports.is("messageEntityBotCommand", obj)) {
    return { type: "botCommand", offset: obj.offset ?? 0, length: obj.length };
  } else if (telegram_exports.is("messageEntityUrl", obj)) {
    return { type: "url", offset: obj.offset, length: obj.length };
  } else if (telegram_exports.is("messageEntityEmail", obj)) {
    return { type: "email", offset: obj.offset, length: obj.length };
  } else if (telegram_exports.is("messageEntityBold", obj)) {
    return { type: "bold", offset: obj.offset, length: obj.length };
  } else if (telegram_exports.is("messageEntityItalic", obj)) {
    return { type: "italic", offset: obj.offset, length: obj.length };
  } else if (telegram_exports.is("messageEntityCode", obj)) {
    return { type: "code", offset: obj.offset, length: obj.length };
  } else if (telegram_exports.is("messageEntityPre", obj)) {
    return { type: "pre", offset: obj.offset, length: obj.length, language: obj.language };
  } else if (telegram_exports.is("messageEntityTextUrl", obj)) {
    return { type: "textLink", offset: obj.offset, length: obj.length, url: obj.url };
  } else if (telegram_exports.is("messageEntityMentionName", obj)) {
    return { type: "textMention", offset: obj.offset, length: obj.length, userId: Number(obj.user_id) };
  } else if (telegram_exports.is("messageEntityCashtag", obj)) {
    return { type: "cashtag", offset: obj.offset, length: obj.length };
  } else if (telegram_exports.is("messageEntityPhone", obj)) {
    return { type: "phoneNumber", offset: obj.offset, length: obj.length };
  } else if (telegram_exports.is("messageEntityUnderline", obj)) {
    return { type: "underline", offset: obj.offset, length: obj.length };
  } else if (telegram_exports.is("messageEntityStrike", obj)) {
    return { type: "strikethrough", offset: obj.offset, length: obj.length };
  } else if (telegram_exports.is("messageEntityBlockquote", obj)) {
    return cleanObject({ type: "blockquote", offset: obj.offset, length: obj.length, collapsible: obj.collapsed ? true : void 0 });
  } else if (telegram_exports.is("messageEntityBankCard", obj)) {
    return { type: "bankCard", offset: obj.offset, length: obj.length };
  } else if (telegram_exports.is("messageEntitySpoiler", obj)) {
    return { type: "spoiler", offset: obj.offset, length: obj.length };
  } else if (telegram_exports.is("messageEntityCustomEmoji", obj)) {
    return { type: "customEmoji", offset: obj.offset, length: obj.length, customEmojiId: String(obj.document_id) };
  } else {
    return null;
  }
}
function messageEntityToTlObject(entity, getPeer2) {
  const { offset, length } = entity;
  switch (entity.type) {
    case "mention":
      return { _: "messageEntityMention", offset, length };
    case "hashtag":
      return { _: "messageEntityHashtag", offset, length };
    case "botCommand":
      return { _: "messageEntityBotCommand", offset, length };
    case "url":
      return { _: "messageEntityUrl", offset, length };
    case "email":
      return { _: "messageEntityEmail", offset, length };
    case "bold":
      return { _: "messageEntityBold", offset, length };
    case "italic":
      return { _: "messageEntityItalic", offset, length };
    case "code":
      return { _: "messageEntityCode", offset, length };
    case "pre":
      return { _: "messageEntityPre", offset, length, language: entity.language };
    case "textLink": {
      try {
        const url = new URL(entity.url);
        if (url.protocol === "tg:" && url.hostname === "user" && (url.pathname === "/" || url.pathname === "")) {
          const id5 = Number(url.searchParams.get("id"));
          if (!isNaN(id5)) {
            const peer = getPeer2({ _: "peerUser", user_id: BigInt(id5) });
            if (!peer) {
              unreachable();
            }
            return { _: "inputMessageEntityMentionName", offset, length, user_id: { _: "inputUser", user_id: BigInt(peer[0].id), access_hash: peer[1] } };
          }
        }
      } catch {
      }
      return { _: "messageEntityTextUrl", offset, length, url: entity.url };
    }
    case "textMention": {
      const peer = getPeer2({ _: "peerUser", user_id: BigInt(entity.userId) });
      if (!peer) {
        unreachable();
      }
      return { _: "inputMessageEntityMentionName", offset, length, user_id: { _: "inputUser", user_id: BigInt(peer[0].id), access_hash: peer[1] } };
    }
    case "cashtag":
      return { _: "messageEntityCashtag", offset, length };
    case "phoneNumber":
      return { _: "messageEntityPhone", offset, length };
    case "underline":
      return { _: "messageEntityUnderline", offset, length };
    case "strikethrough":
      return { _: "messageEntityStrike", offset, length };
    case "blockquote":
      return { _: "messageEntityBlockquote", offset, length, collapsed: entity.collapsible };
    case "bankCard":
      return { _: "messageEntityBankCard", offset, length };
    case "spoiler":
      return { _: "messageEntitySpoiler", offset, length };
    case "customEmoji":
      return { _: "messageEntityCustomEmoji", offset, length, document_id: BigInt(entity.customEmojiId) };
  }
}
var priorities = {
  "mention": 50,
  "hashtag": 50,
  "botCommand": 50,
  "url": 50,
  "email": 50,
  "bold": 90,
  "italic": 91,
  "code": 20,
  "pre": 11,
  "textLink": 49,
  "textMention": 49,
  "cashtag": 50,
  "phoneNumber": 50,
  "underline": 92,
  "strikethrough": 93,
  "blockquote": 0,
  "bankCard": 50,
  "spoiler": 94,
  "customEmoji": 99
};
function sortMessageEntities(entities) {
  return entities.sort(({ offset, type, length }, other) => {
    if (offset !== other.offset) {
      return offset < other.offset ? -1 : 1;
    }
    if (length !== other.length) {
      return length > other.length ? -1 : 1;
    }
    const priority = priorities[type];
    const otherPriority = priorities[other.type];
    return priority < otherPriority ? -1 : 1;
  });
}

// types/2_message_reaction_count.ts
function constructMessageReactionCount(update, getPeer2) {
  const date = update.date;
  const reactions = update.reactions.map((v) => constructReactionCount(v));
  const peer = getPeer2(update.peer);
  if (peer) {
    const messageId = update.msg_id;
    const messageReactionCount = { chat: peer[0], messageId, date, reactions };
    return messageReactionCount;
  } else {
    return null;
  }
}

// types/2_message_reaction_list_item.ts
function constructMessageReactionListItem(messagePeerReaction, list) {
  let chat_;
  const peerId = messagePeerReaction.peer_id;
  if (telegram_exports.is("peerChannel", peerId)) {
    chat_ = list.chats.find((v) => v.id === peerId.channel_id);
  } else if (telegram_exports.is("peerUser", peerId)) {
    chat_ = list.users.find((v) => v.id === peerId.user_id);
  } else {
    unreachable();
  }
  const chat = constructChatP(chat_);
  const date = messagePeerReaction.date;
  const reaction = constructReaction(messagePeerReaction.reaction);
  const big = !!messagePeerReaction.big;
  const isCreator = !!messagePeerReaction.my;
  const unread = !!messagePeerReaction.unread;
  return {
    chat,
    date,
    reaction,
    big,
    isCreator,
    unread
  };
}

// types/2_poll_answer.ts
function constructPollAnswer(update, getPeer2) {
  const pollId = String(update.poll_id);
  const peer = getPeer2(update.peer);
  if (!peer) {
    unreachable();
  }
  const from = peer[0];
  const optionIndexes = update.options.map((v) => Number(decodeText(v)));
  return {
    pollId,
    from,
    optionIndexes
  };
}

// types/2_reply_markup.ts
function constructInlineKeyboardMarkup(keyboard_) {
  const rows = new Array();
  for (const row_ of keyboard_.rows) {
    const row = new Array();
    for (const button_ of row_.buttons) {
      row.push(constructInlineKeyboardButton(button_));
    }
    rows.push(row);
  }
  return { inlineKeyboard: rows };
}
async function inlineKeyboardMarkupToTlObject(keyboard, usernameResolver) {
  const rows_ = new Array();
  for (const row of keyboard.inlineKeyboard) {
    const row_ = new Array();
    for (const button of row) {
      row_.push(await inlineKeyboardButtonToTlObject(button, usernameResolver));
    }
    rows_.push({ _: "keyboardButtonRow", buttons: row_ });
  }
  return { _: "replyInlineMarkup", rows: rows_ };
}
function constructReplyKeyboardMarkup(keyboard_) {
  const rows = new Array();
  for (const row_ of keyboard_.rows) {
    const row = new Array();
    for (const button_ of row_.buttons) {
      row.push(constructKeyboardButton(button_));
    }
    rows.push(row);
  }
  return {
    resizeKeyboard: keyboard_.resize || false,
    oneTimeKeyboard: keyboard_.single_use || false,
    selective: keyboard_.selective || false,
    isPersistent: keyboard_.persistent || false,
    keyboard: rows
  };
}
function replyKeyboardMarkupToTlObject(replyMarkup) {
  const rows_ = new Array();
  for (const row of replyMarkup.keyboard) {
    const row_ = new Array();
    for (const button of row) {
      row_.push(keyboardButtonToTlObject(button));
    }
    rows_.push({ _: "keyboardButtonRow", buttons: row_ });
  }
  return { _: "replyKeyboardMarkup", resize: replyMarkup.resizeKeyboard || void 0, single_use: replyMarkup.oneTimeKeyboard || void 0, selective: replyMarkup.selective || void 0, persistent: replyMarkup.isPersistent || void 0, rows: rows_, placeholder: replyMarkup.inputFieldPlaceholder };
}
function constructReplyKeyboardRemove(replyMarkup_) {
  return cleanObject({ removeKeyboard: true, selective: replyMarkup_.selective });
}
function replyKeyboardRemoveToTlObject(replyMarkup) {
  return { _: "replyKeyboardHide", selective: replyMarkup.selective || void 0 };
}
function constructForceReply(replyMarkup_) {
  const replyMarkup = { forceReply: true };
  if (replyMarkup_.placeholder) {
    replyMarkup.inputFieldPlaceholder = replyMarkup_.placeholder;
  }
  if (replyMarkup_.selective) {
    replyMarkup.selective = true;
  }
  return replyMarkup;
}
function forceReplyToTlObject(replyMarkup) {
  return { _: "replyKeyboardForceReply", selective: replyMarkup.selective || void 0, placeholder: replyMarkup.inputFieldPlaceholder };
}
function constructReplyMarkup(replyMarkup) {
  if (telegram_exports.is("replyKeyboardMarkup", replyMarkup)) {
    return constructReplyKeyboardMarkup(replyMarkup);
  } else if (telegram_exports.is("replyInlineMarkup", replyMarkup)) {
    return constructInlineKeyboardMarkup(replyMarkup);
  } else if (telegram_exports.is("replyKeyboardHide", replyMarkup)) {
    return constructReplyKeyboardRemove(replyMarkup);
  } else if (telegram_exports.is("replyKeyboardForceReply", replyMarkup)) {
    return constructForceReply(replyMarkup);
  } else {
    unreachable();
  }
}
async function replyMarkupToTlObject(replyMarkup, usernameResolver) {
  if ("inlineKeyboard" in replyMarkup) {
    return await inlineKeyboardMarkupToTlObject(replyMarkup, usernameResolver);
  } else if ("keyboard" in replyMarkup) {
    return replyKeyboardMarkupToTlObject(replyMarkup);
  } else if ("removeKeyboard" in replyMarkup) {
    return replyKeyboardRemoveToTlObject(replyMarkup);
  } else if ("forceReply" in replyMarkup) {
    return forceReplyToTlObject(replyMarkup);
  } else {
    unreachable();
  }
}

// types/2_sticker_set.ts
function constructStickerSet(stickerSet) {
  if (!telegram_exports.is("messages.stickerSet", stickerSet)) {
    unreachable();
  }
  const type = stickerSet.set.emojis ? "customEmoji" : stickerSet.set.masks ? "mask" : "regular";
  const name = stickerSet.set.short_name;
  const title = stickerSet.set.title;
  const stickers = stickerSet.documents.map((v) => {
    if (!telegram_exports.is("document", v)) {
      unreachable();
    }
    const fileId = {
      type: FileType.Sticker,
      dcId: v.dc_id,
      fileReference: v.file_reference,
      location: { type: "common", id: v.id, accessHash: v.access_hash }
    };
    return constructSticker2(v, serializeFileId(fileId), toUniqueFileId(fileId), name);
  });
  const thumbnails = new Array();
  const thumb = stickerSet.set.thumbs?.[0];
  if (thumb !== void 0 && stickerSet.set.thumb_version !== void 0 && stickerSet.set.thumb_dc_id !== void 0 && telegram_exports.is("photoSize", thumb)) {
    const fileId = {
      type: FileType.Photo,
      dcId: stickerSet.set.thumb_dc_id,
      location: {
        type: "photo",
        source: {
          type: PhotoSourceType.StickerSetThumbnailVersion,
          stickerSetId: stickerSet.set.id,
          stickerSetAccessHash: stickerSet.set.access_hash,
          version: stickerSet.set.thumb_version
        },
        id: 0n,
        accessHash: 0n
      }
    };
    thumbnails.push({
      fileId: serializeFileId(fileId),
      fileUniqueId: toUniqueFileId(fileId),
      width: thumb.w,
      height: thumb.h,
      fileSize: thumb.size
    });
  }
  const adaptive = !!stickerSet.set.text_color;
  const canSetAsChannelStatus = !!stickerSet.set.channel_emoji_status;
  const creator = !!stickerSet.set.creator;
  const official = !!stickerSet.set.official;
  const archived = !!stickerSet.set.archived;
  const stickerSet_ = {
    id: String(stickerSet.set.id),
    type,
    name,
    title,
    stickers,
    thumbnails,
    isAdaptive: adaptive,
    canSetAsChannelStatus,
    isCreator: creator,
    isOfficial: official,
    isArchived: archived
  };
  if (stickerSet.set.installed_date) {
    stickerSet_.addedAt = stickerSet.set.installed_date;
  }
  return stickerSet_;
}

// types/2_story_content.ts
function constructStoryContent(media) {
  if (telegram_exports.is("messageMediaPhoto", media)) {
    if (!media.photo) {
      unreachable();
    }
    const photo = constructPhoto(telegram_exports.as("photo", media.photo));
    return { photo };
  } else if (telegram_exports.is("messageMediaDocument", media)) {
    const document = media.document;
    if (!telegram_exports.is("document", document)) {
      unreachable();
    }
    const video = document.attributes.find((v) => telegram_exports.is("documentAttributeVideo", v));
    if (!video) {
      unreachable();
    }
    const fileId_ = { type: FileType.Video, dcId: document.dc_id, fileReference: document.file_reference, location: { type: "common", id: document.id, accessHash: document.access_hash } };
    const fileUniqueId = toUniqueFileId(fileId_);
    const fileId = serializeFileId(fileId_);
    const video_ = constructVideo(document, video, void 0, fileId, fileUniqueId);
    return { video: video_ };
  } else {
    unreachable();
  }
}

// types/2_story_interactions.ts
function constructStoryInteractions(views_) {
  const views = views_.views_count;
  const forwards = views_.forwards_count ?? 0;
  const reactionCount = views_.reactions_count;
  const reactions = views_.reactions ? views_.reactions.map(constructStoryReaction) : void 0;
  return cleanObject({ reactions, reactionCount, views, forwards });
}

// types/2_story_interactive_area.ts
function constructStoryInteractiveAreaPosition(position) {
  return {
    xPercentage: position.x,
    yPercentage: position.y,
    widthPercentage: position.w,
    heightPercentage: position.h,
    rotationAngle: position.rotation
  };
}
function constructStoryInteractiveArea(area) {
  const position = constructStoryInteractiveAreaPosition(area.coordinates);
  if (telegram_exports.is("mediaAreaGeoPoint", area)) {
    if (telegram_exports.is("geoPointEmpty", area.geo)) {
      unreachable();
    }
    const location2 = constructLocation(area.geo);
    return { position, location: location2 };
  } else if (telegram_exports.is("mediaAreaVenue", area)) {
    const venue = constructVenue(area);
    return { position, venue };
  } else if (telegram_exports.is("mediaAreaSuggestedReaction", area)) {
    const reaction = constructReaction(area.reaction);
    return {
      position,
      reaction,
      count: 0,
      isFlipped: area.flipped ? true : false,
      isDark: area.dark ? true : false
    };
  } else if (telegram_exports.is("mediaAreaChannelPost", area)) {
    return {
      position,
      messageReference: {
        chatId: telegram_exports.peerToChatId(area),
        messageId: area.msg_id
      }
    };
  } else {
    unreachable();
  }
}
function storyInteractiveAreaPositionToTlObject(position) {
  return { _: "mediaAreaCoordinates", x: position.xPercentage, y: position.yPercentage, w: position.widthPercentage, h: position.heightPercentage, rotation: position.rotationAngle };
}
function storyInteractiveAreaToTlObject(area, getPeer2) {
  const coordinates = storyInteractiveAreaPositionToTlObject(area.position);
  if ("location" in area) {
    const geo = { _: "geoPoint", lat: area.location.latitude, long: area.location.longitude, access_hash: 0n, accuracy_radius: area.location.horizontalAccuracy };
    return { _: "mediaAreaGeoPoint", coordinates, geo };
  } else if ("venue" in area) {
    const geo = { _: "geoPoint", lat: area.venue.location.latitude, long: area.venue.location.longitude, access_hash: 0n, accuracy_radius: area.venue.location.horizontalAccuracy };
    return {
      _: "mediaAreaVenue",
      coordinates,
      geo,
      address: area.venue.address,
      provider: "foursquare",
      title: area.venue.title,
      venue_id: area.venue.foursquareId || "",
      venue_type: area.venue.foursquareType || ""
    };
  } else if ("reaction" in area) {
    const reaction = reactionToTlObject(area.reaction);
    return { _: "mediaAreaSuggestedReaction", coordinates, reaction, dark: area.isDark ? true : void 0, flipped: area.isFlipped ? true : void 0 };
  } else if ("messageReference" in area) {
    const peer = getPeer2(telegram_exports.chatIdToPeer(area.messageReference.chatId));
    if (!peer || peer[0].type !== "channel") {
      unreachable();
    }
    const channel = { _: "inputChannel", channel_id: chatIdToPeerId(peer[0].id), access_hash: peer[1] };
    return { _: "inputMediaAreaChannelPost", coordinates, channel, msg_id: area.messageReference.messageId };
  } else {
    unreachable();
  }
}

// types/2_story_privacy.ts
function resolveUsers(ids, getPeer2) {
  const users = new Array();
  for (const id5 of ids) {
    const peer = getPeer2({ _: "peerUser", user_id: BigInt(id5) });
    if (!peer) {
      unreachable();
    } else {
      users.push({ _: "inputUser", user_id: BigInt(peer[0].id), access_hash: peer[1] });
    }
  }
  return users;
}
function restrict(users_, rules, getPeer2) {
  if (users_.length) {
    const users = resolveUsers(users_, getPeer2);
    rules.push({ _: "inputPrivacyValueDisallowUsers", users });
  }
}
function storyPrivacyToTlObject(privacy, getPeer2) {
  const rules = new Array();
  if ("everyoneExcept" in privacy) {
    restrict(privacy.everyoneExcept, rules, getPeer2);
    rules.push({ _: "inputPrivacyValueAllowAll" });
  } else if ("contactsExcept" in privacy) {
    restrict(privacy.contactsExcept, rules, getPeer2);
    rules.push({ _: "inputPrivacyValueAllowContacts" });
  } else if ("closeFriends" in privacy) {
    rules.push({ _: "inputPrivacyValueAllowCloseFriends" });
  } else if ("only" in privacy) {
    if (!privacy.only.length) {
      unreachable();
    }
    const users = resolveUsers(privacy.only, getPeer2);
    rules.push({ _: "inputPrivacyValueAllowUsers", users });
  }
  return rules;
}
function constructStoryPrivacy(privacy) {
  const except = privacy.find((v) => telegram_exports.is("privacyValueDisallowUsers", v))?.users?.map(Number) ?? [];
  if (privacy.some((v) => telegram_exports.is("privacyValueAllowAll", v))) {
    return { everyoneExcept: except };
  } else if (privacy.some((v) => telegram_exports.is("privacyValueAllowContacts", v))) {
    return { contactsExcept: except };
  } else if (privacy.some((v) => telegram_exports.is("privacyValueAllowCloseFriends", v))) {
    return { closeFriends: true };
  }
  const only = privacy.find((v) => telegram_exports.is("privacyValueAllowUsers", v))?.users?.map(Number) ?? [];
  return { only };
}

// types/2_successful_payment.ts
function constructSuccessfulPayment(action) {
  return cleanObject({
    currency: action.currency,
    totalAmount: Number(action.total_amount),
    invoicePayload: decodeText(action.payload),
    telegramPaymentChargeId: action.charge.id,
    providerPaymentChargeId: action.charge.provider_charge_id,
    shippingOptionId: action.shipping_option_id,
    orderInfo: action.info ? constructOrderInfo(action.info) : void 0
  });
}

// types/2_user.ts
function constructUser(user_) {
  const id5 = Number(user_.id);
  const usernames = user_.usernames?.map((v) => v.username);
  const username = user_.username ?? usernames?.shift();
  const user = {
    id: id5,
    color: telegram_exports.is("peerColor", user_.color) && user_.color.color !== void 0 ? user_.color.color : getColorFromPeerId(id5),
    isBot: user_.bot || false,
    firstName: user_.first_name || "",
    lastName: user_.last_name,
    username,
    also: usernames?.filter((v) => v !== username),
    languageCode: user_.lang_code,
    isScam: user_.scam || false,
    isFake: user_.fake || false,
    isPremium: user_.premium || false,
    isVerified: user_.verified || false,
    isSupport: user_.support || false,
    isRestricted: user_.restricted || false,
    restrictionReason: user_.restriction_reason,
    addedToAttachmentMenu: user_.bot ? user_.attach_menu_enabled || false : void 0,
    hasMainMiniApp: user_.bot ? user_.bot_has_main_app || false : void 0
  };
  if (telegram_exports.is("userProfilePhoto", user_.photo)) {
    user.photo = constructChatPhoto(user_.photo, user.id, user_.access_hash ?? 0n);
  }
  return cleanObject(user);
}
function constructUser2(chatP) {
  const user = {
    id: chatP.id,
    color: chatP.color,
    isBot: chatP.isBot,
    firstName: chatP.firstName,
    lastName: chatP.lastName,
    username: chatP.username,
    also: chatP.also,
    photo: chatP.photo,
    languageCode: chatP.languageCode,
    isScam: chatP.isScam,
    isFake: chatP.isFake,
    isPremium: chatP.isPremium,
    isVerified: chatP.isVerified,
    isSupport: chatP.isSupport,
    isRestricted: chatP.isRestricted,
    restrictionReason: chatP.restrictionReason,
    addedToAttachmentMenu: chatP.addedToAttachmentMenu,
    hasMainMiniApp: chatP.hasMainMiniApp
  };
  return cleanObject(user);
}

// types/3_business_connection.ts
function constructBusinessConnection(connection, getPeer2) {
  const peer = getPeer2({ ...connection, _: "peerUser" });
  if (!peer || !isChatPUser(peer[0])) {
    unreachable();
  }
  const user = constructUser2(peer[0]);
  return {
    id: connection.connection_id,
    user,
    date: connection.date,
    canReply: !!connection.rights?.reply,
    isEnabled: !connection.disabled
  };
}

// types/3_chat_settings.ts
function constructChatSettings(settings_) {
  const settings = {
    report: settings_.settings.report_spam || false,
    addToContacts: settings_.settings.add_contact || false,
    block: settings_.settings.block_contact || false,
    shareContact: settings_.settings.share_contact || false,
    contactsException: settings_.settings.need_contacts_exception || false,
    reportLocation: settings_.settings.report_geo || false,
    unarchive: settings_.settings.autoarchived || false,
    inviteMembers: settings_.settings.invite_members || false,
    channelJoinRequest: settings_.settings.request_chat_broadcast || false,
    businessBotPaused: settings_.settings.business_bot_paused || false,
    businessBotCanReply: settings_.settings.business_bot_can_reply || false,
    distance: settings_.settings.geo_distance,
    joinRequestChatTitle: settings_.settings.request_chat_title,
    joinRequestDate: settings_.settings.request_chat_date ? settings_.settings.request_chat_date : void 0,
    businessBotUrl: settings_.settings.business_bot_manage_url,
    messagePrice: settings_.settings.charge_paid_message_stars ? Number(settings_.settings.charge_paid_message_stars) : void 0,
    registrationMonth: settings_.settings.registration_month,
    phoneCountry: settings_.settings.phone_country,
    nameChangeDate: settings_.settings.name_change_date ? settings_.settings.name_change_date : void 0,
    photoChangeDate: settings_.settings.photo_change_date ? settings_.settings.photo_change_date : void 0
  };
  const bot = settings_.users.find((v) => v.id === settings_.settings.business_bot_id);
  if (telegram_exports.is("user", bot)) {
    settings.businessBot = constructUser(bot);
  }
  return cleanObject(settings);
}

// types/3_chosen_inline_result.ts
function constructChosenInlineResult(ubis, getPeer2) {
  const peer = getPeer2({ ...ubis, _: "peerUser" });
  if (!peer || peer[0].type !== "private") {
    unreachable();
  }
  return cleanObject({
    resultId: ubis.id,
    from: constructUser2(peer[0]),
    location: telegram_exports.is("geoPoint", ubis.geo) ? constructLocation(ubis.geo) : void 0,
    inlineMessageId: ubis.msg_id === void 0 ? void 0 : base64EncodeUrlSafe(telegram_exports.serializeObject(ubis.msg_id)),
    query: ubis.query
  });
}

// types/3_forward_header.ts
function constructForwardHeader(fwdHeader, getPeer2) {
  if (fwdHeader.channel_post && fwdHeader.from_id?._ === "peerChannel") {
    const peer = getPeer2(fwdHeader.from_id);
    if (peer === null) {
      unreachable();
    }
    return cleanObject({
      type: "channel",
      date: fwdHeader.date,
      chat: peer[0],
      messageId: fwdHeader.channel_post,
      authorSignature: fwdHeader.post_author
    });
  } else if (fwdHeader.from_id?._ === "peerChannel") {
    const peer = getPeer2(fwdHeader.from_id);
    if (peer === null) {
      unreachable();
    }
    return cleanObject({
      type: "supergroup",
      date: fwdHeader.date,
      chat: peer[0],
      title: fwdHeader.post_author
    });
  } else if (fwdHeader.from_id?._ === "peerUser") {
    const peer = getPeer2(fwdHeader.from_id);
    if (peer === null || peer[0].type !== "private") {
      unreachable();
    }
    return {
      type: "user",
      date: fwdHeader.date,
      user: constructUser2(peer[0])
    };
  } else if (fwdHeader.from_name) {
    return {
      type: "hidden",
      date: fwdHeader.date,
      name: fwdHeader.from_name
    };
  } else {
    return {
      type: "unsupported",
      date: fwdHeader.date
    };
  }
}

// types/3_game.ts
function constructGame(media_) {
  const game_ = media_.game;
  const document_ = game_.document ? telegram_exports.as("document", game_.document) : void 0;
  const fileId_ = document_ ? {
    type: FileType.Animation,
    dcId: document_.dc_id,
    fileReference: document_.file_reference,
    location: { type: "common", id: document_.id, accessHash: document_.access_hash }
  } : void 0;
  return cleanObject({
    title: game_.title,
    description: media_.game.description,
    photo: constructPhoto(telegram_exports.as("photo", game_.photo)),
    animation: fileId_ && document_ ? constructAnimation(
      document_,
      document_.attributes.find((v) => telegram_exports.is("documentAttributeVideo", v)),
      document_.attributes.find((v) => telegram_exports.is("documentAttributeFilename", v)),
      serializeFileId(fileId_),
      toUniqueFileId(fileId_)
    ) : void 0
  });
}

// types/3_gift_upgraded_component.ts
function constructGiftUpgradedComponent(attribute) {
  const name = "name" in attribute ? attribute.name : "";
  const rarityLevel = "rarity_permille" in attribute ? attribute.rarity_permille : 0;
  switch (attribute._) {
    case "starGiftAttributeModel": {
      if (!telegram_exports.is("document", attribute.document)) {
        unreachable();
      }
      const fileId = {
        type: FileType.Sticker,
        dcId: attribute.document.dc_id,
        fileReference: attribute.document.file_reference,
        location: { type: "common", id: attribute.document.id, accessHash: attribute.document.access_hash }
      };
      const sticker = constructSticker2(attribute.document, serializeFileId(fileId), toUniqueFileId(fileId), void 0, "");
      return {
        type: "model",
        name,
        sticker,
        rarityLevel
      };
    }
    case "starGiftAttributePattern": {
      if (!telegram_exports.is("document", attribute.document)) {
        unreachable();
      }
      const fileId = {
        type: FileType.Sticker,
        dcId: attribute.document.dc_id,
        fileReference: attribute.document.file_reference,
        location: { type: "common", id: attribute.document.id, accessHash: attribute.document.access_hash }
      };
      const sticker = constructSticker2(attribute.document, serializeFileId(fileId), toUniqueFileId(fileId), void 0, "");
      return {
        type: "pattern",
        name,
        sticker,
        rarityLevel
      };
    }
    case "starGiftAttributeBackdrop":
      return {
        type: "backdrop",
        name,
        centerColor: attribute.center_color,
        edgeColor: attribute.edge_color,
        patternColor: attribute.pattern_color,
        textColor: attribute.text_color,
        rarityLevel
      };
    case "starGiftAttributeOriginalDetails":
      return cleanObject({
        type: "originalDetails",
        senderId: attribute.sender_id ? Number(attribute.sender_id) : void 0,
        recipientId: Number(attribute.recipient_id),
        date: attribute.date,
        message: attribute.message?.text,
        entities: attribute.message ? attribute.message.entities.map(constructMessageEntity).filter((v) => !!v) : void 0
      });
    default:
      unreachable();
  }
}

// types/3_inline_query.ts
function constructInlineQuery(query_, getPeer2) {
  const peer = getPeer2({ _: "peerUser", user_id: query_.user_id });
  if (peer === null) {
    unreachable();
  }
  const user = constructUser2(peer[0]);
  let chatType;
  if (query_.peer_type !== void 0) {
    if (telegram_exports.is("inlineQueryPeerTypeSameBotPM", query_.peer_type)) {
      chatType = "private";
    } else if (telegram_exports.is("inlineQueryPeerTypeBotPM", query_.peer_type) || telegram_exports.is("inlineQueryPeerTypePM", query_.peer_type)) {
      chatType = "sender";
    } else if (telegram_exports.is("inlineQueryPeerTypeChat", query_.peer_type)) {
      chatType = "group";
    } else if (telegram_exports.is("inlineQueryPeerTypeMegagroup", query_.peer_type)) {
      chatType = "supergroup";
    } else if (telegram_exports.is("inlineQueryPeerTypeBroadcast", query_.peer_type)) {
      chatType = "channel";
    } else {
      unreachable();
    }
  }
  const location2 = query_.geo !== void 0 && telegram_exports.is("geoPoint", query_.geo) ? constructLocation(query_.geo) : void 0;
  return {
    id: String(query_.query_id),
    from: user,
    query: query_.query,
    offset: query_.offset,
    chatType,
    location: location2
  };
}

// types/3_invite_link.ts
function constructInviteLink(inviteLink_, getPeer2) {
  const peer = getPeer2({ _: "peerUser", user_id: inviteLink_.admin_id });
  if (!peer) {
    unreachable();
  }
  const inviteLink = inviteLink_.link;
  const creator = constructUser2(peer[0]);
  const requiresApproval = inviteLink_.request_needed ? true : false;
  const isRevoked = inviteLink_.revoked ? true : false;
  const title = inviteLink_.title;
  const expiresAt = inviteLink_.expire_date ? inviteLink_.expire_date : void 0;
  const limit = inviteLink_.usage_limit ? inviteLink_.usage_limit : void 0;
  const pendingJoinRequestCount = inviteLink_.requested;
  return cleanObject({
    inviteLink,
    creator,
    requiresApproval,
    isRevoked,
    title,
    expiresAt,
    limit,
    pendingJoinRequestCount,
    subcriptionPrice: inviteLink_.subscription_pricing || void 0,
    subscriptionExpiresAt: inviteLink_.subscription_expired || void 0
  });
}

// types/3_message_reaction_list.ts
function constructMessageReactionList(messageReactionsList) {
  const reactions = messageReactionsList.reactions.map((v) => constructMessageReactionListItem(v, messageReactionsList));
  const count = messageReactionsList.count;
  const nextOffset = messageReactionsList.next_offset;
  return cleanObject({
    reactions,
    count,
    nextOffset
  });
}

// types/3_message_reactions.ts
function constructMessageReactions(update, getPeer2) {
  const date = update.date;
  const oldReactions = update.old_reactions.map((v) => constructReaction(v));
  const newReactions = update.new_reactions.map((v) => constructReaction(v));
  const messageId = update.msg_id;
  let peer = getPeer2(update.peer);
  if (!peer) {
    return null;
  }
  const chat = peer[0];
  let user = void 0;
  let actorChat = void 0;
  peer = getPeer2(update.actor);
  if (!peer) {
    return null;
  }
  if (peer[0].type === "private") {
    user = constructUser2(peer[0]);
  } else {
    actorChat = peer[0];
  }
  return cleanObject({
    chat,
    messageId,
    user,
    actorChat,
    date,
    oldReactions,
    newReactions
  });
}

// types/3_poll_option.ts
function constructPollOption(option, results) {
  const result = results.find((v) => v.option.every((v2, i) => option.option[i] === v2));
  return {
    text: option.text.text,
    entities: option.text.entities?.map(constructMessageEntity).filter((v) => v !== null),
    voterCount: result?.voters ?? 0,
    isChosen: result?.chosen ?? false
  };
}

// types/3_pre_checkout_query.ts
function constructPreCheckoutQuery(query, getPeer2) {
  const peer = getPeer2({ _: "peerUser", user_id: query.user_id });
  if (!peer) {
    unreachable();
  }
  const from = constructUser2(peer[0]);
  return cleanObject({
    id: String(query.query_id),
    from,
    currency: query.currency,
    totalAmount: Number(query.total_amount),
    invoicePayload: decodeText(query.payload),
    shippingOptionId: query.shipping_option_id,
    orderInfo: query.info ? constructOrderInfo(query.info) : void 0
  });
}

// types/3_reply_quote.ts
function constructReplyQuote(quoteText, quoteOffset, quoteEntities) {
  quoteText ??= "";
  quoteOffset ??= 0;
  quoteEntities ??= [];
  return {
    offset: quoteOffset,
    text: quoteText,
    entities: quoteEntities.map(constructMessageEntity).filter((v) => !!v)
  };
}

// types/3_story.ts
function constructStory(story, peer, getPeer2) {
  const id5 = story.id;
  const peer_ = getPeer2(peer);
  if (!peer_) {
    unreachable();
  }
  const chat = peer_[0];
  const date = story.date;
  const interactiveAreas = (story.media_areas ?? []).map(constructStoryInteractiveArea);
  const highlighted = story.pinned ? true : false;
  const content = constructStoryContent(story.media);
  const caption = story.caption;
  const captionEntities = story.entities?.map(constructMessageEntity).filter((v) => !!v);
  const privacy = story.privacy ? constructStoryPrivacy(story.privacy) : void 0;
  const interactions = story.views ? constructStoryInteractions(story.views) : void 0;
  return cleanObject({
    out: story.out ? true : false,
    id: id5,
    chat,
    date,
    content,
    edited: story.edited ? true : false,
    interactiveAreas,
    highlighted,
    interactions,
    privacy,
    caption,
    captionEntities
  });
}

// types/4_chat_member_updated.ts
function constructChatMemberUpdated(update, getPeer2) {
  if (!update.prev_participant && !update.new_participant) {
    unreachable();
  }
  const peer = getPeer2("channel_id" in update ? { channel_id: update.channel_id, _: "peerChannel" } : { chat_id: update.chat_id, _: "peerChat" });
  const actorPeer = getPeer2({ _: "peerUser", user_id: update.actor_id });
  const memberPeer = getPeer2(update.new_participant && "peer" in update.new_participant ? update.new_participant.peer : update.prev_participant && "peer" in update.prev_participant ? update.prev_participant.peer : { _: "peerUser", user_id: update.user_id });
  if (!peer || !memberPeer || !actorPeer) {
    unreachable();
  }
  const chat = peer[0];
  const from = constructUser2(actorPeer[0]);
  const date = update.date;
  const oldChatMember = constructChatMember(memberPeer[0], update.prev_participant ?? { _: "channelParticipantLeft", peer: memberPeer }, getPeer2);
  const newChatMember = constructChatMember(memberPeer[0], update.new_participant ?? { _: "channelParticipantLeft", peer: memberPeer }, getPeer2);
  const viaSharedFolder = "via_chatlist" in update ? update.via_chatlist ? true : update.invite ? false : void 0 : void 0;
  const inviteLink = update.invite && telegram_exports.is("chatInviteExported", update.invite) ? constructInviteLink(update.invite, getPeer2) : void 0;
  return cleanObject({
    chat,
    from,
    date,
    oldChatMember,
    newChatMember,
    viaSharedFolder,
    inviteLink
  });
}

// types/4_gift.ts
function constructGift(gift, getPeer2) {
  if (telegram_exports.is("starGiftUnique", gift)) {
    return constructGiftUpgraded(gift, getPeer2);
  } else {
    return constructGiftNonUpgraded(gift);
  }
}
function constructGiftUpgraded(gift, getPeer2) {
  const id5 = String(gift.id);
  const title = gift.title;
  const index = gift.num;
  let owner;
  if (gift.owner_id) {
    const peer = getPeer2(gift.owner_id);
    if (peer) {
      owner = peer[0];
    }
  }
  const starsAmount_ = gift.resell_amount?.find((v) => v._ === "starsAmount");
  const starsTonAmount_ = gift.resell_amount?.find((v) => v._ === "starsTonAmount");
  const ownerName = gift.owner_name;
  const ownerAddress = gift.owner_address;
  const currentUpgrades = gift.availability_issued;
  const maxUpgrades = gift.availability_total;
  const components = gift.attributes.map(constructGiftUpgradedComponent);
  const address = gift.gift_address;
  const price = starsAmount_ ? Number(starsAmount_.amount) : void 0;
  const priceTon = starsTonAmount_ ? Number(starsTonAmount_.amount / 10000000n) / 100 : void 0;
  const tonOnly = price || priceTon ? !!gift.resale_ton_only : void 0;
  const value = gift.value_amount ? { amount: Number(gift.value_amount), currency: gift.value_currency ?? "" } : void 0;
  return cleanObject({
    type: "upgraded",
    id: id5,
    title,
    index,
    ownerName,
    ownerAddress,
    owner,
    currentUpgrades,
    maxUpgrades,
    components,
    address,
    price,
    priceTon,
    tonOnly,
    value
  });
}
function constructGiftNonUpgraded(gift) {
  if (!telegram_exports.is("document", gift.sticker)) {
    unreachable();
  }
  const id5 = String(gift.id);
  const fileId = {
    type: FileType.Sticker,
    dcId: gift.sticker.dc_id,
    fileReference: gift.sticker.file_reference,
    location: { type: "common", id: gift.sticker.id, accessHash: gift.sticker.access_hash }
  };
  const sticker = constructSticker2(gift.sticker, serializeFileId(fileId), toUniqueFileId(fileId), void 0, "");
  const price = Number(gift.stars);
  const isLimited = !!gift.limited;
  const isRemaining = isLimited ? gift.availability_remains ?? 0 : void 0;
  const total = isLimited ? gift.availability_total ?? 0 : void 0;
  const isSoldOut = isLimited ? !!gift.sold_out : void 0;
  const isBirthday = !!gift.birthday;
  const conversionPrice = Number(gift.convert_stars);
  const firstSaleDate = isLimited ? gift.first_sale_date ? gift.first_sale_date : void 0 : void 0;
  const lastSaleDate = isLimited ? gift.last_sale_date ? gift.last_sale_date : void 0 : void 0;
  const upgradePrice = gift.upgrade_stars ? Number(gift.upgrade_stars) : void 0;
  return cleanObject({
    type: "nonupgraded",
    id: id5,
    sticker,
    price,
    isLimited,
    isRemaining,
    total,
    isSoldOut,
    isBirthday,
    conversionPrice,
    firstSaleDate,
    lastSaleDate,
    upgradePrice
  });
}

// types/4_join_request.ts
function constructJoinRequest(update, getPeer2) {
  const peer = getPeer2(update.peer);
  if (!peer) {
    unreachable();
  }
  const chat = peer[0];
  const userPeer = getPeer2({ _: "peerUser", user_id: update.user_id });
  if (!userPeer) {
    unreachable();
  }
  const from = constructUser2(userPeer[0]);
  const inviteLink = update.invite && telegram_exports.is("chatInviteExported", update.invite) ? constructInviteLink(update.invite, getPeer2) : void 0;
  return cleanObject({
    chat,
    from,
    date: update.date,
    bio: update.about,
    inviteLink
  });
}
function constructJoinRequest2(peer, inviteImporter, getPeer2) {
  const peer_ = getPeer2(peer);
  if (!peer_) {
    unreachable();
  }
  const chat = peer_[0];
  const userPeer = getPeer2({ _: "peerUser", user_id: inviteImporter.user_id });
  if (!userPeer) {
    unreachable();
  }
  const from = constructUser2(userPeer[0]);
  return cleanObject({
    chat,
    from,
    date: inviteImporter.date,
    bio: inviteImporter.about
  });
}

// types/4_poll.ts
function constructPoll(media_) {
  const poll = media_.poll;
  const correctOption = media_.results.results?.find((v) => v.correct)?.option;
  const correctOptionIndex = correctOption !== void 0 ? poll.answers.findIndex((v) => v.option.every((v2, i) => correctOption[i] === v2)) : void 0;
  return cleanObject({
    id: String(poll.id),
    question: poll.question.text,
    questionEntities: poll.question.entities.map(constructMessageEntity).filter((v) => v !== null),
    options: poll.answers.map((v) => constructPollOption(v, media_.results.results ?? [])),
    totalVoterCount: media_.results.total_voters ?? 0,
    isClosed: poll.closed || false,
    isAnonymous: !poll.public_voters,
    type: poll.quiz ? "quiz" : "regular",
    allowMultipleAnswers: poll.quiz ? void 0 : poll.multiple_choice || false,
    correctOptionIndex,
    explanation: media_.results.solution,
    explanationEntities: media_.results.solution_entities?.map(constructMessageEntity).filter((v) => v !== null),
    openPeriod: poll.close_period,
    closeDate: poll.close_date
  });
}

// types/5_claimed_gift.ts
function constructClaimedGift(savedStarGift, fromPeer, getPeer2) {
  const gift = constructGift(savedStarGift.gift, getPeer2);
  const date = savedStarGift.date;
  const public_ = !!savedStarGift.unsaved;
  const sender = fromPeer ? constructChatP(fromPeer) : void 0;
  const message = savedStarGift.message?.text;
  const entities = savedStarGift.message ? savedStarGift.message.entities.map(constructMessageEntity).filter((v) => !!v) : void 0;
  const messageId = savedStarGift.msg_id;
  const conversionStars = savedStarGift.convert_stars;
  return cleanObject({
    date,
    gift,
    public: public_,
    sender,
    message,
    entities,
    messageId,
    conversionStars
  });
}

// types/5_link_preview.ts
function constructLinkPreview(media, invert, getPeer2) {
  if (telegram_exports.is("webPageNotModified", media.webpage)) {
    unreachable();
  }
  const id5 = String(media.webpage.id);
  const mediaSize = media.force_large_media ? "large" : "small";
  const isAboveText = !!invert;
  switch (media.webpage._) {
    case "webPagePending":
      return cleanObject({
        type: "loading",
        id: id5,
        date: media.webpage.date,
        url: media.webpage.url,
        mediaSize,
        isAboveText
      });
    case "webPageEmpty":
      return cleanObject({
        type: "notLoaded",
        id: id5,
        url: media.webpage.url,
        mediaSize,
        isAboveText
      });
  }
  const url = media.webpage.url;
  let linkPreview = {
    type: "unknown",
    id: id5,
    url,
    mediaSize,
    isAboveText
  };
  switch (media.webpage.type) {
    case "video":
      if (media.webpage.embed_type === "iframe") {
        linkPreview = {
          type: "embeddedVideo",
          id: id5,
          url,
          mediaSize,
          isAboveText,
          embedUrl: media.webpage.embed_url ?? "",
          width: media.webpage.embed_width ?? 0,
          height: media.webpage.embed_height ?? 0,
          duration: media.webpage.duration ?? 0,
          thumbnail: media.webpage.photo ? constructPhoto(telegram_exports.as("photo", media.webpage.photo)) : void 0
        };
        break;
      } else if (media.webpage.document) {
        const document = telegram_exports.as("document", media.webpage.document);
        const fileId = {
          type: FileType.Video,
          dcId: document.dc_id,
          fileReference: document.file_reference,
          location: { type: "common", id: document.id, accessHash: document.access_hash }
        };
        const startTimestamp = Number(new URL(media.webpage.url).searchParams.get("t")) || void 0;
        const fileName = document.attributes.find((v) => telegram_exports.is("documentAttributeFilename", v));
        linkPreview = {
          type: "video",
          id: id5,
          url,
          mediaSize,
          isAboveText,
          video: constructDocument(document, fileName ?? { _: "documentAttributeFilename", file_name: "Unknown" }, serializeFileId(fileId), toUniqueFileId(fileId)),
          startTimestamp,
          thumbnail: media.webpage.video_cover_photo ? media.webpage.photo ? constructPhoto(telegram_exports.as("photo", media.webpage.photo)) : void 0 : void 0
        };
        break;
      } else if (media.webpage.embed_url) {
        linkPreview = {
          type: "externalVideo",
          id: id5,
          url,
          mediaSize,
          isAboveText,
          embedUrl: media.webpage.embed_url ?? "",
          mimeType: media.webpage.embed_type ?? "",
          width: media.webpage.embed_width ?? 0,
          height: media.webpage.embed_height ?? 0,
          duration: media.webpage.duration ?? 0
        };
        break;
      } else if (media.webpage.photo) {
        linkPreview = {
          type: "photo",
          id: id5,
          url,
          mediaSize,
          isAboveText,
          photo: constructPhoto(telegram_exports.as("photo", media.webpage.photo))
        };
        break;
      }
    case "audio":
      if (media.webpage.embed_type === "iframe") {
        linkPreview = {
          type: "embeddedAudio",
          id: id5,
          url,
          mediaSize,
          isAboveText,
          embedUrl: media.webpage.embed_url ?? "",
          width: media.webpage.embed_width ?? 0,
          height: media.webpage.embed_height ?? 0,
          duration: media.webpage.duration ?? 0
        };
        break;
      } else if (media.webpage.document) {
        const document = telegram_exports.as("document", media.webpage.document);
        const fileId = {
          type: FileType.Audio,
          dcId: document.dc_id,
          fileReference: document.file_reference,
          location: { type: "common", id: document.id, accessHash: document.access_hash }
        };
        const audio = document.attributes.find((v) => telegram_exports.is("documentAttributeAudio", v));
        linkPreview = {
          type: "audio",
          id: id5,
          url,
          mediaSize,
          isAboveText,
          audio: constructAudio(document, audio, serializeFileId(fileId), toUniqueFileId(fileId))
        };
        break;
      } else if (media.webpage.embed_url) {
        linkPreview = {
          type: "externalAudio",
          id: id5,
          url,
          mediaSize,
          isAboveText,
          embedUrl: media.webpage.embed_url,
          mimeType: media.webpage.embed_type ?? "",
          width: media.webpage.embed_width ?? 0,
          height: media.webpage.embed_height ?? 0,
          duration: media.webpage.duration ?? 0
        };
        break;
      } else if (media.webpage.photo) {
        linkPreview = {
          type: "photo",
          id: id5,
          url,
          mediaSize,
          isAboveText,
          photo: constructPhoto(telegram_exports.as("photo", media.webpage.photo))
        };
        break;
      }
      break;
    case "telegram_nft": {
      const gift = media.webpage.attributes?.find((v) => telegram_exports.is("webPageAttributeUniqueStarGift", v))?.gift;
      if (gift) {
        linkPreview = {
          type: "gift",
          id: id5,
          url,
          mediaSize,
          isAboveText,
          gift: constructGift(gift, getPeer2)
        };
        break;
      }
    }
  }
  return cleanObject(linkPreview);
}

// types/6_claimed_gifts.ts
function constructClaimedGifts(savedStarGifts, getPeer2) {
  return cleanObject({
    all: savedStarGifts.count,
    offset: savedStarGifts.next_offset,
    gifts: savedStarGifts.gifts.map((v) => {
      const fromId = v.from_id;
      if (telegram_exports.is("peerUser", fromId)) {
        return [v, savedStarGifts.users.find((u) => telegram_exports.is("user", u) && u.id === fromId.user_id)];
      } else if (telegram_exports.is("peerChat", fromId)) {
        return [v, savedStarGifts.chats.find((u) => telegram_exports.is("chat", u) && u.id === fromId.chat_id)];
      } else if (fromId) {
        return [v, savedStarGifts.chats.find((u) => telegram_exports.isOneOf(["channel", "channelForbidden"], u) && u.id === fromId.channel_id)];
      } else {
        return [v, void 0];
      }
    }).map((v) => constructClaimedGift(v[0], v[1], getPeer2))
  });
}

// types/6_message.ts
var L3 = getLogger("Message");
var keys = {
  text: ["text"],
  link: ["linkPreview"],
  photo: ["photo"],
  document: ["document"],
  video: ["video"],
  sticker: ["sticker"],
  animation: ["animation"],
  voice: ["voice"],
  audio: ["audio"],
  dice: ["dice"],
  videoNote: ["videoNote"],
  contact: ["contact"],
  game: ["game"],
  poll: ["poll"],
  invoice: ["invoice"],
  venue: ["venue"],
  location: ["location"],
  newChatMembers: ["newChatMembers"],
  leftChatMember: ["leftChatMember"],
  newChatTitle: ["newChatTitle"],
  newChatPhoto: ["newChatPhoto"],
  deletedChatPhoto: ["deletedChatPhoto"],
  groupCreated: ["groupCreated", "newChatMembers"],
  supergroupCreated: ["supergroupCreated"],
  channelCreated: ["channelCreated"],
  newAutoDeleteTime: ["newAutoDeleteTime"],
  chatMigratedTo: ["chatMigratedTo"],
  chatMigratedFrom: ["chatMigratedFrom"],
  pinnedMessage: ["pinnedMessage"],
  userShared: ["userShared"],
  writeAccessAllowed: ["writeAccessAllowed"],
  forumTopicCreated: ["forumTopicCreated"],
  forumTopicEdited: ["forumTopicEdited"],
  forumTopicClosed: ["forumTopicClosed"],
  forumTopicReopened: ["forumTopicReopened"],
  videoChatScheduled: ["videoChatScheduled"],
  videoChatStarted: ["videoChatStarted"],
  videoChatEnded: ["videoChatEnded"],
  giveaway: ["giveaway"],
  unsupported: ["unsupported"],
  successfulPayment: ["successfulPayment"],
  refundedPayment: ["refundedPayment"]
};
function isMessageType(message, type) {
  for (const key of keys[type]) {
    if (!(key in message) || message[key] === void 0) {
      return false;
    }
  }
  return true;
}
function assertMessageType(message, type) {
  if (!isMessageType(message, type)) {
    unreachable();
  }
  return message;
}
function getSender(message_, getPeer2) {
  const peer = message_.from_id ?? message_.peer_id;
  if (telegram_exports.isOneOf(["peerChannel", "peerUser"], peer)) {
    const peer_ = getPeer2(peer);
    if (peer_) {
      return { from: peer_[0] };
    } else {
      unreachable();
    }
  } else {
    unreachable();
  }
}
async function getReply(message_, chat, getMessage) {
  if (getMessage && telegram_exports.is("messageReplyHeader", message_.reply_to) && message_.reply_to.reply_to_msg_id) {
    let isTopicMessage = false;
    if (message_.reply_to.forum_topic) {
      isTopicMessage = true;
    }
    const replyToMessage = await getMessage(chat.id, message_.reply_to.reply_to_msg_id);
    if (replyToMessage) {
      return { replyToMessage, threadId: message_.reply_to.reply_to_top_id, isTopicMessage };
    } else {
      L3.warning("couldn't get replied message");
    }
  }
  return { replyToMessage: void 0, threadId: void 0, isTopicMessage: false };
}
async function constructServiceMessage(message_, chat, getPeer2, getMessage, getReply_) {
  const message = {
    isOutgoing: message_.out ?? false,
    id: message_.id,
    chat,
    date: message_.date,
    isTopicMessage: message_.reply_to && telegram_exports.is("messageReplyHeader", message_.reply_to) && message_.reply_to.forum_topic ? true : false,
    ...getSender(message_, getPeer2)
  };
  if (telegram_exports.is("messageReplyHeader", message_.reply_to) && message_.reply_to.reply_to_msg_id) {
    message.replyToMessageId = message_.reply_to.reply_to_top_id;
    message.replyToMessageId = message_.reply_to.reply_to_msg_id;
  }
  if (getReply_) {
    Object.assign(message, await getReply(message_, chat, getMessage));
  }
  if (telegram_exports.is("messageActionChatAddUser", message_.action) || telegram_exports.is("messageActionChatJoinedByLink", message_.action) || telegram_exports.is("messageActionChatJoinedByRequest", message_.action)) {
    const newChatMembers = new Array();
    const users = "users" in message_.action ? message_.action.users : [message_.from_id && "user_id" in message_.from_id ? message_.from_id.user_id : unreachable()];
    for (const user_ of users) {
      const peer = getPeer2({ _: "peerUser", user_id: user_ });
      if (peer && isChatPUser(peer[0])) {
        const user = constructUser2(peer[0]);
        newChatMembers.push(user);
      } else {
        unreachable();
      }
    }
    return { ...message, newChatMembers };
  } else if (telegram_exports.is("messageActionChatDeleteUser", message_.action)) {
    const peer = getPeer2({ _: "peerUser", user_id: message_.action.user_id });
    if (peer) {
      const user = constructUser2(peer[0]);
      const leftChatMember = user;
      return { ...message, leftChatMember };
    }
  } else if (telegram_exports.is("messageActionChatEditTitle", message_.action)) {
    const newChatTitle = message_.action.title;
    return { ...message, newChatTitle };
  } else if (telegram_exports.is("messageActionChatEditPhoto", message_.action)) {
    const newChatPhoto = constructPhoto(telegram_exports.as("photo", message_.action.photo));
    return { ...message, newChatPhoto };
  } else if (telegram_exports.is("messageActionChatDeletePhoto", message_.action)) {
    const deletedChatPhoto = true;
    return { ...message, deletedChatPhoto };
  } else if (telegram_exports.is("messageActionChatCreate", message_.action)) {
    const groupCreated = true;
    const newChatMembers = new Array();
    for (const user_ of message_.action.users) {
      const peer = getPeer2({ _: "peerUser", user_id: user_ });
      if (peer) {
        const user = constructUser2(peer[0]);
        newChatMembers.push(user);
      }
    }
    return { ...message, groupCreated, newChatMembers };
  } else if (telegram_exports.is("messageActionChannelCreate", message_.action)) {
    if (message.chat.type === "channel") {
      const channelCreated = true;
      return { ...message, channelCreated };
    } else if (message.chat.type === "supergroup") {
      const supergroupCreated = true;
      return { ...message, supergroupCreated };
    } else {
    }
  } else if (telegram_exports.is("messageActionChatMigrateTo", message_.action)) {
    const chatMigratedTo = ZERO_CHANNEL_ID + Number(-message_.action.channel_id);
    return { ...message, chatMigratedTo };
  } else if (telegram_exports.is("messageActionChannelMigrateFrom", message_.action)) {
    const chatMigratedFrom = Number(-message_.action.chat_id);
    return { ...message, chatMigratedFrom };
  } else if (telegram_exports.is("messageActionPinMessage", message_.action)) {
    const { replyToMessage } = await getReply(message_, chat, getMessage);
    if (replyToMessage) {
      const pinnedMessage = replyToMessage;
      return { ...message, pinnedMessage };
    }
  } else if (telegram_exports.is("messageActionRequestedPeer", message_.action)) {
    const user = telegram_exports.as("peerUser", message_.action.peers[0]);
    const userShared = { requestId: message_.action.button_id, userId: Number(user.user_id) };
    return { ...message, userShared };
  } else if (telegram_exports.is("messageActionBotAllowed", message_.action)) {
    const miniAppName = message_.action.app ? telegram_exports.as("botApp", message_.action.app).title : void 0;
    const writeAccessAllowed = { miniAppName };
    return { ...message, writeAccessAllowed };
  } else if (telegram_exports.is("messageActionTopicCreate", message_.action)) {
    const forumTopicCreated = {
      name: message_.action.title,
      color: message_.action.icon_color,
      cutsomEmojiId: message_.action.icon_emoji_id ? String(message_.action.icon_emoji_id) : void 0
    };
    return { ...message, forumTopicCreated };
  } else if (telegram_exports.is("messageActionTopicEdit", message_.action)) {
    if (message_.action.closed) {
      const forumTopicClosed = true;
      return { ...message, forumTopicClosed };
    } else if (message_.action.title || message_.action.icon_emoji_id) {
      const forumTopicEdited = {
        name: message_.action.title ?? "",
        customEmojiId: message_.action.icon_emoji_id ? String(message_.action.icon_emoji_id) : void 0
      };
      return { ...message, forumTopicEdited };
    } else {
      const forumTopicReopened = true;
      return { ...message, forumTopicReopened };
    }
  } else if (telegram_exports.is("messageActionGroupCallScheduled", message_.action)) {
    const videoChatScheduled = { startDate: message_.action.schedule_date };
    return { ...message, videoChatScheduled };
  } else if (telegram_exports.is("messageActionGroupCall", message_.action)) {
    if (message_.action.duration) {
      const videoChatEnded = { duration: message_.action.duration };
      return { ...message, videoChatEnded };
    } else {
      const videoChatStarted = true;
      return { ...message, videoChatStarted };
    }
  } else if (telegram_exports.is("messageActionSetMessagesTTL", message_.action)) {
    const newAutoDeleteTime = message_.action.period || 0;
    return { ...message, newAutoDeleteTime };
  } else if (telegram_exports.is("messageActionPaymentSentMe", message_.action)) {
    const successfulPayment = constructSuccessfulPayment(message_.action);
    return { ...message, successfulPayment };
  } else if (telegram_exports.is("messageActionPaymentRefunded", message_.action)) {
    const refundedPayment = constructRefundedPayment(message_.action);
    return { ...message, refundedPayment };
  }
  return { ...message, unsupported: true };
}
async function constructMessage(message_, getPeer2, getMessage, getStickerSetName, getReply_ = true, business, poll, pollResults) {
  if (!telegram_exports.is("message", message_) && !telegram_exports.is("messageService", message_)) {
    unreachable();
  }
  let link;
  const chat_ = getPeer2(message_.peer_id)?.[0] ?? null;
  if (chat_ === null) {
    unreachable();
  }
  if (telegram_exports.is("peerChannel", message_.peer_id)) {
    const reply_to_top_id = message_.reply_to && telegram_exports.is("messageReplyHeader", message_.reply_to) && message_.reply_to.reply_to_top_id;
    const threadId = reply_to_top_id && typeof reply_to_top_id === "number" ? reply_to_top_id + "/" : "";
    link = `https://t.me/c/${message_.peer_id.channel_id}/${threadId}${message_.id}`;
    if ("username" in chat_ && chat_.username) {
      link = link.replace(`/c/${message_.peer_id.channel_id}/`, `/${chat_.username}/`);
    }
  }
  if (telegram_exports.is("messageService", message_)) {
    return constructServiceMessage(message_, chat_, getPeer2, getMessage, getReply_);
  }
  const message = {
    isOutgoing: message_.out ?? false,
    id: message_.id,
    chat: chat_,
    link,
    date: message_.date,
    views: message_.views,
    forwards: message_.forwards,
    isTopicMessage: message_.reply_to && telegram_exports.is("messageReplyHeader", message_.reply_to) && message_.reply_to.forum_topic ? true : false,
    hasProtectedContent: message_.noforwards || false,
    senderBoostCount: message_.from_boosts_applied,
    effectId: message_.effect ? String(message_.effect) : void 0,
    scheduled: message_.from_scheduled ? true : void 0,
    ...await getSender(message_, getPeer2)
  };
  if (message_.reactions) {
    const recentReactions = message_.reactions.recent_reactions ?? [];
    message.reactions = message_.reactions.results.map((v) => constructMessageReaction(v, recentReactions));
  }
  if (telegram_exports.is("messageReplyHeader", message_.reply_to) && message_.reply_to.reply_to_msg_id) {
    if (message_.reply_to.quote) {
      message.replyQuote = constructReplyQuote(message_.reply_to.quote_text, message_.reply_to.quote_offset, message_.reply_to.quote_entities);
    }
    message.threadId = message_.reply_to.reply_to_top_id;
    message.replyToMessageId = message_.reply_to.reply_to_msg_id;
  }
  if (business) {
    message.businessConnectionId = business.connectionId;
    if (business.replyToMessage) {
      message.replyToMessageId = business.replyToMessage.id;
      message.replyToMessage = await constructMessage(business.replyToMessage, getPeer2, getMessage, getStickerSetName, false, { connectionId: business.connectionId });
    }
  } else if (getReply_) {
    Object.assign(message, await getReply(message_, chat_, getMessage));
  }
  if (message_.reply_markup) {
    message.replyMarkup = constructReplyMarkup(message_.reply_markup);
  }
  if (message_.via_bot_id !== void 0) {
    const peer = getPeer2({ _: "peerUser", user_id: message_.via_bot_id });
    if (peer) {
      message.viaBot = constructUser2(peer[0]);
    } else {
      unreachable();
    }
  }
  if (message_.via_business_bot_id !== void 0) {
    const peer = getPeer2({ _: "peerUser", user_id: message_.via_business_bot_id });
    if (peer) {
      message.viaBusinessBot = constructUser2(peer[0]);
    } else {
      unreachable();
    }
  }
  if (message_.post_author !== void 0) {
    message.authorSignature = message_.post_author;
  }
  if (telegram_exports.is("messageFwdHeader", message_.fwd_from)) {
    message.isAutomaticForward = message_.fwd_from.saved_from_peer !== void 0 && message_.fwd_from.saved_from_msg_id !== void 0;
    message.forwardFrom = constructForwardHeader(message_.fwd_from, getPeer2);
  }
  if (message_.grouped_id !== void 0) {
    message.mediaGroupId = String(message_.grouped_id);
  }
  if (message_.edit_date) {
    message.editDate = message_.edit_date;
  }
  const messageText = {
    ...message,
    text: message_.message,
    entities: message_.entities?.map(constructMessageEntity).filter((v) => !!v) ?? []
  };
  if (message_.message && message_.media === void 0) {
    return cleanObject(messageText);
  }
  const messageMedia = {
    ...message,
    caption: message_.message,
    captionEntities: message_.entities?.map(constructMessageEntity).filter((v) => !!v) ?? []
  };
  if (message_.media && "ttl_seconds" in message_.media && typeof message_.media.ttl_seconds === "number") {
    messageMedia.selfDestruct = constructSelfDestructOption(message_.media.ttl_seconds);
  }
  if (telegram_exports.is("messageMediaPhoto", message_.media) || telegram_exports.is("messageMediaDocument", message_.media)) {
    messageMedia.hasMediaSpoiler = message_.media.spoiler || false;
  }
  let m = null;
  if (telegram_exports.is("messageMediaPhoto", message_.media)) {
    if (!message_.media.photo) {
      unreachable();
    }
    const photo = constructPhoto(telegram_exports.as("photo", message_.media.photo));
    m = { ...messageMedia, photo };
  } else if (telegram_exports.is("messageMediaDice", message_.media)) {
    const dice = constructDice(message_.media);
    m = { ...message, dice };
  } else if (telegram_exports.is("messageMediaDocument", message_.media)) {
    const { document } = message_.media;
    if (telegram_exports.is("document", document)) {
      const getFileId = (type) => ({
        type,
        dcId: document.dc_id,
        fileReference: document.file_reference,
        location: { type: "common", id: document.id, accessHash: document.access_hash }
      });
      const animated = document.attributes.find((v) => telegram_exports.is("documentAttributeAnimated", v));
      const audio = document.attributes.find((v) => telegram_exports.is("documentAttributeAudio", v));
      const fileName = document.attributes.find((v) => telegram_exports.is("documentAttributeFilename", v));
      const sticker = document.attributes.find((v) => telegram_exports.is("documentAttributeSticker", v));
      const video = document.attributes.find((v) => telegram_exports.is("documentAttributeVideo", v));
      if (animated) {
        const fileId = getFileId(FileType.Animation);
        const animation = constructAnimation(document, video, fileName, serializeFileId(fileId), toUniqueFileId(fileId));
        m = { ...messageMedia, animation };
      } else if (video) {
        if (video.round_message) {
          const fileId = getFileId(FileType.VideoNote);
          const videoNote = constructVideoNote(document, video, serializeFileId(fileId), toUniqueFileId(fileId));
          m = { ...message, videoNote };
        } else {
          const fileId = getFileId(FileType.Video);
          const video_ = constructVideo(document, video, fileName?.file_name, serializeFileId(fileId), toUniqueFileId(fileId));
          m = { ...messageMedia, video: video_ };
        }
      } else if (audio) {
        if (audio.voice) {
          const fileId = getFileId(FileType.VoiceNote);
          const voice = constructVoice(document, audio, serializeFileId(fileId), toUniqueFileId(fileId));
          m = { ...messageMedia, voice };
        } else {
          const fileId = getFileId(FileType.Audio);
          const audio_ = constructAudio(document, audio, serializeFileId(fileId), toUniqueFileId(fileId));
          m = { ...messageMedia, audio: audio_ };
        }
      } else if (sticker) {
        const fileId = getFileId(FileType.Sticker);
        const sticker2 = await constructSticker(document, serializeFileId(fileId), toUniqueFileId(fileId), getStickerSetName);
        m = { ...message, sticker: sticker2 };
      } else {
        const fileId = getFileId(FileType.Document);
        const document_ = constructDocument(document, fileName ?? { _: "documentAttributeFilename", file_name: "Unknown" }, serializeFileId(fileId), toUniqueFileId(fileId));
        m = { ...messageMedia, document: document_ };
      }
    }
  } else if (telegram_exports.is("messageMediaContact", message_.media)) {
    const contact = constructContact(message_.media);
    m = { ...messageMedia, contact };
  } else if (telegram_exports.is("messageMediaGame", message_.media)) {
    const game = constructGame(message_.media);
    m = { ...message, game };
  } else if (telegram_exports.is("messageMediaPoll", message_.media)) {
    if (poll) {
      message_.media.poll = poll;
    }
    if (pollResults) {
      message_.media.results = pollResults;
    }
    const poll_ = constructPoll(message_.media);
    m = { ...message, poll: poll_ };
  } else if (telegram_exports.is("messageMediaVenue", message_.media)) {
    const venue = constructVenue(message_.media);
    m = { ...message, venue };
  } else if (telegram_exports.is("messageMediaGeo", message_.media) || telegram_exports.is("messageMediaGeoLive", message_.media)) {
    const location2 = constructLocation(message_.media);
    m = { ...message, location: location2 };
  } else if (telegram_exports.is("messageMediaWebPage", message_.media)) {
    const linkPreview = constructLinkPreview(message_.media, message_.invert_media, getPeer2);
    if (message_.message) {
      m = { ...messageText, linkPreview };
    } else {
      m = { ...message, linkPreview: { ...linkPreview, url: linkPreview.url ? linkPreview.url : unreachable() } };
    }
  } else if (telegram_exports.is("messageMediaGiveaway", message_.media)) {
    const giveaway = constructGiveaway(message_.media);
    m = { ...message, giveaway };
  } else if (telegram_exports.is("messageMediaInvoice", message_.media)) {
    const invoice = constructInvoice(message_.media);
    m = { ...message, invoice };
  }
  if (m === null) {
    const unsupported = true;
    m = { ...message, unsupported };
  }
  return cleanObject(m);
}

// types/7_callback_query.ts
var ERR_INVALID_INLINE_MESSAGE_ID = new InputError("Invalid inline message ID");
async function deserializeInlineMessageId(inlineMessageId) {
  try {
    const buffer = base64DecodeUrlSafe(inlineMessageId);
    const object = await telegram_exports.deserializeType("InputBotInlineMessageID", buffer);
    if (telegram_exports.is("inputBotInlineMessageID64", object) || telegram_exports.is("inputBotInlineMessageID", object)) {
      return object;
    }
  } catch {
    throw ERR_INVALID_INLINE_MESSAGE_ID;
  }
  throw ERR_INVALID_INLINE_MESSAGE_ID;
}
async function constructCallbackQuery(callbackQuery, getPeer2, getMessage) {
  const peer = getPeer2({ _: "peerUser", user_id: callbackQuery.user_id });
  if (!peer) {
    unreachable();
  }
  const user = constructUser2(peer[0]);
  const id5 = String(callbackQuery.query_id);
  const gameShortName = callbackQuery.game_short_name;
  const data = callbackQuery.data !== void 0 ? decodeText(callbackQuery.data) : void 0;
  const chatInstance = callbackQuery.chat_instance === 0n ? "" : String(callbackQuery.chat_instance);
  if (telegram_exports.is("updateBotCallbackQuery", callbackQuery)) {
    const message = await getMessage(telegram_exports.peerToChatId(callbackQuery.peer), Number(callbackQuery.msg_id));
    if (message === null) {
      unreachable();
    }
    return cleanObject({ id: id5, from: user, message, chatInstance, data, gameShortName });
  } else {
    return cleanObject({ id: id5, from: user, inlineMessageId: base64EncodeUrlSafe(telegram_exports.serializeObject(callbackQuery.msg_id)), chatInstance, data, gameShortName });
  }
}

// types/7_chat_list_item.ts
function getChatListItemOrder(lastMessage, pinned) {
  const p = pinned === -1 ? "" : `P${100 - pinned}`;
  if (!lastMessage) {
    return p + "0";
  }
  return p + String((BigInt(Math.floor(lastMessage.date)) << 32n) + BigInt(lastMessage.id));
}
async function constructChatListItem(chatId, pinned, lastMessageId, getPeer2, getMessage) {
  const peer = getPeer2(telegram_exports.chatIdToPeer(chatId));
  if (peer === null) {
    return null;
  }
  const lastMessage_ = lastMessageId > 0 ? await getMessage(chatId, lastMessageId) : null;
  const lastMessage = lastMessage_ === null ? void 0 : lastMessage_;
  return cleanObject({
    chat: peer[0],
    order: getChatListItemOrder(lastMessage, pinned),
    pinned,
    lastMessage
  });
}
function constructChatListItem2(entity, pinned, lastMessage) {
  return cleanObject({
    chat: constructChatP(entity),
    order: getChatListItemOrder(lastMessage, pinned),
    pinned,
    lastMessage
  });
}
function constructChatListItem3(chatId, pinned, lastMessage, getPeer2) {
  const chat = getPeer2(telegram_exports.chatIdToPeer(chatId));
  if (chat === null) {
    return null;
  }
  return cleanObject({
    chat: chat[0],
    order: getChatListItemOrder(lastMessage, pinned),
    pinned,
    lastMessage
  });
}
async function constructChatListItem4(dialog, dialogs, pinnedChats, getPeer2, getMessage, getStickerSetName) {
  const topMessage_ = dialogs.messages.find((v) => "id" in v && v.id === dialog.top_message);
  if (!topMessage_) {
    unreachable();
  }
  const pinned = pinnedChats.indexOf(telegram_exports.peerToChatId(dialog.peer));
  const lastMessage = await constructMessage(topMessage_, getPeer2, getMessage, getStickerSetName, false);
  const order = getChatListItemOrder(lastMessage, pinned);
  const userId = "user_id" in dialog.peer ? dialog.peer.user_id : null;
  const chatId = "chat_id" in dialog.peer ? dialog.peer.chat_id : null;
  const channelId = "channel_id" in dialog.peer ? dialog.peer.channel_id : null;
  const chat__ = chatId !== null ? dialogs.chats.find((v) => telegram_exports.is("chat", v) && v.id === chatId) : channelId !== null ? dialogs.chats.find((v) => telegram_exports.isOneOf(["channel", "channelForbidden"], v) && v.id === channelId) : userId !== null ? dialogs.users.find((v) => telegram_exports.is("user", v) && v.id === userId) : unreachable();
  if (!chat__) {
    unreachable();
  }
  return cleanObject({
    chat: constructChatP(chat__),
    order,
    lastMessage,
    pinned
  });
}

// types/7_inline_query_result.ts
function constructInlineQueryResult(result) {
  const id5 = result.id, title = result.title ?? "", type = result.type, description = result.description;
  if (telegram_exports.is("botInlineMessageMediaGeo", result.send_message)) {
    const geoPoint = result.send_message.geo;
    return cleanObject({
      type: "location",
      id: id5,
      title,
      latitude: geoPoint.lat,
      longitude: geoPoint.long,
      horizontalAccuracy: geoPoint.accuracy_radius,
      livePeriod: result.send_message.period,
      heading: result.send_message.heading,
      proximityAlertRadius: result.send_message.proximity_notification_radius
    });
  } else if (telegram_exports.is("botInlineMessageMediaVenue", result.send_message)) {
    const geoPoint = result.send_message.geo;
    return cleanObject({
      type: "venue",
      id: id5,
      title,
      latitude: geoPoint.lat,
      longitude: geoPoint.long,
      address: result.send_message.address,
      foursquareId: result.send_message.venue_id,
      foursquareType: result.send_message.venue_type
    });
  } else if (telegram_exports.is("botInlineMessageMediaWebPage", result.send_message) || telegram_exports.is("botInlineMessageText", result.send_message)) {
    return cleanObject({
      type: "article",
      id: id5,
      title,
      description,
      messageContent: cleanObject({
        type: "text",
        text: result.send_message.message,
        entities: (result.send_message.entities ?? []).map(constructMessageEntity).filter((v) => v !== null),
        linkPreview: telegram_exports.is("botInlineMessageMediaWebPage", result.send_message) ? { type: "unknown", id: "", url: result.send_message.url, mediaSize: result.send_message.force_large_media ? "large" : "small", isAboveText: result.send_message.invert_media ?? false } : void 0
      }),
      replyMarkup: result.send_message.reply_markup ? constructReplyMarkup(result.send_message.reply_markup) : void 0
    });
  } else if (telegram_exports.is("botInlineMessageMediaAuto", result.send_message)) {
    let ref;
    let attributes;
    const thumbnailUrl = "thumb" in result ? result.thumb?.url : void 0;
    let photoSizes;
    let photo;
    if (telegram_exports.is("botInlineMediaResult", result)) {
      if (result.photo) {
        photo = telegram_exports.as("photo", result.photo);
        ref = { fileId: getPhotoFileId(photo).fileId };
        const { largest } = photoSizes = getPhotoSizes(photo);
        attributes = [{ _: "documentAttributeImageSize", w: largest.w, h: largest.h }];
      } else if (result.document) {
        const document = telegram_exports.as("document", result.document);
        ref = {
          fileId: serializeFileId(
            {
              type: FileType.Document,
              dcId: document.dc_id,
              fileReference: document.file_reference,
              location: { type: "common", id: document.id, accessHash: document.access_hash }
            }
          )
        };
        attributes = document.attributes;
      } else {
        unreachable();
      }
    } else if (result.content) {
      ref = { url: result.content.url };
      attributes = result.content.attributes;
    } else {
      unreachable();
    }
    const messageContent = result.send_message.message ? {
      type: "text",
      text: result.send_message.message,
      entities: (result.send_message.entities ?? []).map(constructMessageEntity).filter((v) => v !== null)
    } : void 0;
    const replyMarkup = result.send_message.reply_markup ? constructReplyMarkup(result.send_message.reply_markup) : void 0;
    switch (type) {
      case "audio": {
        const a = attributes?.find((v) => telegram_exports.is("documentAttributeAudio", v));
        return cleanObject({
          id: id5,
          type,
          title,
          ...ref,
          messageContent,
          replyMarkup,
          performer: a?.performer,
          audioDuration: a?.duration
        });
      }
      case "gif":
      case "mpeg4Gif": {
        const a = attributes.find((v) => telegram_exports.is("documentAttributeVideo", v));
        return cleanObject({
          id: id5,
          type,
          title,
          ...ref,
          messageContent,
          replyMarkup,
          thumbnailUrl,
          width: a?.w,
          height: a?.h,
          duration: a?.duration
        });
      }
      case "photo": {
        const a = attributes.find((v) => telegram_exports.is("documentAttributeImageSize", v));
        return cleanObject({
          id: id5,
          type,
          title,
          description,
          ...ref,
          messageContent,
          replyMarkup,
          thumbnailUrl,
          thumbnails: photo ? photoSizes?.sizes.slice(0, -1).map((v) => constructThumbnail(v, photo)) : void 0,
          width: a?.w,
          height: a?.h
        });
      }
      case "video": {
        const a = attributes.find((v) => telegram_exports.is("documentAttributeVideo", v));
        return cleanObject({
          id: id5,
          type,
          title,
          description,
          ...ref,
          messageContent,
          replyMarkup,
          mimeType: "content" in result && result.content ? result.content.mime_type : "video/mp4",
          thumbnailUrl,
          width: a?.w,
          height: a?.h,
          videoDuration: a?.duration
        });
      }
      case "voice": {
        const a = attributes.find((v) => telegram_exports.is("documentAttributeAudio", v));
        return cleanObject({
          id: id5,
          type,
          title,
          ...ref,
          messageContent,
          replyMarkup,
          thumbnailUrl,
          voiceDuration: a?.duration
        });
      }
      case "document":
      case "file":
        return cleanObject({
          type: "document",
          id: id5,
          title: result.title ?? "",
          ...ref,
          messageContent,
          replyMarkup,
          thumbnailUrl
        });
    }
  }
  unreachable();
}
async function inlineQueryResultToTlObject(result_, parseText, usernameResolver) {
  let document = null;
  let thumb = null;
  let fileId_ = null;
  switch (result_.type) {
    case "audio":
      if ("url" in result_) {
        document = {
          _: "inputWebDocument",
          url: result_.url,
          size: 0,
          mime_type: "audio/mpeg",
          attributes: [
            { _: "documentAttributeAudio", duration: result_.audioDuration ?? 0, title: result_.title, performer: result_.performer }
          ]
        };
      } else {
        fileId_ = result_.fileId;
      }
      break;
    case "video":
      if ("url" in result_) {
        document = {
          _: "inputWebDocument",
          url: result_.url,
          size: 0,
          mime_type: result_.mimeType ?? "video/mp4",
          attributes: [
            { _: "documentAttributeVideo", duration: result_.videoDuration ?? 0, h: result_.height ?? 0, w: result_.width ?? 0 }
          ]
        };
      } else {
        fileId_ = result_.fileId;
      }
      break;
    case "document":
      if ("url" in result_) {
        document = { _: "inputWebDocument", url: result_.url, mime_type: "application/octet-stream", attributes: [], size: 0 };
      } else {
        fileId_ = result_.fileId;
      }
      break;
    case "gif":
      if ("url" in result_) {
        document = {
          _: "inputWebDocument",
          url: result_.url,
          size: 0,
          mime_type: "image/gif",
          attributes: [
            { _: "documentAttributeVideo", duration: result_.duration ?? 0, w: result_.width ?? 0, h: result_.height ?? 0 }
          ]
        };
      } else {
        fileId_ = result_.fileId;
      }
      break;
    case "mpeg4Gif":
      if ("url" in result_) {
        document = {
          _: "inputWebDocument",
          url: result_.url,
          size: 0,
          mime_type: "video/mp4",
          attributes: [
            { _: "documentAttributeVideo", nosound: true, duration: result_.duration ?? 0, w: result_.width ?? 0, h: result_.height ?? 0, supports_streaming: true }
          ]
        };
      } else {
        fileId_ = result_.fileId;
      }
      break;
    case "photo":
      if ("url" in result_) {
        document = { _: "inputWebDocument", url: result_.url, size: 0, mime_type: "image/jpeg", attributes: [{ _: "documentAttributeImageSize", w: result_.width ?? 0, h: result_.height ?? 0 }] };
      } else {
        fileId_ = result_.fileId;
      }
      break;
    case "sticker":
      fileId_ = result_.fileId;
      break;
    case "voice":
      if ("url" in result_) {
        document = {
          _: "inputWebDocument",
          url: result_.url,
          size: 0,
          mime_type: "audio/mpeg",
          attributes: [
            { _: "documentAttributeAudio", duration: result_.voiceDuration ?? 0, voice: true }
          ]
        };
      } else {
        fileId_ = result_.fileId;
      }
      break;
  }
  const replyMarkup = "replyMarkup" in result_ && result_.replyMarkup ? await replyMarkupToTlObject(result_.replyMarkup, usernameResolver) : void 0;
  if ("thumbnailUrl" in result_ && result_.thumbnailUrl) {
    thumb = { _: "inputWebDocument", url: result_.thumbnailUrl, size: 0, mime_type: "image/jpeg", attributes: [] };
  } else if (result_.type === "photo") {
    thumb = document;
  }
  let ret = ["", []];
  if ("caption" in result_ && result_.caption) {
    ret = await parseText(result_.caption, { parseMode: result_.parseMode, entities: result_.captionEntities });
  }
  const { type, id: id5 } = result_;
  const [message, entities] = ret;
  const sendMessage = { _: "inputBotInlineMessageMediaAuto", message, entities, reply_markup: replyMarkup };
  const title = "title" in result_ ? result_.title : void 0;
  const description = "description" in result_ ? result_.description : void 0;
  if (document !== null) {
    return { _: "inputBotInlineResult", id: id5, type, title, description, thumb: thumb === null ? void 0 : thumb, content: document, send_message: { _: "inputBotInlineMessageMediaAuto", message, entities, reply_markup: replyMarkup } };
  } else if (fileId_ !== null) {
    const fileId = deserializeFileId(fileId_);
    return {
      _: "inputBotInlineResultDocument",
      id: id5,
      type: type === "document" ? "file" : type,
      title,
      description,
      document: {
        _: "inputDocument",
        id: "id" in fileId.location ? fileId.location.id : unreachable(),
        access_hash: fileId.location.accessHash,
        file_reference: fileId.fileReference ?? new Uint8Array()
      },
      send_message: sendMessage
    };
  } else if (result_.type === "location") {
    return { _: "inputBotInlineResult", id: id5, type, title, description, thumb: thumb === null ? void 0 : thumb, send_message: { _: "inputBotInlineMessageMediaGeo", geo_point: { _: "inputGeoPoint", lat: result_.latitude, long: result_.longitude, accuracy_radius: result_.horizontalAccuracy }, heading: result_.heading, period: result_.livePeriod, proximity_notification_radius: result_.proximityAlertRadius, reply_markup: replyMarkup } };
  } else if (result_.type === "game") {
    return { _: "inputBotInlineResult", id: id5, type, title, description, thumb: thumb === null ? void 0 : thumb, send_message: { _: "inputBotInlineMessageGame", reply_markup: replyMarkup } };
  } else if (result_.type === "article") {
    if (!("text" in result_.messageContent)) {
      unreachable();
    }
    const [message2, entities2] = await parseText(result_.messageContent.text, { entities: result_.messageContent.entities, parseMode: result_.messageContent.parseMode });
    const noWebpage = result_.messageContent?.linkPreview && result_.messageContent?.linkPreview.type === "input" && result_.messageContent?.linkPreview.disable ? true : void 0;
    const invertMedia = result_.messageContent?.linkPreview?.isAboveText ? true : void 0;
    let sendMessage2;
    if (result_.messageContent.linkPreview?.url) {
      sendMessage2 = { _: "inputBotInlineMessageMediaWebPage", url: result_.messageContent.linkPreview.url, force_large_media: result_.messageContent.linkPreview.mediaSize === "large" ? true : void 0, force_small_media: result_.messageContent.linkPreview.mediaSize === "small" ? true : void 0, optional: message2.length ? void 0 : true, message: message2, entities: entities2, invert_media: invertMedia, reply_markup: replyMarkup };
    } else {
      sendMessage2 = { _: "inputBotInlineMessageText", message: message2, entities: entities2, no_webpage: noWebpage, invert_media: invertMedia, reply_markup: replyMarkup };
    }
    return { _: "inputBotInlineResult", id: id5, type, title, description, thumb: thumb === null ? void 0 : thumb, send_message: sendMessage2 };
  } else if (result_.type === "venue") {
    if (!result_.foursquareId || !result_.foursquareType) {
      unreachable();
    }
    return { _: "inputBotInlineResult", id: id5, type, title, description, thumb: thumb === null ? void 0 : thumb, send_message: { _: "inputBotInlineMessageMediaVenue", geo_point: { _: "inputGeoPoint", long: result_.longitude, lat: result_.latitude }, address: result_.address, provider: "foursquare", title: result_.title, venue_id: result_.foursquareId, venue_type: result_.foursquareType, reply_markup: replyMarkup } };
  } else {
    unreachable();
  }
}

// types/7_saved_chat.ts
async function constructSavedChat(dialog, result, getPeer2, getMessage, getStickerSetName) {
  const message = result.messages.find((v) => v.id === dialog.top_message);
  if (message === void 0) {
    unreachable();
  }
  const dialogId = peerToChatId(dialog.peer);
  const chat_ = (dialog.peer._ === "peerUser" ? result.users : result.chats).find((v) => peerToChatId(v) === dialogId);
  if (chat_ === void 0) {
    unreachable();
  }
  const chat = constructChatP(chat_);
  const lastMessage = await constructMessage(message, getPeer2, getMessage, getStickerSetName, false);
  const pinned = "pinned" in dialog ? !!dialog.pinned : false;
  return {
    chat,
    lastMessage,
    isPinned: pinned
  };
}

// types/7_topic.ts
function constructTopic(message) {
  let forumTopicCreated;
  let forumTopicEdited;
  if ("forumTopicCreated" in message) {
    forumTopicCreated = message;
  } else if (message.replyToMessage && "forumTopicCreated" in message.replyToMessage) {
    forumTopicCreated = message.replyToMessage;
  } else {
    unreachable();
  }
  if ("forumTopicEdited" in message) {
    forumTopicEdited = message;
  }
  const id5 = forumTopicCreated.id;
  const date = forumTopicCreated.date;
  const creator = forumTopicCreated.from ? forumTopicCreated.from : message.from;
  const isGeneral = forumTopicCreated.id === 1;
  const isClosed = false;
  const isHidden = false;
  let name = forumTopicCreated.forumTopicCreated.name;
  const color = forumTopicCreated.forumTopicCreated.color;
  let customEmoijId = forumTopicCreated.forumTopicCreated.customEmojiId;
  if (forumTopicEdited) {
    name = forumTopicEdited.forumTopicEdited.name;
    customEmoijId = forumTopicEdited.forumTopicEdited.customEmojiId;
  }
  return cleanObject({
    id: id5,
    date,
    creator,
    isGeneral,
    isClosed,
    isHidden,
    name,
    color,
    customEmoijId
  });
}

// types/8_inline_query_answer.ts
function constructInlineQueryAnswer(results) {
  return cleanObject({
    id: results.query_id + "",
    results: results.results.map(constructInlineQueryResult),
    nextOffset: results.next_offset
  });
}

// types/8_saved_chats.ts
async function constructSavedChats(result, getPeer2, getMessage, getStickerSetName) {
  if (telegram_exports.is("messages.savedDialogsNotModified", result)) {
    unreachable();
  }
  const chats = new Array();
  const total = "count" in result ? result.count : result.dialogs.length;
  for (const dialog of result.dialogs) {
    chats.push(constructSavedChat(dialog, result, getPeer2, getMessage, getStickerSetName));
  }
  return {
    chats: await Promise.all(chats),
    total
  };
}

// 4_constants.ts
var PUBLIC_KEYS = Object.freeze([
  [
    1562291298945373506n,
    [
      23978758553106631992002580305620005835060400692492410830911253690968985161770919571023213268734637655796435779238577529598157303153929847488434262037216243092374262144086701552588446162198373312512977891135864544907383666560742498178155572733831904785232310227644261688873841336264291123806158164086416723396618993440700301670694812377102225720438542027067699276781356881649272759102712053106917756470596037969358935162126553921536961079884698448464480018715128825516337818216719699963463996161433765618041475321701550049005950467552064133935768219696743607832667385715968297285043180567281391541729832333512747963903n,
      0x010001n
    ]
  ],
  [
    -5859577972006586033n,
    [
      22718646979021445086805300267873836551952264292680929983215333222894263271262525404635917732844879510479026727119219632282263022986926715926905675829369119276087034208478103497496557160062032769614235480480336458978483235018994623019124956728706285653879392359295937777480998285327855536342942377483433941973435757959758939732133845114873967169906896837881767555178893700532356888631557478214225236142802178882405660867509208028117895779092487773043163348085906022471454630364430126878252139917614178636934412103623869072904053827933244809215364242885476208852061471203189128281292392955960922615335169478055469443233n,
      0x010001n
    ]
  ],
  [
    6491968696586960280n,
    [
      24037766801008650742980770419085067708599000106468359115503808361335510549334399420739246345211161442047800836519033544747025851693968269285475039555231773313724462564908666239840898204833183290939296455776367417572678362602041185421910456164281750840651140599266716366431221860463163678044675384797103831824697137394559208723253047225996994374103488753637228569081911062604259973219466527532055001206549020539767836549715548081391829906556645384762696840019083743214331245456023666332360278739093925808884746079174665122518196162846505196334513910135812480878181576802670132412681595747104670774040613733524133809153n,
      0x010001n
    ]
  ],
  [
    6427105915145367799n,
    [
      31397816550885835230852157218780061958032265523683168121843010509948800713659136033293079736773570890108359386900507157088426116094690624871733896824903852456886718992868563715191423124852392192384776940880374150924862556483265420429274105533416857995735561007585523057519126772910116492334365011698443015363661211091297809380358424492944309160255944656822953372259436558863685653753335752581293598201573897522965811840624726977678182734005734657974801081161883696567467154361452234673787603576616026939590191461977891577841590473181783600507799709098085844100324450292291634823637124474260102961720620172155279101593n,
      0x010001n
    ]
  ],
  [
    2685959930972952888n,
    [
      26116452836398416979797305072689667731920792444719420894507233217583880016919839198933132831614577761055257601279314443643343829322673079507289288794037776440997114291901674159336092732642632335510805799979810490880123733875085953240308174829572850043815591814961322487356309436839345409265418743385218003844674882350344739294993993718594352763930783186948532591492541249018768829381368348025815240824308999288789287057821939532386904237315176663437974522079590346893012292633393394277518254001578790831900469743479052551168559741017618280316677467349819664126886746238706747395316681794438145749441351286324575707503n,
      0x010001n
    ]
  ],
  [
    -3414540481677951611n,
    [
      29379598170669337022986177149456128565388431120058863768162556424047512191330847455146576344487764408661701890505066208632169112269581063774293102577308490531282748465986139880977280302242772832972539403531316010870401287642763009136156734339538042419388722777357134487746169093539093850251243897188928735903389451772730245253062963384108812842079887538976360465290946139638691491496062099570836476454855996319192747663615955633778034897140982517446405334423701359108810182097749467210509584293428076654573384828809574217079944388301239431309115013843331317877374435868468779972014486325557807783825502498215169806323n,
      0x010001n
    ]
  ],
  [
    -5595554452916591101n,
    [
      25342889448840415564971689590713473206898847759084779052582026594546022463853940585885215951168491965708222649399180603818074200620463776135424884632162512403163793083921641631564740959529419359595852941166848940585952337613333022396096584117954892216031229237302943701877588456738335398602461675225081791820393153757504952636234951323237820036543581047826906120927972487366805292115792231423684261262330394324750785450942589751755390156647751460719351439969059949569615302809050721500330239005077889855323917509948255722081644689442127297605422579707142646660768825302832201908302295573257427896031830742328565032949n,
      0x010001n
    ]
  ]
]);
var INITIAL_DC = "2";
var APP_VERSION = "Techgram";
var DEVICE_MODEL = typeof Deno === "undefined" ? typeof navigator === "undefined" ? typeof process === "undefined" ? "Unknown" : process.platform + "-" + process.arch : navigator.userAgent.split(" ")[0] || "Unknown" : Deno.build.os + "-" + Deno.build.arch;
var LANG_CODE = typeof navigator === "undefined" || typeof navigator.language !== "string" ? "en" : navigator.language.split("-")[0];
var LANG_PACK = "";
var SYSTEM_LANG_CODE = LANG_CODE;
var SYSTEM_VERSION = typeof navigator === "undefined" ? typeof process === "undefined" ? "Unknown" : "Node.js/" + process.versions.node : navigator.userAgent;
var USERNAME_TTL = 86400;
var STICKER_SET_NAME_TTL = 172800;
var MAX_CHAT_ID = 999999999999;
var MAX_CHANNEL_ID = 997852516352;
var CHANNEL_DIFFERENCE_LIMIT_USER = 100;
var CHANNEL_DIFFERENCE_LIMIT_BOT = 1e5;
var DOWNLOAD_MAX_CHUNK_SIZE = 1 * megabyte;

// 4_errors.ts
var errors_exports = {};
__export(errors_exports, {
  AboutTooLong: () => AboutTooLong,
  AccessError: () => AccessError,
  AccessTokenExpired: () => AccessTokenExpired,
  AccessTokenInvalid: () => AccessTokenInvalid,
  ActiveUserRequired: () => ActiveUserRequired,
  AdminIdInvalid: () => AdminIdInvalid,
  AdminRankEmojiNotAllowed: () => AdminRankEmojiNotAllowed,
  AdminRankInvalid: () => AdminRankInvalid,
  AdminsTooMuch: () => AdminsTooMuch,
  AlbumPhotosTooMany: () => AlbumPhotosTooMany,
  ApiIdInvalid: () => ApiIdInvalid,
  ApiIdPublishedFlood: () => ApiIdPublishedFlood,
  ArticleTitleEmpty: () => ArticleTitleEmpty,
  AudioContentUrlEmpty: () => AudioContentUrlEmpty,
  AudioTitleEmpty: () => AudioTitleEmpty,
  AuthBytesInvalid: () => AuthBytesInvalid,
  AuthKeyDuplicated: () => AuthKeyDuplicated,
  AuthKeyInvalid: () => AuthKeyInvalid,
  AuthKeyPermEmpty: () => AuthKeyPermEmpty,
  AuthKeyUnregistered: () => AuthKeyUnregistered,
  AuthRestart: () => AuthRestart,
  AuthTokenAlreadyAccepted: () => AuthTokenAlreadyAccepted,
  AuthTokenException: () => AuthTokenException,
  AuthTokenExpired: () => AuthTokenExpired,
  AuthTokenInvalid: () => AuthTokenInvalid,
  AutoarchiveNotAvailable: () => AutoarchiveNotAvailable,
  BankCardNumberInvalid: () => BankCardNumberInvalid,
  BannedRightsInvalid: () => BannedRightsInvalid,
  BasePortLocInvalid: () => BasePortLocInvalid,
  BotChannelsNa: () => BotChannelsNa,
  BotCommandDescriptionInvalid: () => BotCommandDescriptionInvalid,
  BotCommandInvalid: () => BotCommandInvalid,
  BotDomainInvalid: () => BotDomainInvalid,
  BotGamesDisabled: () => BotGamesDisabled,
  BotGroupsBlocked: () => BotGroupsBlocked,
  BotInlineDisabled: () => BotInlineDisabled,
  BotInvalid: () => BotInvalid,
  BotMethodInvalid: () => BotMethodInvalid,
  BotMissing: () => BotMissing,
  BotOnesideNotAvail: () => BotOnesideNotAvail,
  BotPaymentsDisabled: () => BotPaymentsDisabled,
  BotPollsDisabled: () => BotPollsDisabled,
  BotResponseTimeout: () => BotResponseTimeout,
  BotScoreNotModified: () => BotScoreNotModified,
  BotsTooMuch: () => BotsTooMuch,
  BroadcastCallsDisabled: () => BroadcastCallsDisabled,
  BroadcastForbidden: () => BroadcastForbidden,
  BroadcastIdInvalid: () => BroadcastIdInvalid,
  BroadcastPublicVotersForbidden: () => BroadcastPublicVotersForbidden,
  BroadcastRequired: () => BroadcastRequired,
  ButtonDataInvalid: () => ButtonDataInvalid,
  ButtonTextInvalid: () => ButtonTextInvalid,
  ButtonTypeInvalid: () => ButtonTypeInvalid,
  ButtonUrlInvalid: () => ButtonUrlInvalid,
  ButtonUserPrivacyRestricted: () => ButtonUserPrivacyRestricted,
  CallAlreadyAccepted: () => CallAlreadyAccepted,
  CallAlreadyDeclined: () => CallAlreadyDeclined,
  CallOccupyFailed: () => CallOccupyFailed,
  CallPeerInvalid: () => CallPeerInvalid,
  CallProtocolFlagsInvalid: () => CallProtocolFlagsInvalid,
  CdnMethodInvalid: () => CdnMethodInvalid,
  CdnUploadTimeout: () => CdnUploadTimeout,
  ChannelBanned: () => ChannelBanned,
  ChannelForumMissing: () => ChannelForumMissing,
  ChannelIdInvalid: () => ChannelIdInvalid,
  ChannelInvalid: () => ChannelInvalid,
  ChannelParicipantMissing: () => ChannelParicipantMissing,
  ChannelPrivate: () => ChannelPrivate,
  ChannelPublicGroupNa: () => ChannelPublicGroupNa,
  ChannelTooBig: () => ChannelTooBig,
  ChannelTooLarge: () => ChannelTooLarge,
  ChannelsAdminLocatedTooMuch: () => ChannelsAdminLocatedTooMuch,
  ChannelsAdminPublicTooMuch: () => ChannelsAdminPublicTooMuch,
  ChannelsTooMuch: () => ChannelsTooMuch,
  ChatAboutNotModified: () => ChatAboutNotModified,
  ChatAboutTooLong: () => ChatAboutTooLong,
  ChatAdminInviteRequired: () => ChatAdminInviteRequired,
  ChatAdminRequired: () => ChatAdminRequired,
  ChatDiscussionUnallowed: () => ChatDiscussionUnallowed,
  ChatForbidden: () => ChatForbidden,
  ChatForwardsRestricted: () => ChatForwardsRestricted,
  ChatGetFailed: () => ChatGetFailed,
  ChatGuestSendForbidden: () => ChatGuestSendForbidden,
  ChatIdEmpty: () => ChatIdEmpty,
  ChatIdGenerateFailed: () => ChatIdGenerateFailed,
  ChatIdInvalid: () => ChatIdInvalid,
  ChatInvalid: () => ChatInvalid,
  ChatInvitePermanent: () => ChatInvitePermanent,
  ChatLinkExists: () => ChatLinkExists,
  ChatNotModified: () => ChatNotModified,
  ChatRestricted: () => ChatRestricted,
  ChatRevokeDateUnsupported: () => ChatRevokeDateUnsupported,
  ChatSendGameForbidden: () => ChatSendGameForbidden,
  ChatSendGifsForbidden: () => ChatSendGifsForbidden,
  ChatSendInlineForbidden: () => ChatSendInlineForbidden,
  ChatSendMediaForbidden: () => ChatSendMediaForbidden,
  ChatSendPollForbidden: () => ChatSendPollForbidden,
  ChatSendStickersForbidden: () => ChatSendStickersForbidden,
  ChatTitleEmpty: () => ChatTitleEmpty,
  ChatTooBig: () => ChatTooBig,
  ChatWriteForbidden: () => ChatWriteForbidden,
  ChpCallFail: () => ChpCallFail,
  CodeEmpty: () => CodeEmpty,
  CodeHashInvalid: () => CodeHashInvalid,
  CodeInvalid: () => CodeInvalid,
  ConnectionApiIdInvalid: () => ConnectionApiIdInvalid,
  ConnectionAppVersionEmpty: () => ConnectionAppVersionEmpty,
  ConnectionDeviceModelEmpty: () => ConnectionDeviceModelEmpty,
  ConnectionError: () => ConnectionError,
  ConnectionLangPackInvalid: () => ConnectionLangPackInvalid,
  ConnectionLayerInvalid: () => ConnectionLayerInvalid,
  ConnectionNotInited: () => ConnectionNotInited,
  ConnectionSystemEmpty: () => ConnectionSystemEmpty,
  ConnectionSystemLangCodeEmpty: () => ConnectionSystemLangCodeEmpty,
  ContactAddMissing: () => ContactAddMissing,
  ContactIdInvalid: () => ContactIdInvalid,
  ContactNameEmpty: () => ContactNameEmpty,
  ContactReqMissing: () => ContactReqMissing,
  CreateCallFailed: () => CreateCallFailed,
  CurrencyTotalAmountInvalid: () => CurrencyTotalAmountInvalid,
  DataInvalid: () => DataInvalid,
  DataJsonInvalid: () => DataJsonInvalid,
  DataTooLong: () => DataTooLong,
  DateEmpty: () => DateEmpty,
  DcIdInvalid: () => DcIdInvalid,
  DhGAInvalid: () => DhGAInvalid,
  DocumentInvalid: () => DocumentInvalid,
  EditBotInviteForbidden: () => EditBotInviteForbidden,
  EmailHashExpired: () => EmailHashExpired,
  EmailInvalid: () => EmailInvalid,
  EmailUnconfirmed: () => EmailUnconfirmed,
  EmailVerifyExpired: () => EmailVerifyExpired,
  EmojiInvalid: () => EmojiInvalid,
  EmojiNotModified: () => EmojiNotModified,
  EmoticonEmpty: () => EmoticonEmpty,
  EmoticonInvalid: () => EmoticonInvalid,
  EmoticonStickerpackMissing: () => EmoticonStickerpackMissing,
  EncryptedMessageInvalid: () => EncryptedMessageInvalid,
  EncryptionAlreadyAccepted: () => EncryptionAlreadyAccepted,
  EncryptionAlreadyDeclined: () => EncryptionAlreadyDeclined,
  EncryptionDeclined: () => EncryptionDeclined,
  EncryptionIdInvalid: () => EncryptionIdInvalid,
  EncryptionOccupyFailed: () => EncryptionOccupyFailed,
  EntitiesTooLong: () => EntitiesTooLong,
  EntityBoundsInvalid: () => EntityBoundsInvalid,
  EntityMentionUserInvalid: () => EntityMentionUserInvalid,
  ErrorTextEmpty: () => ErrorTextEmpty,
  ExpireDateInvalid: () => ExpireDateInvalid,
  ExpireForbidden: () => ExpireForbidden,
  ExportCardInvalid: () => ExportCardInvalid,
  ExternalUrlInvalid: () => ExternalUrlInvalid,
  FieldNameEmpty: () => FieldNameEmpty,
  FieldNameInvalid: () => FieldNameInvalid,
  FileContentTypeInvalid: () => FileContentTypeInvalid,
  FileEmtpy: () => FileEmtpy,
  FileIdInvalid: () => FileIdInvalid,
  FileMigrate: () => FileMigrate,
  FilePartEmpty: () => FilePartEmpty,
  FilePartInvalid: () => FilePartInvalid,
  FilePartLengthInvalid: () => FilePartLengthInvalid,
  FilePartSizeChanged: () => FilePartSizeChanged,
  FilePartSizeInvalid: () => FilePartSizeInvalid,
  FilePartTooBig: () => FilePartTooBig,
  FilePartXMissing: () => FilePartXMissing,
  FilePart_0Missing: () => FilePart_0Missing,
  FilePartsInvalid: () => FilePartsInvalid,
  FileReferenceEmpty: () => FileReferenceEmpty,
  FileReferenceExpired: () => FileReferenceExpired,
  FileReferenceInvalid: () => FileReferenceInvalid,
  FileTitleEmpty: () => FileTitleEmpty,
  FilerefUpgradeNeeded: () => FilerefUpgradeNeeded,
  FilterIdInvalid: () => FilterIdInvalid,
  FilterIncludeEmpty: () => FilterIncludeEmpty,
  FilterNotSupported: () => FilterNotSupported,
  FilterTitleEmpty: () => FilterTitleEmpty,
  FirstnameInvalid: () => FirstnameInvalid,
  FloodWait: () => FloodWait,
  FolderIdEmpty: () => FolderIdEmpty,
  FolderIdInvalid: () => FolderIdInvalid,
  FreshChangeAdminsForbidden: () => FreshChangeAdminsForbidden,
  FreshChangePhoneForbidden: () => FreshChangePhoneForbidden,
  FreshResetAuthorisationForbidden: () => FreshResetAuthorisationForbidden,
  FromMessageBotDisabled: () => FromMessageBotDisabled,
  FromPeerInvalid: () => FromPeerInvalid,
  GameBotInvalid: () => GameBotInvalid,
  GeoPointInvalid: () => GeoPointInvalid,
  GifContentTypeInvalid: () => GifContentTypeInvalid,
  GifIdInvalid: () => GifIdInvalid,
  GraphExpiredReload: () => GraphExpiredReload,
  GraphInvalidReload: () => GraphInvalidReload,
  GraphOutdatedReload: () => GraphOutdatedReload,
  GroupCallInvalid: () => GroupCallInvalid,
  GroupcallAddParticipantsFailed: () => GroupcallAddParticipantsFailed,
  GroupcallAlreadyDiscarded: () => GroupcallAlreadyDiscarded,
  GroupcallAlreadyStarted: () => GroupcallAlreadyStarted,
  GroupcallForbidden: () => GroupcallForbidden,
  GroupcallInvalid: () => GroupcallInvalid,
  GroupcallJoinMissing: () => GroupcallJoinMissing,
  GroupcallNotModified: () => GroupcallNotModified,
  GroupcallSsrcDuplicateMuch: () => GroupcallSsrcDuplicateMuch,
  GroupedMediaInvalid: () => GroupedMediaInvalid,
  HashInvalid: () => HashInvalid,
  HideRequesterMissing: () => HideRequesterMissing,
  HistoryGetFailed: () => HistoryGetFailed,
  ImageProcessFailed: () => ImageProcessFailed,
  ImportFileInvalid: () => ImportFileInvalid,
  ImportFormatUnrecognized: () => ImportFormatUnrecognized,
  ImportIdInvalid: () => ImportIdInvalid,
  InlineBotRequired: () => InlineBotRequired,
  InlineResultExpired: () => InlineResultExpired,
  InputConstructorInvalid: () => InputConstructorInvalid,
  InputError: () => InputError,
  InputFetchError: () => InputFetchError,
  InputFetchFail: () => InputFetchFail,
  InputFilterInvalid: () => InputFilterInvalid,
  InputLayerInvalid: () => InputLayerInvalid,
  InputMethodInvalid: () => InputMethodInvalid,
  InputRequestTooLong: () => InputRequestTooLong,
  InputTextEmpty: () => InputTextEmpty,
  InputUserDeactivated: () => InputUserDeactivated,
  InterdcXCallError: () => InterdcXCallError,
  InterdcXCallRichError: () => InterdcXCallRichError,
  InviteForbiddenWithJoinas: () => InviteForbiddenWithJoinas,
  InviteHashEmpty: () => InviteHashEmpty,
  InviteHashExpired: () => InviteHashExpired,
  InviteHashInvalid: () => InviteHashInvalid,
  InviteRequestSent: () => InviteRequestSent,
  InviteRevokedMissing: () => InviteRevokedMissing,
  InvoicePayloadInvalid: () => InvoicePayloadInvalid,
  JoinAsPeerInvalid: () => JoinAsPeerInvalid,
  LangCodeInvalid: () => LangCodeInvalid,
  LangCodeNotSupported: () => LangCodeNotSupported,
  LangPackInvalid: () => LangPackInvalid,
  LastnameInvalid: () => LastnameInvalid,
  LimitInvalid: () => LimitInvalid,
  LinkNotModified: () => LinkNotModified,
  LocationInvalid: () => LocationInvalid,
  MaxDateInvalid: () => MaxDateInvalid,
  MaxIdInvalid: () => MaxIdInvalid,
  MaxQtsInvalid: () => MaxQtsInvalid,
  Md5ChecksumInvalid: () => Md5ChecksumInvalid,
  MediaCaptionTooLong: () => MediaCaptionTooLong,
  MediaEmpty: () => MediaEmpty,
  MediaGroupedInvalid: () => MediaGroupedInvalid,
  MediaInvalid: () => MediaInvalid,
  MediaNewInvalid: () => MediaNewInvalid,
  MediaPrevInvalid: () => MediaPrevInvalid,
  MediaTtlInvalid: () => MediaTtlInvalid,
  MegagroupIdInvalid: () => MegagroupIdInvalid,
  MegagroupPrehistoryHidden: () => MegagroupPrehistoryHidden,
  MegagroupRequired: () => MegagroupRequired,
  MemberNoLocation: () => MemberNoLocation,
  MemberOccupyPrimaryLocFailed: () => MemberOccupyPrimaryLocFailed,
  MessageAuthorRequired: () => MessageAuthorRequired,
  MessageDeleteForbidden: () => MessageDeleteForbidden,
  MessageEditTimeExpired: () => MessageEditTimeExpired,
  MessageEmpty: () => MessageEmpty,
  MessageIdInvalid: () => MessageIdInvalid,
  MessageIdsEmpty: () => MessageIdsEmpty,
  MessageNotModified: () => MessageNotModified,
  MessagePollClosed: () => MessagePollClosed,
  MessageTooLong: () => MessageTooLong,
  MethodInvalid: () => MethodInvalid,
  Migrate: () => Migrate,
  MinDateInvalid: () => MinDateInvalid,
  MsgIdInvalid: () => MsgIdInvalid,
  MsgTooOld: () => MsgTooOld,
  MsgWaitFailed: () => MsgWaitFailed,
  MsgidDecreaseRetry: () => MsgidDecreaseRetry,
  MtSendQueueTooLong: () => MtSendQueueTooLong,
  MultiMediaTooLong: () => MultiMediaTooLong,
  NeedChatInvalid: () => NeedChatInvalid,
  NeedMemberInvalid: () => NeedMemberInvalid,
  NewSaltInvalid: () => NewSaltInvalid,
  NewSettingsEmpty: () => NewSettingsEmpty,
  NewSettingsInvalid: () => NewSettingsInvalid,
  NextOffsetInvalid: () => NextOffsetInvalid,
  NotAllowed: () => NotAllowed,
  OffsetInvalid: () => OffsetInvalid,
  OffsetPeerIdInvalid: () => OffsetPeerIdInvalid,
  OptionInvalid: () => OptionInvalid,
  OptionsTooMuch: () => OptionsTooMuch,
  PackShortNameInvalid: () => PackShortNameInvalid,
  PackShortNameOccupied: () => PackShortNameOccupied,
  PackTitleInvalid: () => PackTitleInvalid,
  ParticipantCallFailed: () => ParticipantCallFailed,
  ParticipantIdInvalid: () => ParticipantIdInvalid,
  ParticipantJoinMissing: () => ParticipantJoinMissing,
  ParticipantVersionOutdated: () => ParticipantVersionOutdated,
  ParticipantsTooFew: () => ParticipantsTooFew,
  PasswordEmpty: () => PasswordEmpty,
  PasswordHashInvalid: () => PasswordHashInvalid,
  PasswordMissing: () => PasswordMissing,
  PasswordRecoveryExpired: () => PasswordRecoveryExpired,
  PasswordRecoveryNa: () => PasswordRecoveryNa,
  PasswordRequired: () => PasswordRequired,
  PaymentProviderInvalid: () => PaymentProviderInvalid,
  PeerFlood: () => PeerFlood,
  PeerHistoryEmpty: () => PeerHistoryEmpty,
  PeerIdInvalid: () => PeerIdInvalid,
  PeerIdNotSupported: () => PeerIdNotSupported,
  PersistentTimestampEmpty: () => PersistentTimestampEmpty,
  PersistentTimestampInvalid: () => PersistentTimestampInvalid,
  PersistentTimestampOutdated: () => PersistentTimestampOutdated,
  PhoneCodeEmpty: () => PhoneCodeEmpty,
  PhoneCodeExpired: () => PhoneCodeExpired,
  PhoneCodeHashEmpty: () => PhoneCodeHashEmpty,
  PhoneCodeInvalid: () => PhoneCodeInvalid,
  PhoneHashExpired: () => PhoneHashExpired,
  PhoneMigrate: () => PhoneMigrate,
  PhoneNotOccupied: () => PhoneNotOccupied,
  PhoneNumberAppSignupForbidden: () => PhoneNumberAppSignupForbidden,
  PhoneNumberBanned: () => PhoneNumberBanned,
  PhoneNumberFlood: () => PhoneNumberFlood,
  PhoneNumberInvalid: () => PhoneNumberInvalid,
  PhoneNumberOccupied: () => PhoneNumberOccupied,
  PhoneNumberUnoccupied: () => PhoneNumberUnoccupied,
  PhonePasswordFlood: () => PhonePasswordFlood,
  PhonePasswordProtected: () => PhonePasswordProtected,
  PhotoContentTypeInvalid: () => PhotoContentTypeInvalid,
  PhotoContentUrlEmpty: () => PhotoContentUrlEmpty,
  PhotoCropFileMissing: () => PhotoCropFileMissing,
  PhotoCropSizeSmall: () => PhotoCropSizeSmall,
  PhotoExtInvalid: () => PhotoExtInvalid,
  PhotoFileMissing: () => PhotoFileMissing,
  PhotoIdInvalid: () => PhotoIdInvalid,
  PhotoInvalid: () => PhotoInvalid,
  PhotoInvalidDimensions: () => PhotoInvalidDimensions,
  PhotoSaveFileInvalid: () => PhotoSaveFileInvalid,
  PhotoThumbUrlEmpty: () => PhotoThumbUrlEmpty,
  PinRestricted: () => PinRestricted,
  PinnedDialogsTooMuch: () => PinnedDialogsTooMuch,
  PollAnswerInvalid: () => PollAnswerInvalid,
  PollAnswersInvalid: () => PollAnswersInvalid,
  PollOptionDuplicate: () => PollOptionDuplicate,
  PollOptionInvalid: () => PollOptionInvalid,
  PollQuestionInvalid: () => PollQuestionInvalid,
  PollUnsupported: () => PollUnsupported,
  PollVoteRequired: () => PollVoteRequired,
  PostponedTimeout: () => PostponedTimeout,
  PremiumAccountRequired: () => PremiumAccountRequired,
  PremiumCurrentlyUnavailable: () => PremiumCurrentlyUnavailable,
  PreviousChatImportActiveWaitXmin: () => PreviousChatImportActiveWaitXmin,
  PrivacyKeyInvalid: () => PrivacyKeyInvalid,
  PrivacyTooLong: () => PrivacyTooLong,
  PrivacyValueInvalid: () => PrivacyValueInvalid,
  PtsChangeEmpty: () => PtsChangeEmpty,
  PublicChannelMissing: () => PublicChannelMissing,
  PublicKeyRequired: () => PublicKeyRequired,
  QueryIdEmpty: () => QueryIdEmpty,
  QueryIdInvalid: () => QueryIdInvalid,
  QueryTooShort: () => QueryTooShort,
  QuizAnswerMissing: () => QuizAnswerMissing,
  QuizCorrectAnswerInvalid: () => QuizCorrectAnswerInvalid,
  QuizCorrectAnswersEmpty: () => QuizCorrectAnswersEmpty,
  QuizCorrectAnswersTooMuch: () => QuizCorrectAnswersTooMuch,
  QuizMultipleInvalid: () => QuizMultipleInvalid,
  RandomIdDuplicate: () => RandomIdDuplicate,
  RandomIdEmpty: () => RandomIdEmpty,
  RandomIdInvalid: () => RandomIdInvalid,
  RandomLengthInvalid: () => RandomLengthInvalid,
  RangesInvalid: () => RangesInvalid,
  ReactionEmpty: () => ReactionEmpty,
  ReactionInvalid: () => ReactionInvalid,
  ReactionsTooMany: () => ReactionsTooMany,
  ReflectorNotAvailable: () => ReflectorNotAvailable,
  RegIdGenerateFailed: () => RegIdGenerateFailed,
  ReplyMarkupBuyEmpty: () => ReplyMarkupBuyEmpty,
  ReplyMarkupGameEmpty: () => ReplyMarkupGameEmpty,
  ReplyMarkupInvalid: () => ReplyMarkupInvalid,
  ReplyMarkupTooLong: () => ReplyMarkupTooLong,
  ResetRequestMissing: () => ResetRequestMissing,
  ResultIdDuplicate: () => ResultIdDuplicate,
  ResultIdEmpty: () => ResultIdEmpty,
  ResultIdInvalid: () => ResultIdInvalid,
  ResultTypeInvalid: () => ResultTypeInvalid,
  ResultsTooMuch: () => ResultsTooMuch,
  RevoteNotAllowed: () => RevoteNotAllowed,
  RightForbidden: () => RightForbidden,
  RightsNotModified: () => RightsNotModified,
  RpcCallFail: () => RpcCallFail,
  RpcMcgetFail: () => RpcMcgetFail,
  RsaDecryptFailed: () => RsaDecryptFailed,
  ScheduleBotNotAllowed: () => ScheduleBotNotAllowed,
  ScheduleDateInvalid: () => ScheduleDateInvalid,
  ScheduleDateTooLate: () => ScheduleDateTooLate,
  ScheduleStatusPrivate: () => ScheduleStatusPrivate,
  ScheduleTooMuch: () => ScheduleTooMuch,
  ScoreInvalid: () => ScoreInvalid,
  SearchQueryEmpty: () => SearchQueryEmpty,
  SearchWithLinkNotSupported: () => SearchWithLinkNotSupported,
  SecondsInvalid: () => SecondsInvalid,
  SendAsPeerInvalid: () => SendAsPeerInvalid,
  SendCodeUnavailable: () => SendCodeUnavailable,
  SendMessageMediaInvalid: () => SendMessageMediaInvalid,
  SendMessageTypeInvalid: () => SendMessageTypeInvalid,
  SensitiveChangeForbidden: () => SensitiveChangeForbidden,
  SessionExpired: () => SessionExpired,
  SessionPasswordNeeded: () => SessionPasswordNeeded,
  SessionRevoked: () => SessionRevoked,
  SettingsInvalid: () => SettingsInvalid,
  Sha256HashInvalid: () => Sha256HashInvalid,
  ShortNameInvalid: () => ShortNameInvalid,
  ShortNameOccupied: () => ShortNameOccupied,
  ShortnameOccupyFailed: () => ShortnameOccupyFailed,
  SignInFailed: () => SignInFailed,
  SlowmodeMultiMsgsDisabled: () => SlowmodeMultiMsgsDisabled,
  SmsCodeCreateFailed: () => SmsCodeCreateFailed,
  SrpIdInvalid: () => SrpIdInvalid,
  SrpPasswordChanged: () => SrpPasswordChanged,
  StartParamEmpty: () => StartParamEmpty,
  StartParamInvalid: () => StartParamInvalid,
  StartParamTooLong: () => StartParamTooLong,
  StatsMigrate: () => StatsMigrate,
  StickerDocumentInvalid: () => StickerDocumentInvalid,
  StickerEmojiInvalid: () => StickerEmojiInvalid,
  StickerFileInvalid: () => StickerFileInvalid,
  StickerGifDimensions: () => StickerGifDimensions,
  StickerIdInvalid: () => StickerIdInvalid,
  StickerInvalid: () => StickerInvalid,
  StickerMimeInvalid: () => StickerMimeInvalid,
  StickerPngDimensions: () => StickerPngDimensions,
  StickerPngNopng: () => StickerPngNopng,
  StickerTgsNodoc: () => StickerTgsNodoc,
  StickerTgsNotgs: () => StickerTgsNotgs,
  StickerThumbPngNopng: () => StickerThumbPngNopng,
  StickerThumbTgsNotgs: () => StickerThumbTgsNotgs,
  StickerVideoBig: () => StickerVideoBig,
  StickerVideoNodoc: () => StickerVideoNodoc,
  StickerVideoNowebm: () => StickerVideoNowebm,
  StickerpackStickersTooMuch: () => StickerpackStickersTooMuch,
  StickersEmpty: () => StickersEmpty,
  StickersTooMuch: () => StickersTooMuch,
  StickersetInvalid: () => StickersetInvalid,
  StickersetOwnerAnonymous: () => StickersetOwnerAnonymous,
  StorageCheckFailed: () => StorageCheckFailed,
  StoreInvalidScalarType: () => StoreInvalidScalarType,
  SwitchPmTextEmpty: () => SwitchPmTextEmpty,
  TLError: () => TLError,
  TakeoutInvalid: () => TakeoutInvalid,
  TakeoutRequired: () => TakeoutRequired,
  TechgramError: () => TechgramError,
  TelegramError: () => TelegramError,
  TempAuthKeyAlreadyBound: () => TempAuthKeyAlreadyBound,
  TempAuthKeyEmpty: () => TempAuthKeyEmpty,
  ThemeFileInvalid: () => ThemeFileInvalid,
  ThemeFormatInvalid: () => ThemeFormatInvalid,
  ThemeInvalid: () => ThemeInvalid,
  ThemeMimeInvalid: () => ThemeMimeInvalid,
  ThemeTitleInvalid: () => ThemeTitleInvalid,
  TimeTooBig: () => TimeTooBig,
  TimeTooSmall: () => TimeTooSmall,
  Timedout: () => Timedout,
  Timeout: () => Timeout,
  TitleInvalid: () => TitleInvalid,
  TmpPasswordDisabled: () => TmpPasswordDisabled,
  TmpPasswordInvalid: () => TmpPasswordInvalid,
  ToLangInvalid: () => ToLangInvalid,
  TokenInvalid: () => TokenInvalid,
  TopicDeleted: () => TopicDeleted,
  TransportError: () => TransportError,
  TtlDaysInvalid: () => TtlDaysInvalid,
  TtlMediaInvalid: () => TtlMediaInvalid,
  TtlPeriodInvalid: () => TtlPeriodInvalid,
  TypeConstructorInvalid: () => TypeConstructorInvalid,
  TypesEmpty: () => TypesEmpty,
  UnknownError: () => UnknownError,
  UnknownMethod: () => UnknownMethod,
  UntilDateInvalid: () => UntilDateInvalid,
  UpdateAppToLogin: () => UpdateAppToLogin,
  UrlInvalid: () => UrlInvalid,
  UsageLimitInvalid: () => UsageLimitInvalid,
  UserAdminInvalid: () => UserAdminInvalid,
  UserAlreadyInvited: () => UserAlreadyInvited,
  UserAlreadyParticipant: () => UserAlreadyParticipant,
  UserBannedInChannel: () => UserBannedInChannel,
  UserBlocked: () => UserBlocked,
  UserBot: () => UserBot,
  UserBotInvalid: () => UserBotInvalid,
  UserBotRequired: () => UserBotRequired,
  UserChannelsTooMuch: () => UserChannelsTooMuch,
  UserCreator: () => UserCreator,
  UserDeactivated: () => UserDeactivated,
  UserDeactivatedBan: () => UserDeactivatedBan,
  UserDeleted: () => UserDeleted,
  UserIdInvalid: () => UserIdInvalid,
  UserInvalid: () => UserInvalid,
  UserIsBlocked: () => UserIsBlocked,
  UserIsBot: () => UserIsBot,
  UserKicked: () => UserKicked,
  UserMigrate: () => UserMigrate,
  UserNotMutualContact: () => UserNotMutualContact,
  UserNotParticipant: () => UserNotParticipant,
  UserPrivacyRestricted: () => UserPrivacyRestricted,
  UserRestricted: () => UserRestricted,
  UserVolumeInvalid: () => UserVolumeInvalid,
  UsernameInvalid: () => UsernameInvalid,
  UsernameNotModified: () => UsernameNotModified,
  UsernameNotOccupied: () => UsernameNotOccupied,
  UsernameOccupied: () => UsernameOccupied,
  UsernamePurchaseAvailable: () => UsernamePurchaseAvailable,
  UserpicPrivacyRequired: () => UserpicPrivacyRequired,
  UserpicUploadRequired: () => UserpicUploadRequired,
  UsersTooFew: () => UsersTooFew,
  UsersTooMuch: () => UsersTooMuch,
  VideoContentTypeInvalid: () => VideoContentTypeInvalid,
  VideoFileInvalid: () => VideoFileInvalid,
  VideoTitleEmpty: () => VideoTitleEmpty,
  VoiceMessagesForbidden: () => VoiceMessagesForbidden,
  WallpaperFileInvalid: () => WallpaperFileInvalid,
  WallpaperInvalid: () => WallpaperInvalid,
  WallpaperMimeInvalid: () => WallpaperMimeInvalid,
  WcConvertUrlInvalid: () => WcConvertUrlInvalid,
  WebdocumentInvalid: () => WebdocumentInvalid,
  WebdocumentMimeInvalid: () => WebdocumentMimeInvalid,
  WebdocumentSizeTooBig: () => WebdocumentSizeTooBig,
  WebdocumentUrlInvalid: () => WebdocumentUrlInvalid,
  WebpageCurlFailed: () => WebpageCurlFailed,
  WebpageMediaEmpty: () => WebpageMediaEmpty,
  WebpushAuthInvalid: () => WebpushAuthInvalid,
  WebpushKeyInvalid: () => WebpushKeyInvalid,
  WebpushTokenInvalid: () => WebpushTokenInvalid,
  WorkerBusyTooLongRetry: () => WorkerBusyTooLongRetry,
  YouBlockedUser: () => YouBlockedUser,
  constructTelegramError: () => constructTelegramError,
  map: () => map
});

// 3_errors.ts
var TelegramError = class extends TechgramError {
  errorCode;
  errorMessage;
  constructor(params) {
    super(`${params.error_code}: ${params.error_message} (${repr(params.call)})`);
    this.name = "TelegramError";
    this.errorCode = params.error_code;
    this.errorMessage = params.error_message;
    this.cause = params.call;
  }
};
var AboutTooLong = class extends TelegramError {
};
var AccessTokenExpired = class extends TelegramError {
};
var AccessTokenInvalid = class extends TelegramError {
};
var ActiveUserRequired = class extends TelegramError {
};
var AdminsTooMuch = class extends TelegramError {
};
var AdminIdInvalid = class extends TelegramError {
};
var AdminRankEmojiNotAllowed = class extends TelegramError {
};
var AdminRankInvalid = class extends TelegramError {
};
var AlbumPhotosTooMany = class extends TelegramError {
};
var ApiIdInvalid = class extends TelegramError {
};
var ApiIdPublishedFlood = class extends TelegramError {
};
var ArticleTitleEmpty = class extends TelegramError {
};
var AudioContentUrlEmpty = class extends TelegramError {
};
var AudioTitleEmpty = class extends TelegramError {
};
var AuthBytesInvalid = class extends TelegramError {
};
var AuthKeyDuplicated = class extends TelegramError {
};
var AuthKeyInvalid = class extends TelegramError {
};
var AuthKeyPermEmpty = class extends TelegramError {
};
var AuthKeyUnregistered = class extends TelegramError {
};
var AuthRestart = class extends TelegramError {
};
var AuthTokenAlreadyAccepted = class extends TelegramError {
};
var AuthTokenException = class extends TelegramError {
};
var AuthTokenExpired = class extends TelegramError {
};
var AuthTokenInvalid = class extends TelegramError {
};
var AutoarchiveNotAvailable = class extends TelegramError {
};
var BankCardNumberInvalid = class extends TelegramError {
};
var BannedRightsInvalid = class extends TelegramError {
};
var BasePortLocInvalid = class extends TelegramError {
};
var BotsTooMuch = class extends TelegramError {
};
var BotChannelsNa = class extends TelegramError {
};
var BotCommandDescriptionInvalid = class extends TelegramError {
};
var BotCommandInvalid = class extends TelegramError {
};
var BotDomainInvalid = class extends TelegramError {
};
var BotGamesDisabled = class extends TelegramError {
};
var BotGroupsBlocked = class extends TelegramError {
};
var BotInlineDisabled = class extends TelegramError {
};
var BotInvalid = class extends TelegramError {
};
var BotMethodInvalid = class extends TelegramError {
};
var BotMissing = class extends TelegramError {
};
var BotOnesideNotAvail = class extends TelegramError {
};
var BotPaymentsDisabled = class extends TelegramError {
};
var BotPollsDisabled = class extends TelegramError {
};
var BotResponseTimeout = class extends TelegramError {
};
var BotScoreNotModified = class extends TelegramError {
};
var BroadcastCallsDisabled = class extends TelegramError {
};
var BroadcastForbidden = class extends TelegramError {
};
var BroadcastIdInvalid = class extends TelegramError {
};
var BroadcastPublicVotersForbidden = class extends TelegramError {
};
var BroadcastRequired = class extends TelegramError {
};
var ButtonDataInvalid = class extends TelegramError {
};
var ButtonTextInvalid = class extends TelegramError {
};
var ButtonTypeInvalid = class extends TelegramError {
};
var ButtonUrlInvalid = class extends TelegramError {
};
var ButtonUserPrivacyRestricted = class extends TelegramError {
};
var CallAlreadyAccepted = class extends TelegramError {
};
var CallAlreadyDeclined = class extends TelegramError {
};
var CallOccupyFailed = class extends TelegramError {
};
var CallPeerInvalid = class extends TelegramError {
};
var CallProtocolFlagsInvalid = class extends TelegramError {
};
var CdnMethodInvalid = class extends TelegramError {
};
var CdnUploadTimeout = class extends TelegramError {
};
var ChannelsAdminLocatedTooMuch = class extends TelegramError {
};
var ChannelsAdminPublicTooMuch = class extends TelegramError {
};
var ChannelsTooMuch = class extends TelegramError {
};
var ChannelBanned = class extends TelegramError {
};
var ChannelForumMissing = class extends TelegramError {
};
var ChannelIdInvalid = class extends TelegramError {
};
var ChannelInvalid = class extends TelegramError {
};
var ChannelParicipantMissing = class extends TelegramError {
};
var ChannelPrivate = class extends TelegramError {
};
var ChannelPublicGroupNa = class extends TelegramError {
};
var ChannelTooBig = class extends TelegramError {
};
var ChannelTooLarge = class extends TelegramError {
};
var ChatAboutNotModified = class extends TelegramError {
};
var ChatAboutTooLong = class extends TelegramError {
};
var ChatAdminInviteRequired = class extends TelegramError {
};
var ChatAdminRequired = class extends TelegramError {
};
var ChatDiscussionUnallowed = class extends TelegramError {
};
var ChatForbidden = class extends TelegramError {
};
var ChatForwardsRestricted = class extends TelegramError {
};
var ChatGetFailed = class extends TelegramError {
};
var ChatGuestSendForbidden = class extends TelegramError {
};
var ChatIdEmpty = class extends TelegramError {
};
var ChatIdGenerateFailed = class extends TelegramError {
};
var ChatIdInvalid = class extends TelegramError {
};
var ChatInvalid = class extends TelegramError {
};
var ChatInvitePermanent = class extends TelegramError {
};
var ChatLinkExists = class extends TelegramError {
};
var ChatNotModified = class extends TelegramError {
};
var ChatRestricted = class extends TelegramError {
};
var ChatRevokeDateUnsupported = class extends TelegramError {
};
var ChatSendGameForbidden = class extends TelegramError {
};
var ChatSendGifsForbidden = class extends TelegramError {
};
var ChatSendInlineForbidden = class extends TelegramError {
};
var ChatSendMediaForbidden = class extends TelegramError {
};
var ChatSendPollForbidden = class extends TelegramError {
};
var ChatSendStickersForbidden = class extends TelegramError {
};
var ChatTitleEmpty = class extends TelegramError {
};
var ChatTooBig = class extends TelegramError {
};
var ChatWriteForbidden = class extends TelegramError {
};
var ChpCallFail = class extends TelegramError {
};
var CodeEmpty = class extends TelegramError {
};
var CodeHashInvalid = class extends TelegramError {
};
var CodeInvalid = class extends TelegramError {
};
var ConnectionApiIdInvalid = class extends TelegramError {
};
var ConnectionAppVersionEmpty = class extends TelegramError {
};
var ConnectionDeviceModelEmpty = class extends TelegramError {
};
var ConnectionLangPackInvalid = class extends TelegramError {
};
var ConnectionLayerInvalid = class extends TelegramError {
};
var ConnectionNotInited = class extends TelegramError {
};
var ConnectionSystemEmpty = class extends TelegramError {
};
var ConnectionSystemLangCodeEmpty = class extends TelegramError {
};
var ContactAddMissing = class extends TelegramError {
};
var ContactIdInvalid = class extends TelegramError {
};
var ContactNameEmpty = class extends TelegramError {
};
var ContactReqMissing = class extends TelegramError {
};
var CreateCallFailed = class extends TelegramError {
};
var CurrencyTotalAmountInvalid = class extends TelegramError {
};
var DataInvalid = class extends TelegramError {
};
var DataJsonInvalid = class extends TelegramError {
};
var DataTooLong = class extends TelegramError {
};
var DateEmpty = class extends TelegramError {
};
var DcIdInvalid = class extends TelegramError {
};
var DhGAInvalid = class extends TelegramError {
};
var DocumentInvalid = class extends TelegramError {
};
var EditBotInviteForbidden = class extends TelegramError {
};
var EmailHashExpired = class extends TelegramError {
};
var EmailInvalid = class extends TelegramError {
};
var EmailUnconfirmed = class extends TelegramError {
};
var EmailVerifyExpired = class extends TelegramError {
};
var EmojiInvalid = class extends TelegramError {
};
var EmojiNotModified = class extends TelegramError {
};
var EmoticonEmpty = class extends TelegramError {
};
var EmoticonInvalid = class extends TelegramError {
};
var EmoticonStickerpackMissing = class extends TelegramError {
};
var EncryptedMessageInvalid = class extends TelegramError {
};
var EncryptionAlreadyAccepted = class extends TelegramError {
};
var EncryptionAlreadyDeclined = class extends TelegramError {
};
var EncryptionDeclined = class extends TelegramError {
};
var EncryptionIdInvalid = class extends TelegramError {
};
var EncryptionOccupyFailed = class extends TelegramError {
};
var EntitiesTooLong = class extends TelegramError {
};
var EntityBoundsInvalid = class extends TelegramError {
};
var EntityMentionUserInvalid = class extends TelegramError {
};
var ErrorTextEmpty = class extends TelegramError {
};
var ExpireDateInvalid = class extends TelegramError {
};
var ExpireForbidden = class extends TelegramError {
};
var ExportCardInvalid = class extends TelegramError {
};
var ExternalUrlInvalid = class extends TelegramError {
};
var FieldNameEmpty = class extends TelegramError {
};
var FieldNameInvalid = class extends TelegramError {
};
var FilerefUpgradeNeeded = class extends TelegramError {
};
var FileContentTypeInvalid = class extends TelegramError {
};
var FileEmtpy = class extends TelegramError {
};
var FileIdInvalid = class extends TelegramError {
};
var FilePartsInvalid = class extends TelegramError {
};
var FilePart_0Missing = class extends TelegramError {
};
var FilePartEmpty = class extends TelegramError {
};
var FilePartInvalid = class extends TelegramError {
};
var FilePartLengthInvalid = class extends TelegramError {
};
var FilePartSizeChanged = class extends TelegramError {
};
var FilePartSizeInvalid = class extends TelegramError {
};
var FilePartTooBig = class extends TelegramError {
};
var FilePartXMissing = class extends TelegramError {
};
var FileReferenceEmpty = class extends TelegramError {
};
var FileReferenceExpired = class extends TelegramError {
};
var FileReferenceInvalid = class extends TelegramError {
};
var FileTitleEmpty = class extends TelegramError {
};
var FilterIdInvalid = class extends TelegramError {
};
var FilterIncludeEmpty = class extends TelegramError {
};
var FilterNotSupported = class extends TelegramError {
};
var FilterTitleEmpty = class extends TelegramError {
};
var FirstnameInvalid = class extends TelegramError {
};
var FolderIdEmpty = class extends TelegramError {
};
var FolderIdInvalid = class extends TelegramError {
};
var FreshChangeAdminsForbidden = class extends TelegramError {
};
var FreshChangePhoneForbidden = class extends TelegramError {
};
var FreshResetAuthorisationForbidden = class extends TelegramError {
};
var FromMessageBotDisabled = class extends TelegramError {
};
var FromPeerInvalid = class extends TelegramError {
};
var GameBotInvalid = class extends TelegramError {
};
var GeoPointInvalid = class extends TelegramError {
};
var GifContentTypeInvalid = class extends TelegramError {
};
var GifIdInvalid = class extends TelegramError {
};
var GraphExpiredReload = class extends TelegramError {
};
var GraphInvalidReload = class extends TelegramError {
};
var GraphOutdatedReload = class extends TelegramError {
};
var GroupcallAddParticipantsFailed = class extends TelegramError {
};
var GroupcallAlreadyDiscarded = class extends TelegramError {
};
var GroupcallAlreadyStarted = class extends TelegramError {
};
var GroupcallForbidden = class extends TelegramError {
};
var GroupcallInvalid = class extends TelegramError {
};
var GroupcallJoinMissing = class extends TelegramError {
};
var GroupcallNotModified = class extends TelegramError {
};
var GroupcallSsrcDuplicateMuch = class extends TelegramError {
};
var GroupedMediaInvalid = class extends TelegramError {
};
var GroupCallInvalid = class extends TelegramError {
};
var HashInvalid = class extends TelegramError {
};
var HideRequesterMissing = class extends TelegramError {
};
var HistoryGetFailed = class extends TelegramError {
};
var ImageProcessFailed = class extends TelegramError {
};
var ImportFileInvalid = class extends TelegramError {
};
var ImportFormatUnrecognized = class extends TelegramError {
};
var ImportIdInvalid = class extends TelegramError {
};
var InlineBotRequired = class extends TelegramError {
};
var InlineResultExpired = class extends TelegramError {
};
var InputConstructorInvalid = class extends TelegramError {
};
var InputFetchError = class extends TelegramError {
};
var InputFetchFail = class extends TelegramError {
};
var InputFilterInvalid = class extends TelegramError {
};
var InputLayerInvalid = class extends TelegramError {
};
var InputMethodInvalid = class extends TelegramError {
};
var InputRequestTooLong = class extends TelegramError {
};
var InputTextEmpty = class extends TelegramError {
};
var InputUserDeactivated = class extends TelegramError {
};
var InterdcXCallError = class extends TelegramError {
};
var InterdcXCallRichError = class extends TelegramError {
};
var InviteForbiddenWithJoinas = class extends TelegramError {
};
var InviteHashEmpty = class extends TelegramError {
};
var InviteHashExpired = class extends TelegramError {
};
var InviteHashInvalid = class extends TelegramError {
};
var InviteRequestSent = class extends TelegramError {
};
var InviteRevokedMissing = class extends TelegramError {
};
var InvoicePayloadInvalid = class extends TelegramError {
};
var JoinAsPeerInvalid = class extends TelegramError {
};
var LangCodeInvalid = class extends TelegramError {
};
var LangCodeNotSupported = class extends TelegramError {
};
var LangPackInvalid = class extends TelegramError {
};
var LastnameInvalid = class extends TelegramError {
};
var LimitInvalid = class extends TelegramError {
};
var LinkNotModified = class extends TelegramError {
};
var LocationInvalid = class extends TelegramError {
};
var MaxDateInvalid = class extends TelegramError {
};
var MaxIdInvalid = class extends TelegramError {
};
var MaxQtsInvalid = class extends TelegramError {
};
var Md5ChecksumInvalid = class extends TelegramError {
};
var MediaCaptionTooLong = class extends TelegramError {
};
var MediaEmpty = class extends TelegramError {
};
var MediaGroupedInvalid = class extends TelegramError {
};
var MediaInvalid = class extends TelegramError {
};
var MediaNewInvalid = class extends TelegramError {
};
var MediaPrevInvalid = class extends TelegramError {
};
var MediaTtlInvalid = class extends TelegramError {
};
var MegagroupIdInvalid = class extends TelegramError {
};
var MegagroupPrehistoryHidden = class extends TelegramError {
};
var MegagroupRequired = class extends TelegramError {
};
var MemberNoLocation = class extends TelegramError {
};
var MemberOccupyPrimaryLocFailed = class extends TelegramError {
};
var MessageAuthorRequired = class extends TelegramError {
};
var MessageDeleteForbidden = class extends TelegramError {
};
var MessageEditTimeExpired = class extends TelegramError {
};
var MessageEmpty = class extends TelegramError {
};
var MessageIdsEmpty = class extends TelegramError {
};
var MessageIdInvalid = class extends TelegramError {
};
var MessageNotModified = class extends TelegramError {
};
var MessagePollClosed = class extends TelegramError {
};
var MessageTooLong = class extends TelegramError {
};
var MethodInvalid = class extends TelegramError {
};
var MinDateInvalid = class extends TelegramError {
};
var MsgidDecreaseRetry = class extends TelegramError {
};
var MsgIdInvalid = class extends TelegramError {
};
var MsgTooOld = class extends TelegramError {
};
var MsgWaitFailed = class extends TelegramError {
};
var MtSendQueueTooLong = class extends TelegramError {
};
var MultiMediaTooLong = class extends TelegramError {
};
var NeedChatInvalid = class extends TelegramError {
};
var NeedMemberInvalid = class extends TelegramError {
};
var NewSaltInvalid = class extends TelegramError {
};
var NewSettingsEmpty = class extends TelegramError {
};
var NewSettingsInvalid = class extends TelegramError {
};
var NextOffsetInvalid = class extends TelegramError {
};
var NotAllowed = class extends TelegramError {
};
var OffsetInvalid = class extends TelegramError {
};
var OffsetPeerIdInvalid = class extends TelegramError {
};
var OptionsTooMuch = class extends TelegramError {
};
var OptionInvalid = class extends TelegramError {
};
var PackShortNameInvalid = class extends TelegramError {
};
var PackShortNameOccupied = class extends TelegramError {
};
var PackTitleInvalid = class extends TelegramError {
};
var ParticipantsTooFew = class extends TelegramError {
};
var ParticipantCallFailed = class extends TelegramError {
};
var ParticipantIdInvalid = class extends TelegramError {
};
var ParticipantJoinMissing = class extends TelegramError {
};
var ParticipantVersionOutdated = class extends TelegramError {
};
var PasswordEmpty = class extends TelegramError {
};
var PasswordHashInvalid = class extends TelegramError {
};
var PasswordMissing = class extends TelegramError {
};
var PasswordRecoveryExpired = class extends TelegramError {
};
var PasswordRecoveryNa = class extends TelegramError {
};
var PasswordRequired = class extends TelegramError {
};
var PaymentProviderInvalid = class extends TelegramError {
};
var PeerFlood = class extends TelegramError {
};
var PeerHistoryEmpty = class extends TelegramError {
};
var PeerIdInvalid = class extends TelegramError {
};
var PeerIdNotSupported = class extends TelegramError {
};
var PersistentTimestampEmpty = class extends TelegramError {
};
var PersistentTimestampInvalid = class extends TelegramError {
};
var PersistentTimestampOutdated = class extends TelegramError {
};
var PhoneCodeEmpty = class extends TelegramError {
};
var PhoneCodeExpired = class extends TelegramError {
};
var PhoneCodeHashEmpty = class extends TelegramError {
};
var PhoneCodeInvalid = class extends TelegramError {
};
var PhoneHashExpired = class extends TelegramError {
};
var PhoneNotOccupied = class extends TelegramError {
};
var PhoneNumberAppSignupForbidden = class extends TelegramError {
};
var PhoneNumberBanned = class extends TelegramError {
};
var PhoneNumberFlood = class extends TelegramError {
};
var PhoneNumberInvalid = class extends TelegramError {
};
var PhoneNumberOccupied = class extends TelegramError {
};
var PhoneNumberUnoccupied = class extends TelegramError {
};
var PhonePasswordFlood = class extends TelegramError {
};
var PhonePasswordProtected = class extends TelegramError {
};
var PhotoContentTypeInvalid = class extends TelegramError {
};
var PhotoContentUrlEmpty = class extends TelegramError {
};
var PhotoCropFileMissing = class extends TelegramError {
};
var PhotoCropSizeSmall = class extends TelegramError {
};
var PhotoExtInvalid = class extends TelegramError {
};
var PhotoFileMissing = class extends TelegramError {
};
var PhotoIdInvalid = class extends TelegramError {
};
var PhotoInvalid = class extends TelegramError {
};
var PhotoInvalidDimensions = class extends TelegramError {
};
var PhotoSaveFileInvalid = class extends TelegramError {
};
var PhotoThumbUrlEmpty = class extends TelegramError {
};
var PinnedDialogsTooMuch = class extends TelegramError {
};
var PinRestricted = class extends TelegramError {
};
var PollAnswersInvalid = class extends TelegramError {
};
var PollAnswerInvalid = class extends TelegramError {
};
var PollOptionDuplicate = class extends TelegramError {
};
var PollOptionInvalid = class extends TelegramError {
};
var PollQuestionInvalid = class extends TelegramError {
};
var PollUnsupported = class extends TelegramError {
};
var PollVoteRequired = class extends TelegramError {
};
var PostponedTimeout = class extends TelegramError {
};
var PremiumAccountRequired = class extends TelegramError {
};
var PremiumCurrentlyUnavailable = class extends TelegramError {
};
var PreviousChatImportActiveWaitXmin = class extends TelegramError {
};
var PrivacyKeyInvalid = class extends TelegramError {
};
var PrivacyTooLong = class extends TelegramError {
};
var PrivacyValueInvalid = class extends TelegramError {
};
var PtsChangeEmpty = class extends TelegramError {
};
var PublicChannelMissing = class extends TelegramError {
};
var PublicKeyRequired = class extends TelegramError {
};
var QueryIdEmpty = class extends TelegramError {
};
var QueryIdInvalid = class extends TelegramError {
};
var QueryTooShort = class extends TelegramError {
};
var QuizAnswerMissing = class extends TelegramError {
};
var QuizCorrectAnswersEmpty = class extends TelegramError {
};
var QuizCorrectAnswersTooMuch = class extends TelegramError {
};
var QuizCorrectAnswerInvalid = class extends TelegramError {
};
var QuizMultipleInvalid = class extends TelegramError {
};
var RandomIdDuplicate = class extends TelegramError {
};
var RandomIdEmpty = class extends TelegramError {
};
var RandomIdInvalid = class extends TelegramError {
};
var RandomLengthInvalid = class extends TelegramError {
};
var RangesInvalid = class extends TelegramError {
};
var ReactionsTooMany = class extends TelegramError {
};
var ReactionEmpty = class extends TelegramError {
};
var ReactionInvalid = class extends TelegramError {
};
var ReflectorNotAvailable = class extends TelegramError {
};
var RegIdGenerateFailed = class extends TelegramError {
};
var ReplyMarkupBuyEmpty = class extends TelegramError {
};
var ReplyMarkupGameEmpty = class extends TelegramError {
};
var ReplyMarkupInvalid = class extends TelegramError {
};
var ReplyMarkupTooLong = class extends TelegramError {
};
var ResetRequestMissing = class extends TelegramError {
};
var ResultsTooMuch = class extends TelegramError {
};
var ResultIdDuplicate = class extends TelegramError {
};
var ResultIdEmpty = class extends TelegramError {
};
var ResultIdInvalid = class extends TelegramError {
};
var ResultTypeInvalid = class extends TelegramError {
};
var RevoteNotAllowed = class extends TelegramError {
};
var RightsNotModified = class extends TelegramError {
};
var RightForbidden = class extends TelegramError {
};
var RpcCallFail = class extends TelegramError {
};
var RpcMcgetFail = class extends TelegramError {
};
var RsaDecryptFailed = class extends TelegramError {
};
var ScheduleBotNotAllowed = class extends TelegramError {
};
var ScheduleDateInvalid = class extends TelegramError {
};
var ScheduleDateTooLate = class extends TelegramError {
};
var ScheduleStatusPrivate = class extends TelegramError {
};
var ScheduleTooMuch = class extends TelegramError {
};
var ScoreInvalid = class extends TelegramError {
};
var SearchQueryEmpty = class extends TelegramError {
};
var SearchWithLinkNotSupported = class extends TelegramError {
};
var SecondsInvalid = class extends TelegramError {
};
var SendAsPeerInvalid = class extends TelegramError {
};
var SendCodeUnavailable = class extends TelegramError {
};
var SendMessageMediaInvalid = class extends TelegramError {
};
var SendMessageTypeInvalid = class extends TelegramError {
};
var SensitiveChangeForbidden = class extends TelegramError {
};
var SessionExpired = class extends TelegramError {
};
var SessionPasswordNeeded = class extends TelegramError {
};
var SessionRevoked = class extends TelegramError {
};
var SettingsInvalid = class extends TelegramError {
};
var Sha256HashInvalid = class extends TelegramError {
};
var ShortnameOccupyFailed = class extends TelegramError {
};
var ShortNameInvalid = class extends TelegramError {
};
var ShortNameOccupied = class extends TelegramError {
};
var SignInFailed = class extends TelegramError {
};
var SlowmodeMultiMsgsDisabled = class extends TelegramError {
};
var SmsCodeCreateFailed = class extends TelegramError {
};
var SrpIdInvalid = class extends TelegramError {
};
var SrpPasswordChanged = class extends TelegramError {
};
var StartParamEmpty = class extends TelegramError {
};
var StartParamInvalid = class extends TelegramError {
};
var StartParamTooLong = class extends TelegramError {
};
var StickerpackStickersTooMuch = class extends TelegramError {
};
var StickersetInvalid = class extends TelegramError {
};
var StickersetOwnerAnonymous = class extends TelegramError {
};
var StickersEmpty = class extends TelegramError {
};
var StickersTooMuch = class extends TelegramError {
};
var StickerDocumentInvalid = class extends TelegramError {
};
var StickerEmojiInvalid = class extends TelegramError {
};
var StickerFileInvalid = class extends TelegramError {
};
var StickerGifDimensions = class extends TelegramError {
};
var StickerIdInvalid = class extends TelegramError {
};
var StickerInvalid = class extends TelegramError {
};
var StickerMimeInvalid = class extends TelegramError {
};
var StickerPngDimensions = class extends TelegramError {
};
var StickerPngNopng = class extends TelegramError {
};
var StickerTgsNodoc = class extends TelegramError {
};
var StickerTgsNotgs = class extends TelegramError {
};
var StickerThumbPngNopng = class extends TelegramError {
};
var StickerThumbTgsNotgs = class extends TelegramError {
};
var StickerVideoBig = class extends TelegramError {
};
var StickerVideoNodoc = class extends TelegramError {
};
var StickerVideoNowebm = class extends TelegramError {
};
var StorageCheckFailed = class extends TelegramError {
};
var StoreInvalidScalarType = class extends TelegramError {
};
var SwitchPmTextEmpty = class extends TelegramError {
};
var TakeoutInvalid = class extends TelegramError {
};
var TakeoutRequired = class extends TelegramError {
};
var TempAuthKeyAlreadyBound = class extends TelegramError {
};
var TempAuthKeyEmpty = class extends TelegramError {
};
var ThemeFileInvalid = class extends TelegramError {
};
var ThemeFormatInvalid = class extends TelegramError {
};
var ThemeInvalid = class extends TelegramError {
};
var ThemeMimeInvalid = class extends TelegramError {
};
var ThemeTitleInvalid = class extends TelegramError {
};
var Timeout = class extends TelegramError {
};
var TimeTooBig = class extends TelegramError {
};
var TimeTooSmall = class extends TelegramError {
};
var TitleInvalid = class extends TelegramError {
};
var TmpPasswordDisabled = class extends TelegramError {
};
var TmpPasswordInvalid = class extends TelegramError {
};
var TokenInvalid = class extends TelegramError {
};
var TopicDeleted = class extends TelegramError {
};
var ToLangInvalid = class extends TelegramError {
};
var TtlDaysInvalid = class extends TelegramError {
};
var TtlMediaInvalid = class extends TelegramError {
};
var TtlPeriodInvalid = class extends TelegramError {
};
var TypesEmpty = class extends TelegramError {
};
var TypeConstructorInvalid = class extends TelegramError {
};
var Timedout = class extends TelegramError {
};
var UnknownError = class extends TelegramError {
};
var UnknownMethod = class extends TelegramError {
};
var UntilDateInvalid = class extends TelegramError {
};
var UpdateAppToLogin = class extends TelegramError {
};
var UrlInvalid = class extends TelegramError {
};
var UsageLimitInvalid = class extends TelegramError {
};
var UsernameInvalid = class extends TelegramError {
};
var UsernameNotModified = class extends TelegramError {
};
var UsernameNotOccupied = class extends TelegramError {
};
var UsernameOccupied = class extends TelegramError {
};
var UsernamePurchaseAvailable = class extends TelegramError {
};
var UserpicPrivacyRequired = class extends TelegramError {
};
var UserpicUploadRequired = class extends TelegramError {
};
var UsersTooFew = class extends TelegramError {
};
var UsersTooMuch = class extends TelegramError {
};
var UserAdminInvalid = class extends TelegramError {
};
var UserAlreadyInvited = class extends TelegramError {
};
var UserAlreadyParticipant = class extends TelegramError {
};
var UserBannedInChannel = class extends TelegramError {
};
var UserBlocked = class extends TelegramError {
};
var UserBot = class extends TelegramError {
};
var UserBotInvalid = class extends TelegramError {
};
var UserBotRequired = class extends TelegramError {
};
var UserChannelsTooMuch = class extends TelegramError {
};
var UserCreator = class extends TelegramError {
};
var UserDeactivated = class extends TelegramError {
};
var UserDeactivatedBan = class extends TelegramError {
};
var UserDeleted = class extends TelegramError {
};
var UserIdInvalid = class extends TelegramError {
};
var UserInvalid = class extends TelegramError {
};
var UserIsBlocked = class extends TelegramError {
};
var UserIsBot = class extends TelegramError {
};
var UserKicked = class extends TelegramError {
};
var UserNotMutualContact = class extends TelegramError {
};
var UserNotParticipant = class extends TelegramError {
};
var UserPrivacyRestricted = class extends TelegramError {
};
var UserRestricted = class extends TelegramError {
};
var UserVolumeInvalid = class extends TelegramError {
};
var VideoContentTypeInvalid = class extends TelegramError {
};
var VideoFileInvalid = class extends TelegramError {
};
var VideoTitleEmpty = class extends TelegramError {
};
var VoiceMessagesForbidden = class extends TelegramError {
};
var WallpaperFileInvalid = class extends TelegramError {
};
var WallpaperInvalid = class extends TelegramError {
};
var WallpaperMimeInvalid = class extends TelegramError {
};
var WcConvertUrlInvalid = class extends TelegramError {
};
var WebdocumentInvalid = class extends TelegramError {
};
var WebdocumentMimeInvalid = class extends TelegramError {
};
var WebdocumentSizeTooBig = class extends TelegramError {
};
var WebdocumentUrlInvalid = class extends TelegramError {
};
var WebpageCurlFailed = class extends TelegramError {
};
var WebpageMediaEmpty = class extends TelegramError {
};
var WebpushAuthInvalid = class extends TelegramError {
};
var WebpushKeyInvalid = class extends TelegramError {
};
var WebpushTokenInvalid = class extends TelegramError {
};
var WorkerBusyTooLongRetry = class extends TelegramError {
};
var YouBlockedUser = class extends TelegramError {
};
var map = {
  ABOUT_TOO_LONG: AboutTooLong,
  ACCESS_TOKEN_EXPIRED: AccessTokenExpired,
  ACCESS_TOKEN_INVALID: AccessTokenInvalid,
  ACTIVE_USER_REQUIRED: ActiveUserRequired,
  ADMINS_TOO_MUCH: AdminsTooMuch,
  ADMIN_ID_INVALID: AdminIdInvalid,
  ADMIN_RANK_EMOJI_NOT_ALLOWED: AdminRankEmojiNotAllowed,
  ADMIN_RANK_INVALID: AdminRankInvalid,
  ALBUM_PHOTOS_TOO_MANY: AlbumPhotosTooMany,
  API_ID_INVALID: ApiIdInvalid,
  API_ID_PUBLISHED_FLOOD: ApiIdPublishedFlood,
  ARTICLE_TITLE_EMPTY: ArticleTitleEmpty,
  AUDIO_CONTENT_URL_EMPTY: AudioContentUrlEmpty,
  AUDIO_TITLE_EMPTY: AudioTitleEmpty,
  AUTH_BYTES_INVALID: AuthBytesInvalid,
  AUTH_KEY_DUPLICATED: AuthKeyDuplicated,
  AUTH_KEY_INVALID: AuthKeyInvalid,
  AUTH_KEY_PERM_EMPTY: AuthKeyPermEmpty,
  AUTH_KEY_UNREGISTERED: AuthKeyUnregistered,
  AUTH_RESTART: AuthRestart,
  AUTH_TOKEN_ALREADY_ACCEPTED: AuthTokenAlreadyAccepted,
  AUTH_TOKEN_EXCEPTION: AuthTokenException,
  AUTH_TOKEN_EXPIRED: AuthTokenExpired,
  AUTH_TOKEN_INVALID: AuthTokenInvalid,
  AUTOARCHIVE_NOT_AVAILABLE: AutoarchiveNotAvailable,
  BANK_CARD_NUMBER_INVALID: BankCardNumberInvalid,
  BANNED_RIGHTS_INVALID: BannedRightsInvalid,
  BASE_PORT_LOC_INVALID: BasePortLocInvalid,
  BOTS_TOO_MUCH: BotsTooMuch,
  BOT_CHANNELS_NA: BotChannelsNa,
  BOT_COMMAND_DESCRIPTION_INVALID: BotCommandDescriptionInvalid,
  BOT_COMMAND_INVALID: BotCommandInvalid,
  BOT_DOMAIN_INVALID: BotDomainInvalid,
  BOT_GAMES_DISABLED: BotGamesDisabled,
  BOT_GROUPS_BLOCKED: BotGroupsBlocked,
  BOT_INLINE_DISABLED: BotInlineDisabled,
  BOT_INVALID: BotInvalid,
  BOT_METHOD_INVALID: BotMethodInvalid,
  BOT_MISSING: BotMissing,
  BOT_ONESIDE_NOT_AVAIL: BotOnesideNotAvail,
  BOT_PAYMENTS_DISABLED: BotPaymentsDisabled,
  BOT_POLLS_DISABLED: BotPollsDisabled,
  BOT_RESPONSE_TIMEOUT: BotResponseTimeout,
  BOT_SCORE_NOT_MODIFIED: BotScoreNotModified,
  BROADCAST_CALLS_DISABLED: BroadcastCallsDisabled,
  BROADCAST_FORBIDDEN: BroadcastForbidden,
  BROADCAST_ID_INVALID: BroadcastIdInvalid,
  BROADCAST_PUBLIC_VOTERS_FORBIDDEN: BroadcastPublicVotersForbidden,
  BROADCAST_REQUIRED: BroadcastRequired,
  BUTTON_DATA_INVALID: ButtonDataInvalid,
  BUTTON_TEXT_INVALID: ButtonTextInvalid,
  BUTTON_TYPE_INVALID: ButtonTypeInvalid,
  BUTTON_URL_INVALID: ButtonUrlInvalid,
  BUTTON_USER_PRIVACY_RESTRICTED: ButtonUserPrivacyRestricted,
  CALL_ALREADY_ACCEPTED: CallAlreadyAccepted,
  CALL_ALREADY_DECLINED: CallAlreadyDeclined,
  CALL_OCCUPY_FAILED: CallOccupyFailed,
  CALL_PEER_INVALID: CallPeerInvalid,
  CALL_PROTOCOL_FLAGS_INVALID: CallProtocolFlagsInvalid,
  CDN_METHOD_INVALID: CdnMethodInvalid,
  CDN_UPLOAD_TIMEOUT: CdnUploadTimeout,
  CHANNELS_ADMIN_LOCATED_TOO_MUCH: ChannelsAdminLocatedTooMuch,
  CHANNELS_ADMIN_PUBLIC_TOO_MUCH: ChannelsAdminPublicTooMuch,
  CHANNELS_TOO_MUCH: ChannelsTooMuch,
  CHANNEL_BANNED: ChannelBanned,
  CHANNEL_FORUM_MISSING: ChannelForumMissing,
  CHANNEL_ID_INVALID: ChannelIdInvalid,
  CHANNEL_INVALID: ChannelInvalid,
  CHANNEL_PARICIPANT_MISSING: ChannelParicipantMissing,
  CHANNEL_PRIVATE: ChannelPrivate,
  CHANNEL_PUBLIC_GROUP_NA: ChannelPublicGroupNa,
  CHANNEL_TOO_BIG: ChannelTooBig,
  CHANNEL_TOO_LARGE: ChannelTooLarge,
  CHAT_ABOUT_NOT_MODIFIED: ChatAboutNotModified,
  CHAT_ABOUT_TOO_LONG: ChatAboutTooLong,
  CHAT_ADMIN_INVITE_REQUIRED: ChatAdminInviteRequired,
  CHAT_ADMIN_REQUIRED: ChatAdminRequired,
  CHAT_DISCUSSION_UNALLOWED: ChatDiscussionUnallowed,
  CHAT_FORBIDDEN: ChatForbidden,
  CHAT_FORWARDS_RESTRICTED: ChatForwardsRestricted,
  CHAT_GET_FAILED: ChatGetFailed,
  CHAT_GUEST_SEND_FORBIDDEN: ChatGuestSendForbidden,
  CHAT_ID_EMPTY: ChatIdEmpty,
  CHAT_ID_GENERATE_FAILED: ChatIdGenerateFailed,
  CHAT_ID_INVALID: ChatIdInvalid,
  CHAT_INVALID: ChatInvalid,
  CHAT_INVITE_PERMANENT: ChatInvitePermanent,
  CHAT_LINK_EXISTS: ChatLinkExists,
  CHAT_NOT_MODIFIED: ChatNotModified,
  CHAT_RESTRICTED: ChatRestricted,
  CHAT_REVOKE_DATE_UNSUPPORTED: ChatRevokeDateUnsupported,
  CHAT_SEND_GAME_FORBIDDEN: ChatSendGameForbidden,
  CHAT_SEND_GIFS_FORBIDDEN: ChatSendGifsForbidden,
  CHAT_SEND_INLINE_FORBIDDEN: ChatSendInlineForbidden,
  CHAT_SEND_MEDIA_FORBIDDEN: ChatSendMediaForbidden,
  CHAT_SEND_POLL_FORBIDDEN: ChatSendPollForbidden,
  CHAT_SEND_STICKERS_FORBIDDEN: ChatSendStickersForbidden,
  CHAT_TITLE_EMPTY: ChatTitleEmpty,
  CHAT_TOO_BIG: ChatTooBig,
  CHAT_WRITE_FORBIDDEN: ChatWriteForbidden,
  CHP_CALL_FAIL: ChpCallFail,
  CODE_EMPTY: CodeEmpty,
  CODE_HASH_INVALID: CodeHashInvalid,
  CODE_INVALID: CodeInvalid,
  CONNECTION_API_ID_INVALID: ConnectionApiIdInvalid,
  CONNECTION_APP_VERSION_EMPTY: ConnectionAppVersionEmpty,
  CONNECTION_DEVICE_MODEL_EMPTY: ConnectionDeviceModelEmpty,
  CONNECTION_LANG_PACK_INVALID: ConnectionLangPackInvalid,
  CONNECTION_LAYER_INVALID: ConnectionLayerInvalid,
  CONNECTION_NOT_INITED: ConnectionNotInited,
  CONNECTION_SYSTEM_EMPTY: ConnectionSystemEmpty,
  CONNECTION_SYSTEM_LANG_CODE_EMPTY: ConnectionSystemLangCodeEmpty,
  CONTACT_ADD_MISSING: ContactAddMissing,
  CONTACT_ID_INVALID: ContactIdInvalid,
  CONTACT_NAME_EMPTY: ContactNameEmpty,
  CONTACT_REQ_MISSING: ContactReqMissing,
  CREATE_CALL_FAILED: CreateCallFailed,
  CURRENCY_TOTAL_AMOUNT_INVALID: CurrencyTotalAmountInvalid,
  DATA_INVALID: DataInvalid,
  DATA_JSON_INVALID: DataJsonInvalid,
  DATA_TOO_LONG: DataTooLong,
  DATE_EMPTY: DateEmpty,
  DC_ID_INVALID: DcIdInvalid,
  DH_G_A_INVALID: DhGAInvalid,
  DOCUMENT_INVALID: DocumentInvalid,
  EDIT_BOT_INVITE_FORBIDDEN: EditBotInviteForbidden,
  EMAIL_HASH_EXPIRED: EmailHashExpired,
  EMAIL_INVALID: EmailInvalid,
  EMAIL_UNCONFIRMED: EmailUnconfirmed,
  EMAIL_VERIFY_EXPIRED: EmailVerifyExpired,
  EMOJI_INVALID: EmojiInvalid,
  EMOJI_NOT_MODIFIED: EmojiNotModified,
  EMOTICON_EMPTY: EmoticonEmpty,
  EMOTICON_INVALID: EmoticonInvalid,
  EMOTICON_STICKERPACK_MISSING: EmoticonStickerpackMissing,
  ENCRYPTED_MESSAGE_INVALID: EncryptedMessageInvalid,
  ENCRYPTION_ALREADY_ACCEPTED: EncryptionAlreadyAccepted,
  ENCRYPTION_ALREADY_DECLINED: EncryptionAlreadyDeclined,
  ENCRYPTION_DECLINED: EncryptionDeclined,
  ENCRYPTION_ID_INVALID: EncryptionIdInvalid,
  ENCRYPTION_OCCUPY_FAILED: EncryptionOccupyFailed,
  ENTITIES_TOO_LONG: EntitiesTooLong,
  ENTITY_BOUNDS_INVALID: EntityBoundsInvalid,
  ENTITY_MENTION_USER_INVALID: EntityMentionUserInvalid,
  ERROR_TEXT_EMPTY: ErrorTextEmpty,
  EXPIRE_DATE_INVALID: ExpireDateInvalid,
  EXPIRE_FORBIDDEN: ExpireForbidden,
  EXPORT_CARD_INVALID: ExportCardInvalid,
  EXTERNAL_URL_INVALID: ExternalUrlInvalid,
  FIELD_NAME_EMPTY: FieldNameEmpty,
  FIELD_NAME_INVALID: FieldNameInvalid,
  FILEREF_UPGRADE_NEEDED: FilerefUpgradeNeeded,
  FILE_CONTENT_TYPE_INVALID: FileContentTypeInvalid,
  FILE_EMTPY: FileEmtpy,
  FILE_ID_INVALID: FileIdInvalid,
  FILE_PARTS_INVALID: FilePartsInvalid,
  FILE_PART_0_MISSING: FilePart_0Missing,
  FILE_PART_EMPTY: FilePartEmpty,
  FILE_PART_INVALID: FilePartInvalid,
  FILE_PART_LENGTH_INVALID: FilePartLengthInvalid,
  FILE_PART_SIZE_CHANGED: FilePartSizeChanged,
  FILE_PART_SIZE_INVALID: FilePartSizeInvalid,
  FILE_PART_TOO_BIG: FilePartTooBig,
  FILE_PART_X_MISSING: FilePartXMissing,
  FILE_REFERENCE_EMPTY: FileReferenceEmpty,
  FILE_REFERENCE_EXPIRED: FileReferenceExpired,
  FILE_REFERENCE_INVALID: FileReferenceInvalid,
  FILE_TITLE_EMPTY: FileTitleEmpty,
  FILTER_ID_INVALID: FilterIdInvalid,
  FILTER_INCLUDE_EMPTY: FilterIncludeEmpty,
  FILTER_NOT_SUPPORTED: FilterNotSupported,
  FILTER_TITLE_EMPTY: FilterTitleEmpty,
  FIRSTNAME_INVALID: FirstnameInvalid,
  FOLDER_ID_EMPTY: FolderIdEmpty,
  FOLDER_ID_INVALID: FolderIdInvalid,
  FRESH_CHANGE_ADMINS_FORBIDDEN: FreshChangeAdminsForbidden,
  FRESH_CHANGE_PHONE_FORBIDDEN: FreshChangePhoneForbidden,
  FRESH_RESET_AUTHORISATION_FORBIDDEN: FreshResetAuthorisationForbidden,
  FROM_MESSAGE_BOT_DISABLED: FromMessageBotDisabled,
  FROM_PEER_INVALID: FromPeerInvalid,
  GAME_BOT_INVALID: GameBotInvalid,
  GEO_POINT_INVALID: GeoPointInvalid,
  GIF_CONTENT_TYPE_INVALID: GifContentTypeInvalid,
  GIF_ID_INVALID: GifIdInvalid,
  GRAPH_EXPIRED_RELOAD: GraphExpiredReload,
  GRAPH_INVALID_RELOAD: GraphInvalidReload,
  GRAPH_OUTDATED_RELOAD: GraphOutdatedReload,
  GROUPCALL_ADD_PARTICIPANTS_FAILED: GroupcallAddParticipantsFailed,
  GROUPCALL_ALREADY_DISCARDED: GroupcallAlreadyDiscarded,
  GROUPCALL_ALREADY_STARTED: GroupcallAlreadyStarted,
  GROUPCALL_FORBIDDEN: GroupcallForbidden,
  GROUPCALL_INVALID: GroupcallInvalid,
  GROUPCALL_JOIN_MISSING: GroupcallJoinMissing,
  GROUPCALL_NOT_MODIFIED: GroupcallNotModified,
  GROUPCALL_SSRC_DUPLICATE_MUCH: GroupcallSsrcDuplicateMuch,
  GROUPED_MEDIA_INVALID: GroupedMediaInvalid,
  GROUP_CALL_INVALID: GroupCallInvalid,
  HASH_INVALID: HashInvalid,
  HIDE_REQUESTER_MISSING: HideRequesterMissing,
  HISTORY_GET_FAILED: HistoryGetFailed,
  IMAGE_PROCESS_FAILED: ImageProcessFailed,
  IMPORT_FILE_INVALID: ImportFileInvalid,
  IMPORT_FORMAT_UNRECOGNIZED: ImportFormatUnrecognized,
  IMPORT_ID_INVALID: ImportIdInvalid,
  INLINE_BOT_REQUIRED: InlineBotRequired,
  INLINE_RESULT_EXPIRED: InlineResultExpired,
  INPUT_CONSTRUCTOR_INVALID: InputConstructorInvalid,
  INPUT_FETCH_ERROR: InputFetchError,
  INPUT_FETCH_FAIL: InputFetchFail,
  INPUT_FILTER_INVALID: InputFilterInvalid,
  INPUT_LAYER_INVALID: InputLayerInvalid,
  INPUT_METHOD_INVALID: InputMethodInvalid,
  INPUT_REQUEST_TOO_LONG: InputRequestTooLong,
  INPUT_TEXT_EMPTY: InputTextEmpty,
  INPUT_USER_DEACTIVATED: InputUserDeactivated,
  INTERDC_X_CALL_ERROR: InterdcXCallError,
  INTERDC_X_CALL_RICH_ERROR: InterdcXCallRichError,
  INVITE_FORBIDDEN_WITH_JOINAS: InviteForbiddenWithJoinas,
  INVITE_HASH_EMPTY: InviteHashEmpty,
  INVITE_HASH_EXPIRED: InviteHashExpired,
  INVITE_HASH_INVALID: InviteHashInvalid,
  INVITE_REQUEST_SENT: InviteRequestSent,
  INVITE_REVOKED_MISSING: InviteRevokedMissing,
  INVOICE_PAYLOAD_INVALID: InvoicePayloadInvalid,
  JOIN_AS_PEER_INVALID: JoinAsPeerInvalid,
  LANG_CODE_INVALID: LangCodeInvalid,
  LANG_CODE_NOT_SUPPORTED: LangCodeNotSupported,
  LANG_PACK_INVALID: LangPackInvalid,
  LASTNAME_INVALID: LastnameInvalid,
  LIMIT_INVALID: LimitInvalid,
  LINK_NOT_MODIFIED: LinkNotModified,
  LOCATION_INVALID: LocationInvalid,
  MAX_DATE_INVALID: MaxDateInvalid,
  MAX_ID_INVALID: MaxIdInvalid,
  MAX_QTS_INVALID: MaxQtsInvalid,
  MD5_CHECKSUM_INVALID: Md5ChecksumInvalid,
  MEDIA_CAPTION_TOO_LONG: MediaCaptionTooLong,
  MEDIA_EMPTY: MediaEmpty,
  MEDIA_GROUPED_INVALID: MediaGroupedInvalid,
  MEDIA_INVALID: MediaInvalid,
  MEDIA_NEW_INVALID: MediaNewInvalid,
  MEDIA_PREV_INVALID: MediaPrevInvalid,
  MEDIA_TTL_INVALID: MediaTtlInvalid,
  MEGAGROUP_ID_INVALID: MegagroupIdInvalid,
  MEGAGROUP_PREHISTORY_HIDDEN: MegagroupPrehistoryHidden,
  MEGAGROUP_REQUIRED: MegagroupRequired,
  MEMBER_NO_LOCATION: MemberNoLocation,
  MEMBER_OCCUPY_PRIMARY_LOC_FAILED: MemberOccupyPrimaryLocFailed,
  MESSAGE_AUTHOR_REQUIRED: MessageAuthorRequired,
  MESSAGE_DELETE_FORBIDDEN: MessageDeleteForbidden,
  MESSAGE_EDIT_TIME_EXPIRED: MessageEditTimeExpired,
  MESSAGE_EMPTY: MessageEmpty,
  MESSAGE_IDS_EMPTY: MessageIdsEmpty,
  MESSAGE_ID_INVALID: MessageIdInvalid,
  MESSAGE_NOT_MODIFIED: MessageNotModified,
  MESSAGE_POLL_CLOSED: MessagePollClosed,
  MESSAGE_TOO_LONG: MessageTooLong,
  METHOD_INVALID: MethodInvalid,
  MIN_DATE_INVALID: MinDateInvalid,
  MSGID_DECREASE_RETRY: MsgidDecreaseRetry,
  MSG_ID_INVALID: MsgIdInvalid,
  MSG_TOO_OLD: MsgTooOld,
  MSG_WAIT_FAILED: MsgWaitFailed,
  MT_SEND_QUEUE_TOO_LONG: MtSendQueueTooLong,
  MULTI_MEDIA_TOO_LONG: MultiMediaTooLong,
  NEED_CHAT_INVALID: NeedChatInvalid,
  NEED_MEMBER_INVALID: NeedMemberInvalid,
  NEW_SALT_INVALID: NewSaltInvalid,
  NEW_SETTINGS_EMPTY: NewSettingsEmpty,
  NEW_SETTINGS_INVALID: NewSettingsInvalid,
  NEXT_OFFSET_INVALID: NextOffsetInvalid,
  NOT_ALLOWED: NotAllowed,
  OFFSET_INVALID: OffsetInvalid,
  OFFSET_PEER_ID_INVALID: OffsetPeerIdInvalid,
  OPTIONS_TOO_MUCH: OptionsTooMuch,
  OPTION_INVALID: OptionInvalid,
  PACK_SHORT_NAME_INVALID: PackShortNameInvalid,
  PACK_SHORT_NAME_OCCUPIED: PackShortNameOccupied,
  PACK_TITLE_INVALID: PackTitleInvalid,
  PARTICIPANTS_TOO_FEW: ParticipantsTooFew,
  PARTICIPANT_CALL_FAILED: ParticipantCallFailed,
  PARTICIPANT_ID_INVALID: ParticipantIdInvalid,
  PARTICIPANT_JOIN_MISSING: ParticipantJoinMissing,
  PARTICIPANT_VERSION_OUTDATED: ParticipantVersionOutdated,
  PASSWORD_EMPTY: PasswordEmpty,
  PASSWORD_HASH_INVALID: PasswordHashInvalid,
  PASSWORD_MISSING: PasswordMissing,
  PASSWORD_RECOVERY_EXPIRED: PasswordRecoveryExpired,
  PASSWORD_RECOVERY_NA: PasswordRecoveryNa,
  PASSWORD_REQUIRED: PasswordRequired,
  PAYMENT_PROVIDER_INVALID: PaymentProviderInvalid,
  PEER_FLOOD: PeerFlood,
  PEER_HISTORY_EMPTY: PeerHistoryEmpty,
  PEER_ID_INVALID: PeerIdInvalid,
  PEER_ID_NOT_SUPPORTED: PeerIdNotSupported,
  PERSISTENT_TIMESTAMP_EMPTY: PersistentTimestampEmpty,
  PERSISTENT_TIMESTAMP_INVALID: PersistentTimestampInvalid,
  PERSISTENT_TIMESTAMP_OUTDATED: PersistentTimestampOutdated,
  PHONE_CODE_EMPTY: PhoneCodeEmpty,
  PHONE_CODE_EXPIRED: PhoneCodeExpired,
  PHONE_CODE_HASH_EMPTY: PhoneCodeHashEmpty,
  PHONE_CODE_INVALID: PhoneCodeInvalid,
  PHONE_HASH_EXPIRED: PhoneHashExpired,
  PHONE_NOT_OCCUPIED: PhoneNotOccupied,
  PHONE_NUMBER_APP_SIGNUP_FORBIDDEN: PhoneNumberAppSignupForbidden,
  PHONE_NUMBER_BANNED: PhoneNumberBanned,
  PHONE_NUMBER_FLOOD: PhoneNumberFlood,
  PHONE_NUMBER_INVALID: PhoneNumberInvalid,
  PHONE_NUMBER_OCCUPIED: PhoneNumberOccupied,
  PHONE_NUMBER_UNOCCUPIED: PhoneNumberUnoccupied,
  PHONE_PASSWORD_FLOOD: PhonePasswordFlood,
  PHONE_PASSWORD_PROTECTED: PhonePasswordProtected,
  PHOTO_CONTENT_TYPE_INVALID: PhotoContentTypeInvalid,
  PHOTO_CONTENT_URL_EMPTY: PhotoContentUrlEmpty,
  PHOTO_CROP_FILE_MISSING: PhotoCropFileMissing,
  PHOTO_CROP_SIZE_SMALL: PhotoCropSizeSmall,
  PHOTO_EXT_INVALID: PhotoExtInvalid,
  PHOTO_FILE_MISSING: PhotoFileMissing,
  PHOTO_ID_INVALID: PhotoIdInvalid,
  PHOTO_INVALID: PhotoInvalid,
  PHOTO_INVALID_DIMENSIONS: PhotoInvalidDimensions,
  PHOTO_SAVE_FILE_INVALID: PhotoSaveFileInvalid,
  PHOTO_THUMB_URL_EMPTY: PhotoThumbUrlEmpty,
  PINNED_DIALOGS_TOO_MUCH: PinnedDialogsTooMuch,
  PIN_RESTRICTED: PinRestricted,
  POLL_ANSWERS_INVALID: PollAnswersInvalid,
  POLL_ANSWER_INVALID: PollAnswerInvalid,
  POLL_OPTION_DUPLICATE: PollOptionDuplicate,
  POLL_OPTION_INVALID: PollOptionInvalid,
  POLL_QUESTION_INVALID: PollQuestionInvalid,
  POLL_UNSUPPORTED: PollUnsupported,
  POLL_VOTE_REQUIRED: PollVoteRequired,
  POSTPONED_TIMEOUT: PostponedTimeout,
  PREMIUM_ACCOUNT_REQUIRED: PremiumAccountRequired,
  PREMIUM_CURRENTLY_UNAVAILABLE: PremiumCurrentlyUnavailable,
  PREVIOUS_CHAT_IMPORT_ACTIVE_WAIT_XMIN: PreviousChatImportActiveWaitXmin,
  PRIVACY_KEY_INVALID: PrivacyKeyInvalid,
  PRIVACY_TOO_LONG: PrivacyTooLong,
  PRIVACY_VALUE_INVALID: PrivacyValueInvalid,
  PTS_CHANGE_EMPTY: PtsChangeEmpty,
  PUBLIC_CHANNEL_MISSING: PublicChannelMissing,
  PUBLIC_KEY_REQUIRED: PublicKeyRequired,
  QUERY_ID_EMPTY: QueryIdEmpty,
  QUERY_ID_INVALID: QueryIdInvalid,
  QUERY_TOO_SHORT: QueryTooShort,
  QUIZ_ANSWER_MISSING: QuizAnswerMissing,
  QUIZ_CORRECT_ANSWERS_EMPTY: QuizCorrectAnswersEmpty,
  QUIZ_CORRECT_ANSWERS_TOO_MUCH: QuizCorrectAnswersTooMuch,
  QUIZ_CORRECT_ANSWER_INVALID: QuizCorrectAnswerInvalid,
  QUIZ_MULTIPLE_INVALID: QuizMultipleInvalid,
  RANDOM_ID_DUPLICATE: RandomIdDuplicate,
  RANDOM_ID_EMPTY: RandomIdEmpty,
  RANDOM_ID_INVALID: RandomIdInvalid,
  RANDOM_LENGTH_INVALID: RandomLengthInvalid,
  RANGES_INVALID: RangesInvalid,
  REACTIONS_TOO_MANY: ReactionsTooMany,
  REACTION_EMPTY: ReactionEmpty,
  REACTION_INVALID: ReactionInvalid,
  REFLECTOR_NOT_AVAILABLE: ReflectorNotAvailable,
  REG_ID_GENERATE_FAILED: RegIdGenerateFailed,
  REPLY_MARKUP_BUY_EMPTY: ReplyMarkupBuyEmpty,
  REPLY_MARKUP_GAME_EMPTY: ReplyMarkupGameEmpty,
  REPLY_MARKUP_INVALID: ReplyMarkupInvalid,
  REPLY_MARKUP_TOO_LONG: ReplyMarkupTooLong,
  RESET_REQUEST_MISSING: ResetRequestMissing,
  RESULTS_TOO_MUCH: ResultsTooMuch,
  RESULT_ID_DUPLICATE: ResultIdDuplicate,
  RESULT_ID_EMPTY: ResultIdEmpty,
  RESULT_ID_INVALID: ResultIdInvalid,
  RESULT_TYPE_INVALID: ResultTypeInvalid,
  REVOTE_NOT_ALLOWED: RevoteNotAllowed,
  RIGHTS_NOT_MODIFIED: RightsNotModified,
  RIGHT_FORBIDDEN: RightForbidden,
  RPC_CALL_FAIL: RpcCallFail,
  RPC_MCGET_FAIL: RpcMcgetFail,
  RSA_DECRYPT_FAILED: RsaDecryptFailed,
  SCHEDULE_BOT_NOT_ALLOWED: ScheduleBotNotAllowed,
  SCHEDULE_DATE_INVALID: ScheduleDateInvalid,
  SCHEDULE_DATE_TOO_LATE: ScheduleDateTooLate,
  SCHEDULE_STATUS_PRIVATE: ScheduleStatusPrivate,
  SCHEDULE_TOO_MUCH: ScheduleTooMuch,
  SCORE_INVALID: ScoreInvalid,
  SEARCH_QUERY_EMPTY: SearchQueryEmpty,
  SEARCH_WITH_LINK_NOT_SUPPORTED: SearchWithLinkNotSupported,
  SECONDS_INVALID: SecondsInvalid,
  SEND_AS_PEER_INVALID: SendAsPeerInvalid,
  SEND_CODE_UNAVAILABLE: SendCodeUnavailable,
  SEND_MESSAGE_MEDIA_INVALID: SendMessageMediaInvalid,
  SEND_MESSAGE_TYPE_INVALID: SendMessageTypeInvalid,
  SENSITIVE_CHANGE_FORBIDDEN: SensitiveChangeForbidden,
  SESSION_EXPIRED: SessionExpired,
  SESSION_PASSWORD_NEEDED: SessionPasswordNeeded,
  SESSION_REVOKED: SessionRevoked,
  SETTINGS_INVALID: SettingsInvalid,
  SHA256_HASH_INVALID: Sha256HashInvalid,
  SHORTNAME_OCCUPY_FAILED: ShortnameOccupyFailed,
  SHORT_NAME_INVALID: ShortNameInvalid,
  SHORT_NAME_OCCUPIED: ShortNameOccupied,
  SIGN_IN_FAILED: SignInFailed,
  SLOWMODE_MULTI_MSGS_DISABLED: SlowmodeMultiMsgsDisabled,
  SMS_CODE_CREATE_FAILED: SmsCodeCreateFailed,
  SRP_ID_INVALID: SrpIdInvalid,
  SRP_PASSWORD_CHANGED: SrpPasswordChanged,
  START_PARAM_EMPTY: StartParamEmpty,
  START_PARAM_INVALID: StartParamInvalid,
  START_PARAM_TOO_LONG: StartParamTooLong,
  STICKERPACK_STICKERS_TOO_MUCH: StickerpackStickersTooMuch,
  STICKERSET_INVALID: StickersetInvalid,
  STICKERSET_OWNER_ANONYMOUS: StickersetOwnerAnonymous,
  STICKERS_EMPTY: StickersEmpty,
  STICKERS_TOO_MUCH: StickersTooMuch,
  STICKER_DOCUMENT_INVALID: StickerDocumentInvalid,
  STICKER_EMOJI_INVALID: StickerEmojiInvalid,
  STICKER_FILE_INVALID: StickerFileInvalid,
  STICKER_GIF_DIMENSIONS: StickerGifDimensions,
  STICKER_ID_INVALID: StickerIdInvalid,
  STICKER_INVALID: StickerInvalid,
  STICKER_MIME_INVALID: StickerMimeInvalid,
  STICKER_PNG_DIMENSIONS: StickerPngDimensions,
  STICKER_PNG_NOPNG: StickerPngNopng,
  STICKER_TGS_NODOC: StickerTgsNodoc,
  STICKER_TGS_NOTGS: StickerTgsNotgs,
  STICKER_THUMB_PNG_NOPNG: StickerThumbPngNopng,
  STICKER_THUMB_TGS_NOTGS: StickerThumbTgsNotgs,
  STICKER_VIDEO_BIG: StickerVideoBig,
  STICKER_VIDEO_NODOC: StickerVideoNodoc,
  STICKER_VIDEO_NOWEBM: StickerVideoNowebm,
  STORAGE_CHECK_FAILED: StorageCheckFailed,
  STORE_INVALID_SCALAR_TYPE: StoreInvalidScalarType,
  SWITCH_PM_TEXT_EMPTY: SwitchPmTextEmpty,
  TAKEOUT_INVALID: TakeoutInvalid,
  TAKEOUT_REQUIRED: TakeoutRequired,
  TEMP_AUTH_KEY_ALREADY_BOUND: TempAuthKeyAlreadyBound,
  TEMP_AUTH_KEY_EMPTY: TempAuthKeyEmpty,
  THEME_FILE_INVALID: ThemeFileInvalid,
  THEME_FORMAT_INVALID: ThemeFormatInvalid,
  THEME_INVALID: ThemeInvalid,
  THEME_MIME_INVALID: ThemeMimeInvalid,
  THEME_TITLE_INVALID: ThemeTitleInvalid,
  TIMEOUT: Timeout,
  TIME_TOO_BIG: TimeTooBig,
  TIME_TOO_SMALL: TimeTooSmall,
  TITLE_INVALID: TitleInvalid,
  TMP_PASSWORD_DISABLED: TmpPasswordDisabled,
  TMP_PASSWORD_INVALID: TmpPasswordInvalid,
  TOKEN_INVALID: TokenInvalid,
  TOPIC_DELETED: TopicDeleted,
  TO_LANG_INVALID: ToLangInvalid,
  TTL_DAYS_INVALID: TtlDaysInvalid,
  TTL_MEDIA_INVALID: TtlMediaInvalid,
  TTL_PERIOD_INVALID: TtlPeriodInvalid,
  TYPES_EMPTY: TypesEmpty,
  TYPE_CONSTRUCTOR_INVALID: TypeConstructorInvalid,
  Timedout,
  Timeout,
  UNKNOWN_ERROR: UnknownError,
  UNKNOWN_METHOD: UnknownMethod,
  UNTIL_DATE_INVALID: UntilDateInvalid,
  UPDATE_APP_TO_LOGIN: UpdateAppToLogin,
  URL_INVALID: UrlInvalid,
  USAGE_LIMIT_INVALID: UsageLimitInvalid,
  USERNAME_INVALID: UsernameInvalid,
  USERNAME_NOT_MODIFIED: UsernameNotModified,
  USERNAME_NOT_OCCUPIED: UsernameNotOccupied,
  USERNAME_OCCUPIED: UsernameOccupied,
  USERNAME_PURCHASE_AVAILABLE: UsernamePurchaseAvailable,
  USERPIC_PRIVACY_REQUIRED: UserpicPrivacyRequired,
  USERPIC_UPLOAD_REQUIRED: UserpicUploadRequired,
  USERS_TOO_FEW: UsersTooFew,
  USERS_TOO_MUCH: UsersTooMuch,
  USER_ADMIN_INVALID: UserAdminInvalid,
  USER_ALREADY_INVITED: UserAlreadyInvited,
  USER_ALREADY_PARTICIPANT: UserAlreadyParticipant,
  USER_BANNED_IN_CHANNEL: UserBannedInChannel,
  USER_BLOCKED: UserBlocked,
  USER_BOT: UserBot,
  USER_BOT_INVALID: UserBotInvalid,
  USER_BOT_REQUIRED: UserBotRequired,
  USER_CHANNELS_TOO_MUCH: UserChannelsTooMuch,
  USER_CREATOR: UserCreator,
  USER_DEACTIVATED: UserDeactivated,
  USER_DEACTIVATED_BAN: UserDeactivatedBan,
  USER_DELETED: UserDeleted,
  USER_ID_INVALID: UserIdInvalid,
  USER_INVALID: UserInvalid,
  USER_IS_BLOCKED: UserIsBlocked,
  USER_IS_BOT: UserIsBot,
  USER_KICKED: UserKicked,
  USER_NOT_MUTUAL_CONTACT: UserNotMutualContact,
  USER_NOT_PARTICIPANT: UserNotParticipant,
  USER_PRIVACY_RESTRICTED: UserPrivacyRestricted,
  USER_RESTRICTED: UserRestricted,
  USER_VOLUME_INVALID: UserVolumeInvalid,
  VIDEO_CONTENT_TYPE_INVALID: VideoContentTypeInvalid,
  VIDEO_FILE_INVALID: VideoFileInvalid,
  VIDEO_TITLE_EMPTY: VideoTitleEmpty,
  VOICE_MESSAGES_FORBIDDEN: VoiceMessagesForbidden,
  WALLPAPER_FILE_INVALID: WallpaperFileInvalid,
  WALLPAPER_INVALID: WallpaperInvalid,
  WALLPAPER_MIME_INVALID: WallpaperMimeInvalid,
  WC_CONVERT_URL_INVALID: WcConvertUrlInvalid,
  WEBDOCUMENT_INVALID: WebdocumentInvalid,
  WEBDOCUMENT_MIME_INVALID: WebdocumentMimeInvalid,
  WEBDOCUMENT_SIZE_TOO_BIG: WebdocumentSizeTooBig,
  WEBDOCUMENT_URL_INVALID: WebdocumentUrlInvalid,
  WEBPAGE_CURL_FAILED: WebpageCurlFailed,
  WEBPAGE_MEDIA_EMPTY: WebpageMediaEmpty,
  WEBPUSH_AUTH_INVALID: WebpushAuthInvalid,
  WEBPUSH_KEY_INVALID: WebpushKeyInvalid,
  WEBPUSH_TOKEN_INVALID: WebpushTokenInvalid,
  WORKER_BUSY_TOO_LONG_RETRY: WorkerBusyTooLongRetry,
  YOU_BLOCKED_USER: YouBlockedUser
};

// 4_errors.ts
var FloodWait = class extends TelegramError {
  seconds;
  constructor(params) {
    super(params);
    const p = params.error_message.split("_");
    this.seconds = Number(p[p.length - 1]);
    if (isNaN(this.seconds)) {
      unreachable();
    }
  }
};
var Migrate = class extends TelegramError {
  dc;
  constructor(params) {
    super(params);
    const p = params.error_message.split("_");
    this.dc = Number(p[p.length - 1]);
    if (isNaN(this.dc)) {
      unreachable();
    }
  }
};
var UserMigrate = class extends Migrate {
};
var PhoneMigrate = class extends Migrate {
};
var FileMigrate = class extends Migrate {
};
var StatsMigrate = class extends Migrate {
};
var prefixMap = {
  "FILE_MIGRATE_": FileMigrate,
  "PHONE_MIGRATE_": PhoneMigrate,
  "USER_MIGRATE_": UserMigrate,
  "STATS_MIGRATE_": StatsMigrate,
  "FLOOD_WAIT_": FloodWait
};
function constructTelegramError(error, call) {
  for (const [k, v] of Object.entries(prefixMap)) {
    if (error.error_message.startsWith(k)) {
      return new v({ ...error, call });
    }
  }
  if (error.error_message in map) {
    return new map[error.error_message]({ ...error, call });
  }
  return new TelegramError({ ...error, call });
}

// session/0_session_error.ts
var SessionError = class extends TechgramError {
  constructor(message) {
    super(message);
  }
};

// session/0_session_state.ts
var SessionState = class {
  timeDifference = 0;
  serverSalt = 0n;
  #seqNo = 0;
  #messageId = 0n;
  nextMessageId() {
    const now = toUnixTimestamp(/* @__PURE__ */ new Date()) + this.timeDifference;
    const nanoseconds = Math.floor((now - Math.floor(now)) * 1e9);
    const newMessageId = BigInt(Math.floor(now)) << 32n || BigInt(nanoseconds) << 2n;
    if (this.#messageId >= newMessageId) {
      this.#messageId += 4n;
    } else {
      this.#messageId = newMessageId;
    }
    return this.#messageId;
  }
  nextSeqNo(contentRelated) {
    let seqNo = this.#seqNo * 2;
    if (contentRelated) {
      seqNo++;
      this.#seqNo++;
    }
    return seqNo;
  }
  reset() {
    this.serverSalt = 0n;
    this.#seqNo = 0;
    this.#messageId = 0n;
  }
};

// session/1_session.ts
var id = 0;
var defaultTransportProvider = typeof Deno === "undefined" ? transportProviderWebSocket : transportProviderTcp;
var Session = class {
  #dc;
  #cdn;
  state = new SessionState();
  transport;
  #lastConnect;
  #disconnected = true;
  #L;
  #onConnectionStateChange;
  constructor(dc, params) {
    this.#dc = dc;
    this.#cdn = params?.cdn ?? false;
    const transportProvider = params?.transportProvider ?? defaultTransportProvider();
    this.transport = transportProvider({ dc: this.#dc, cdn: this.#cdn });
    this.transport.connection.stateChangeHandler = (connected) => {
      setTimeout(() => {
        drop(this.#stateChangeHandler(connected));
      });
    };
    this.#L = getLogger("Session").client(id++);
  }
  set onConnectionStateChange(onConnectionStateChange) {
    this.#onConnectionStateChange = onConnectionStateChange;
  }
  set connectionCallback(connectionCallback) {
    this.transport.connection.callback = connectionCallback;
  }
  get dc() {
    return this.#dc;
  }
  get cdn() {
    return this.#cdn;
  }
  set serverSalt(serverSalt) {
    this.state.serverSalt = serverSalt;
  }
  get serverSalt() {
    return this.state.serverSalt;
  }
  #lastState;
  async #stateChangeHandler(connected) {
    if (this.#lastState !== connected) {
      setTimeout(() => {
        this.#onConnectionStateChange?.(connected);
      });
    }
    if (this.#lastState === connected) {
      return;
    }
    this.#lastState = connected;
    if (connected || this.#disconnected) {
      if (this.#disconnected) {
        this.#L.debug("not reconnecting because explicitly disconnected");
      }
      return;
    }
    if (this.#lastConnect && Date.now() - this.#lastConnect.getTime() <= 10 * SECOND) {
      this.#L.debug("reconnecting after a delay");
      await delay(3 * SECOND);
    } else {
      this.#L.debug("reconnecting");
    }
    await this.connect();
  }
  get connected() {
    return this.transport.connection.connected;
  }
  #connectMutex = new Mutex();
  async connect() {
    const unlock = await this.#connectMutex.lock();
    try {
      if (this.connected) {
        return;
      }
      await this.transport.connection.open();
      await this.transport.transport.initialize();
      this.#lastConnect = /* @__PURE__ */ new Date();
      this.#disconnected = false;
    } finally {
      unlock();
    }
  }
  async waitUntilConnected() {
    (await this.#connectMutex.lock())();
  }
  get disconnected() {
    return this.#disconnected;
  }
  disconnect() {
    this.#disconnected = true;
    if (this.transport.connection.connected) {
      this.transport.connection.close();
    }
  }
};

// client/0_abortable_loop.ts
var AbortableLoop = class {
  #body;
  #onError;
  constructor(body, onError) {
    this.#body = body;
    this.#onError = onError;
  }
  #controller;
  abort() {
    this.#controller?.abort();
  }
  start() {
    if (this.#controller === void 0) {
      drop(this.#loop());
    }
  }
  async #loop() {
    this.#controller?.abort();
    const controller = this.#controller = new AbortController();
    try {
      do {
        try {
          await this.#body(this, controller.signal);
        } catch (err) {
          if (!controller.signal.aborted) {
            this.#onError(this, err);
          }
        }
      } while (!controller.signal.aborted);
    } finally {
      this.#controller = void 0;
    }
  }
};

// session/2_session_encrypted.ts
var id2 = 0;
var GZIP_PACKED = 812830625;
var RPC_RESULT = 4082920705;
var RPC_ERROR = mtproto_exports.schema.definitions["rpc_error"][0];
var SessionEncrypted = class _SessionEncrypted extends Session {
  static #TGCRYPTO_INITED = false;
  #id = getRandomId();
  handlers = {};
  #L;
  #LsendLoop;
  #LreceiveLoop;
  #LpingLoop;
  #authKey = new Uint8Array();
  #authKeyId = 0n;
  #sentMessages = /* @__PURE__ */ new Set();
  #pendingMessages = new Array();
  #containers = new LruCache(2e4);
  #pendingPings = /* @__PURE__ */ new Map();
  #toAcknowledge = new Array();
  #pendingAcks = new LruCache(100);
  constructor(dc, params) {
    super(dc, params);
    const L5 = this.#L = getLogger("SessionEncrypted").client(id2++);
    this.#LsendLoop = L5.branch("sendLoop");
    this.#LreceiveLoop = L5.branch("receiveLoop");
    this.#LpingLoop = L5.branch("pingLoop");
  }
  async setAuthKey(key) {
    const hash = await sha1(key);
    this.#authKeyId = intFromBytes(hash.slice(-8));
    this.#authKey = key;
  }
  get authKey() {
    return this.#authKey;
  }
  async connect() {
    if (!this.connected) {
      this.#rejectAllPending(new ConnectionError("The connection was closed."));
    }
    await super.connect();
    if (!_SessionEncrypted.#TGCRYPTO_INITED) {
      await initTgCrypto();
      _SessionEncrypted.#TGCRYPTO_INITED = true;
    }
    this.#receiveLoop.start();
    this.#sendLoop.start();
    this.#pingLoop.start();
    this.#awakeSendLoop?.();
  }
  disconnect() {
    super.disconnect();
    this.state.reset();
    this.#id = getRandomId();
    this.#pingLoop.abort();
    this.#awakeSendLoop?.();
    this.#rejectAllPending(new ConnectionError("The connection was disconnected."));
  }
  #assertNotDisconnected() {
    if (this.disconnected) {
      throw new ConnectionError("The connection was disconnected.");
    }
  }
  async #invalidateSession(reason) {
    this.#L.debug("invalidating session because of", reason);
    this.#id = getRandomId();
    this.state.reset();
    this.disconnect();
    await this.connect();
    this.#rejectAllPending(new SessionError("The session was invalidated."));
  }
  #rejectAllPending(reason) {
    for (const id5 of this.#sentMessages) {
      this.#onMessageFailed(id5, reason);
    }
    for (const pendingPing of this.#pendingPings.values()) {
      pendingPing.promiseWithResolvers.reject(reason);
    }
    this.#sentMessages.clear();
    this.#pendingPings.clear();
    this.#containers.clear();
  }
  #onMessageFailed(id5, reason) {
    this.#sentMessages.delete(id5);
    const pendingContainer = this.#containers.get(id5);
    if (pendingContainer) {
      for (const id6 of pendingContainer) {
        this.#onMessageFailed(id6, reason);
      }
      this.#containers.delete(id5);
      return;
    }
    const pendingAck = this.#pendingAcks.get(id5);
    if (pendingAck) {
      for (const id6 of pendingAck) {
        this.#toAcknowledge.push(id6);
      }
      this.#pendingAcks.delete(id5);
      return;
    }
    const pendingPing = this.#pendingPings.get(id5);
    if (pendingPing) {
      this.#pendingPings.delete(id5);
      if (reason instanceof SessionError) {
        drop(this.#resendPendingPing(pendingPing));
      } else {
        pendingPing.promiseWithResolvers.reject(reason);
      }
      return;
    }
    this.handlers.onMessageFailed?.(id5, reason);
  }
  #setServerSalt(newServerSalt) {
    this.state.serverSalt = newServerSalt;
    this.handlers.onNewServerSalt?.(newServerSalt);
  }
  async send(body) {
    if (!this.disconnected && !this.connected) {
      await super.waitUntilConnected();
    }
    this.#assertNotDisconnected();
    const pendingMessage = { body, promiseWithResolvers: Promise.withResolvers() };
    this.#pendingMessages.push(pendingMessage);
    this.#awakeSendLoop?.();
    return await pendingMessage.promiseWithResolvers.promise;
  }
  async #receive() {
    this.#assertNotDisconnected();
    const buffer = await this.transport.transport.receive();
    if (buffer.length === 4) {
      const int = intFromBytes(buffer);
      throw new TransportError(Number(int));
    }
    try {
      const decrypted = await this.#decryptMessage(buffer);
      this.#L.in(decrypted);
      return decrypted;
    } catch (err) {
      this.#L.error("decryption error:", err);
      await this.#invalidateSession("decryption error");
      throw err;
    }
  }
  async #encryptMessage(message) {
    const payloadWriter = new TLWriter();
    payloadWriter.writeInt64(this.state.serverSalt);
    payloadWriter.writeInt64(this.#id);
    payloadWriter.write(await serializeMessage(message));
    payloadWriter.write(new Uint8Array(mod(-(payloadWriter.buffer.length + 12), 16) + 12));
    const payload = payloadWriter.buffer;
    const messageKey = (await sha256(concat([this.#authKey.subarray(88, 120), payload]))).subarray(8, 24);
    const a = await sha256(concat([messageKey, this.#authKey.subarray(0, 36)]));
    const b = await sha256(concat([this.#authKey.subarray(40, 76), messageKey]));
    const aesKey = concat([a.subarray(0, 8), b.subarray(8, 24), a.subarray(24, 32)]);
    const aesIV = concat([b.subarray(0, 8), a.subarray(8, 24), b.subarray(24, 32)]);
    const messageWriter = new TLWriter();
    messageWriter.writeInt64(this.#authKeyId);
    messageWriter.write(messageKey);
    messageWriter.write(ige256Encrypt(payload, aesKey, aesIV));
    return messageWriter.buffer;
  }
  async #decryptMessage(buffer) {
    const reader = new TLReader(buffer);
    assertEquals(reader.readInt64(), this.#authKeyId);
    const messageKey_ = reader.readInt128();
    const messageKey = intToBytes(messageKey_, 16);
    const a = await sha256(concat([messageKey, this.#authKey.subarray(8, 44)]));
    const b = await sha256(concat([this.#authKey.subarray(48, 84), messageKey]));
    const aesKey = concat([a.subarray(0, 8), b.subarray(8, 24), a.subarray(24, 32)]);
    const aesIv = concat([b.subarray(0, 8), a.subarray(8, 24), b.subarray(24, 32)]);
    const plaintext = ige256Decrypt(reader.buffer, aesKey, aesIv);
    assertEquals(plaintext.buffer.byteLength % 4, 0);
    const plainReader = new TLReader(plaintext);
    const _salt = plainReader.readInt64();
    const _sessionId_ = plainReader.readInt64(false);
    return deserializeMessage(plainReader);
  }
  #awakeSendLoop;
  #sendLoop = new AbortableLoop(this.#sendLoopBody.bind(this), (err) => {
    this.#LsendLoop.error("unhandled receive loop error:", err);
  });
  async #sendLoopBody(loop, signal) {
    if (!this.connected) {
      this.#LsendLoop.debug("aborting as not connected");
      loop.abort();
      return;
    }
    const pendingMessage = this.#pendingMessages.shift();
    if (pendingMessage === void 0) {
      this.#LsendLoop.debug("no pending messages");
      return await new Promise((resolve) => {
        const onAbort = () => {
          this.#LsendLoop.debug("got aborted while sleeping");
          resolve();
        };
        signal.addEventListener("abort", onAbort);
        this.#awakeSendLoop = () => {
          this.#LsendLoop.debug("got awaken");
          resolve();
          signal.removeEventListener("abort", onAbort);
        };
      });
    }
    const msg_id = this.state.nextMessageId();
    const seqno = this.state.nextSeqNo(true);
    let message = {
      _: "message",
      msg_id,
      seqno,
      body: pendingMessage.body
    };
    this.#LsendLoop.debug("msg_id =", msg_id, "seqno =", seqno);
    if (this.#toAcknowledge.length) {
      const msg_ids = this.#toAcknowledge.splice(0, 8192);
      this.#LsendLoop.debug("acknowledging", msg_ids.length, "message(s) while sending this one");
      const ack = {
        _: "message",
        msg_id: this.state.nextMessageId(),
        seqno: this.state.nextSeqNo(false),
        body: mtproto_exports.serializeObject({ _: "msgs_ack", msg_ids })
      };
      this.#LsendLoop.debug("msgs_ack msg_id =", ack.msg_id, "seqno =", seqno);
      this.#pendingAcks.set(ack.msg_id, msg_ids);
      message = {
        _: "message",
        msg_id: this.state.nextMessageId(),
        seqno: this.state.nextSeqNo(false),
        body: {
          _: "msg_container",
          messages: [message, ack]
        }
      };
      this.#LsendLoop.debug("container msg_id =", message.msg_id, "seqno =", message.seqno);
    }
    try {
      const payload = await this.#encryptMessage(message);
      await this.transport.transport.send(payload);
      pendingMessage.promiseWithResolvers.resolve(msg_id);
    } catch (err) {
      pendingMessage.promiseWithResolvers.reject(err);
      return;
    }
    this.#LsendLoop.out(message);
    this.#sentMessages.add(msg_id);
    if (!(message.body instanceof Uint8Array)) {
      const msg_ids = message.body.messages.map((v) => v.msg_id);
      this.#LsendLoop.debug("sent container", message.msg_id, "with messages", ...msg_ids);
      this.#containers.set(message.msg_id, msg_ids);
    } else {
      this.#LsendLoop.debug("sent message", message.msg_id);
    }
  }
  #receiveLoop = new AbortableLoop(this.#receiveLoopBody.bind(this), (err) => {
    this.#LreceiveLoop.error("unhandled receive loop error:", err);
  });
  async #receiveLoopBody(loop) {
    let message;
    try {
      this.#LreceiveLoop.debug("receiving");
      message = await this.#receive();
    } catch (err) {
      this.#LreceiveLoop.error("failed to receive message:", err);
      if (!this.connected) {
        this.#LreceiveLoop.debug("aborting as not connected");
        loop.abort();
        return;
      } else {
        return;
      }
    }
    try {
      if (message.body instanceof Uint8Array) {
        await this.#onMessage(message.msg_id, message.body, null);
      } else {
        await this.#onMessageContainer(message.msg_id, message.body);
      }
    } catch (err) {
      this.#LreceiveLoop.error("failed to handle message:", err);
    }
  }
  async #onMessage(msgId, body, containerId) {
    this.#LreceiveLoop.debug("received message with ID", msgId, "and size", body.length, "inside", ...containerId === null ? ["no container"] : ["container", containerId]);
    const logger = this.#LreceiveLoop.branch(msgId + "");
    let reader = new TLReader(body);
    let id5 = reader.readInt32(false);
    if (id5 === GZIP_PACKED) {
      logger.debug("unpacking compressed body");
      reader = new TLReader(await gunzip(reader.readBytes()));
      id5 = reader.readInt32(false);
    }
    if (id5 === RPC_RESULT) {
      this.#onRpcResult(msgId, reader.buffer, logger);
      return;
    }
    if (!mtproto_exports.schema.identifierToName[id5]) {
      logger.debug("identified body as a non-MTProto constructor");
      reader.unreadInt32();
      this.handlers.onUpdate?.(reader.buffer);
      return;
    }
    let type;
    try {
      reader.unreadInt32();
      type = await mtproto_exports.deserializeType(X, reader);
    } catch (err) {
      logger.error("failed to deserialize MTProto type:", err);
      return;
    }
    logger.debug("received", repr(type));
    if (mtproto_exports.is("new_session_created", type)) {
      this.#onNewSessionCreated(msgId, type);
    } else if (mtproto_exports.is("pong", type)) {
      this.#onPong(msgId, type);
    } else if (mtproto_exports.is("bad_server_salt", type)) {
      this.#onBadServerSalt(type);
    } else if (mtproto_exports.is("bad_msg_notification", type)) {
      await this.#onBadMsgNotification(msgId, type, logger);
    } else if (mtproto_exports.is("msg_detailed_info", type)) {
      this.#onMsgDetailedInfo(type, logger);
    } else if (mtproto_exports.is("msg_new_detailed_info", type)) {
      this.#onMsgNewDetailedInfo(type, logger);
    } else {
      logger.warning(`unhandled MTProto type: ${repr(type)}`);
    }
  }
  async #onRpcResult(msgId, body, logger) {
    logger.debug("received rpc_result");
    this.#toAcknowledge.push(msgId);
    let reader = new TLReader(body);
    const reqMsgId = reader.readInt64();
    let id5 = reader.readInt32(false);
    if (id5 === GZIP_PACKED) {
      logger.debug("unpacking compressed rpc_result");
      reader = new TLReader(await gunzip(reader.readBytes()));
      id5 = reader.readInt32(false);
      reader.unreadInt32();
    } else {
      reader.unreadInt32();
    }
    if (id5 === RPC_ERROR) {
      logger.debug("received rpc_error from message", msgId);
      const error = await mtproto_exports.deserializeType("rpc_error", reader);
      this.handlers.onRpcError?.(reqMsgId, error);
    } else {
      this.handlers.onRpcResult?.(reqMsgId, reader.buffer);
    }
  }
  #onMsgDetailedInfo(msgDetailedInfo, logger) {
    logger.debug("scheduling the acknowledgement of", msgDetailedInfo.answer_msg_id, "because of", msgDetailedInfo._);
    this.#toAcknowledge.push(msgDetailedInfo.answer_msg_id);
  }
  #onMsgNewDetailedInfo(msgNewDetailedInfo, logger) {
    logger.debug("scheduling the acknowledgement of", msgNewDetailedInfo.answer_msg_id, "because of", msgNewDetailedInfo._);
    this.#toAcknowledge.push(msgNewDetailedInfo.answer_msg_id);
  }
  async #onBadMsgNotification(msgId, badMsgNotification, logger) {
    let low = false;
    switch (badMsgNotification.error_code) {
      case 16:
        low = true;
      case 17:
        this.state.timeDifference = Math.abs(toUnixTimestamp(/* @__PURE__ */ new Date()) - Number(msgId >> 32n));
        if (!low) {
          this.state.timeDifference = -this.state.timeDifference;
          logger.debug("resetting time difference to", -this.state.timeDifference, "because the ID of the message", badMsgNotification.bad_msg_id, "was too high");
          await this.#invalidateSession("message ID too high");
          return;
        } else {
          logger.debug("resending message", badMsgNotification.bad_msg_id, "because its ID was too low");
        }
        break;
      case 48:
        this.#L.debug("resending message that caused bad_server_salt");
        break;
      default:
        await this.#invalidateSession("unexpected bad_msg_notification");
        return;
    }
    this.#onMessageFailed(badMsgNotification.bad_msg_id, new SessionError(badMsgNotification._));
  }
  #onBadServerSalt(badServerSalt) {
    this.#setServerSalt(badServerSalt.new_server_salt);
    this.#onMessageFailed(badServerSalt.bad_msg_id, new SessionError(badServerSalt._));
  }
  #onPong(msgId, pong) {
    this.#toAcknowledge.push(msgId);
    const pendingPing = this.#pendingPings.get(pong.msg_id);
    if (pendingPing) {
      pendingPing.promiseWithResolvers.resolve(pong);
      this.#pendingPings.delete(pong.msg_id);
    } else {
      this.handlers.onPong?.(pong);
    }
  }
  #onNewSessionCreated(msgId, newSessionCreated) {
    this.#setServerSalt(newSessionCreated.server_salt);
    this.#toAcknowledge.push(msgId);
  }
  async #onMessageContainer(msgId, msgContainer) {
    this.#LreceiveLoop.debug("received container with ID", msgId, "and", msgContainer.messages.length, "message(s)");
    for (const message of msgContainer.messages) {
      if (message.body instanceof Uint8Array) {
        await this.#onMessage(message.msg_id, message.body, msgId);
      } else {
        await this.#onMessageContainer(msgId, message.body);
      }
    }
  }
  #pingInterval = 56 * SECOND;
  #pingLoop = new AbortableLoop(this.#pingLoopBody.bind(this), (_, err) => {
    this.#LpingLoop.error(err);
  });
  #timeElapsed = 0;
  async #pingLoopBody(_loop, signal) {
    const ms = Math.max(0, this.#pingInterval - this.#timeElapsed);
    if (ms) {
      this.#LpingLoop.debug(`sending ping in ${ms}ms`);
      await delay(ms, { signal });
    } else {
      this.#LpingLoop.debug("sending ping now");
    }
    signal.throwIfAborted();
    const then = Date.now();
    try {
      await this.#sendPingDelayDisconnect(this.#pingInterval / SECOND + 15);
      this.#LpingLoop.debug("received pong");
    } finally {
      this.#timeElapsed = Date.now() - then;
      this.#LpingLoop.debug(`took ${this.#timeElapsed}`);
    }
    signal.throwIfAborted();
  }
  async #sendPingDelayDisconnect(disconnect_delay) {
    const ping_id = getRandomId();
    const call = { _: "ping_delay_disconnect", ping_id, disconnect_delay };
    const messageId = await this.send(mtproto_exports.serializeObject(call));
    const promiseWithResolvers = Promise.withResolvers();
    this.#pendingPings.set(messageId, { call, promiseWithResolvers });
    await promiseWithResolvers.promise;
  }
  async #resendPendingPing(pendingPing) {
    try {
      const messageId = await this.send(mtproto_exports.serializeObject(pendingPing.call));
      this.#pendingPings.set(messageId, pendingPing);
      this.#LreceiveLoop.debug("ping resent");
    } catch (err) {
      this.#LreceiveLoop.debug("rejecting ping because of failed resend:", err);
      pendingPing.promiseWithResolvers.reject(err);
    }
  }
};

// session/2_session_plain.ts
var SessionPlain = class extends Session {
  async send(data) {
    if (!this.connected) {
      throw new ConnectionError("The connection is not open.");
    }
    const messageId = this.state.nextMessageId();
    const writer = new TLWriter();
    writer.writeInt64(0n);
    writer.writeInt64(messageId);
    writer.writeInt32(data.length);
    writer.write(data);
    const payload = writer.buffer;
    await this.transport.transport.send(payload);
    return messageId;
  }
  async receive() {
    if (!this.connected) {
      throw new ConnectionError("The connection is not open.");
    }
    const buffer = await this.transport.transport.receive();
    if (buffer.length === 4) {
      const int = intFromBytes(buffer);
      throw new TransportError(Number(int));
    }
    const reader = new TLReader(buffer);
    const _authKeyId = reader.readInt64();
    const _messageId = reader.readInt64();
    const dataLength = reader.readInt32();
    const data = reader.read(dataLength);
    return data;
  }
};

// client/0_client_abstract.ts
var ClientAbstract = class {
  get dc() {
    return this.session.dc;
  }
  get cdn() {
    return this.session.cdn;
  }
  set serverSalt(serverSalt) {
    this.session.serverSalt = serverSalt;
  }
  get serverSalt() {
    return this.session.serverSalt;
  }
  get connected() {
    return this.session.connected;
  }
  async connect() {
    await this.session.connect();
  }
  get disconnected() {
    return this.session.disconnected;
  }
  disconnect() {
    this.session.disconnect();
  }
  set connectionCallback(connectionCallback) {
    this.session.connectionCallback = connectionCallback;
  }
  set onConnectionStateChange(onConnectionStateChange) {
    this.session.onConnectionStateChange = onConnectionStateChange;
  }
};

// client/1_client_plain.ts
var L4 = getLogger("ClientPlain");
var LcreateAuthKey = L4.branch("createAuthKey");
var ClientPlain = class extends ClientAbstract {
  #publicKeys;
  session;
  constructor(dc, params) {
    super();
    this.#publicKeys = params?.publicKeys ?? PUBLIC_KEYS;
    this.session = new SessionPlain(dc, params);
  }
  async invoke(function_) {
    await this.session.send(mtproto_exports.serializeObject(function_));
    const body = await this.session.receive();
    return await mtproto_exports.deserializeType(mtproto_exports.mustGetReturnType(function_._), body);
  }
  async createAuthKey() {
    const nonce = getRandomInt(16);
    LcreateAuthKey.debug("auth key creation started");
    let resPq = null;
    for (let i = 0; i < 10; i++) {
      try {
        LcreateAuthKey.debug(`req_pq_multi [${i + 1}]`);
        resPq = await this.invoke({ _: "req_pq_multi", nonce });
        assert(mtproto_exports.is("resPQ", resPq));
        assertEquals(resPq.nonce, nonce);
        LcreateAuthKey.debug("got res_pq");
        break;
      } catch (err) {
        LcreateAuthKey.debug("req_pq_multi error:", err);
      }
    }
    if (!resPq) {
      unreachable();
    }
    const pq_ = intFromBytes(resPq.pq, { byteOrder: "big", isSigned: false });
    LcreateAuthKey.debug(`pq=${pq_}`);
    const [p_, q_] = factorize(pq_);
    LcreateAuthKey.debug("factorized pq");
    LcreateAuthKey.debug(`p=${p_}, q=${q_}`);
    const p = intToBytes(p_, 4, { byteOrder: "big", isSigned: false });
    const q = intToBytes(q_, 4, { byteOrder: "big", isSigned: false });
    let publicKeyFingerprint;
    let publicKey;
    for (const fingerprint of resPq.server_public_key_fingerprints) {
      const maybePublicKey = this.#publicKeys.find(([k]) => k === fingerprint);
      if (maybePublicKey) {
        publicKeyFingerprint = fingerprint;
        publicKey = maybePublicKey[1];
        break;
      }
    }
    if (!publicKeyFingerprint || !publicKey) {
      throw new Error("No corresponding public key found");
    }
    const dc = getDcId(this.dc, this.cdn);
    const pq = resPq.pq;
    const serverNonce = resPq.server_nonce;
    const newNonce = getRandomInt(32);
    let encryptedData = await rsaPad(
      mtproto_exports.serializeObject({
        _: "p_q_inner_data_dc",
        pq,
        p,
        q,
        dc,
        new_nonce: newNonce,
        nonce,
        server_nonce: serverNonce
      }),
      publicKey
    );
    const dhParams = await this.invoke({
      _: "req_DH_params",
      nonce,
      server_nonce: serverNonce,
      p,
      q,
      public_key_fingerprint: publicKeyFingerprint,
      encrypted_data: encryptedData
    });
    assert(mtproto_exports.is("server_DH_params_ok", dhParams));
    LcreateAuthKey.debug("got server_DH_params_ok");
    const newNonce_ = intToBytes(newNonce, 32);
    const serverNonce_ = intToBytes(serverNonce, 16);
    const tmpAesKey = concat([await sha1(concat([newNonce_, serverNonce_])), (await sha1(concat([serverNonce_, newNonce_]))).subarray(0, 0 + 12)]);
    const tmpAesIv = concat([(await sha1(concat([serverNonce_, newNonce_]))).subarray(12, 12 + 8), await sha1(concat([newNonce_, newNonce_])), newNonce_.subarray(0, 0 + 4)]);
    const answerWithHash = ige256Decrypt(dhParams.encrypted_answer, tmpAesKey, tmpAesIv);
    const dhInnerData = await mtproto_exports.deserializeType("server_DH_inner_data", answerWithHash.slice(20));
    const { g, g_a: gA_, dh_prime: dhPrime_ } = dhInnerData;
    const gA = intFromBytes(gA_, { byteOrder: "big", isSigned: false });
    const dhPrime = intFromBytes(dhPrime_, { byteOrder: "big", isSigned: false });
    const b = getRandomInt(256, false);
    const gB = modExp(BigInt(g), b, dhPrime);
    const data = mtproto_exports.serializeObject({
      _: "client_DH_inner_data",
      nonce,
      server_nonce: serverNonce,
      retry_id: 0n,
      g_b: intToBytes(gB, 256, { byteOrder: "big" })
    });
    let dataWithHash = concat([await sha1(data), data]);
    while (dataWithHash.length % 16 !== 0) {
      dataWithHash = concat([dataWithHash, new Uint8Array(1)]);
    }
    encryptedData = ige256Encrypt(dataWithHash, tmpAesKey, tmpAesIv);
    const dhGenOk = await this.invoke({
      _: "set_client_DH_params",
      nonce,
      server_nonce: serverNonce,
      encrypted_data: encryptedData
    });
    assert(mtproto_exports.is("dh_gen_ok", dhGenOk));
    LcreateAuthKey.debug("got dh_gen_ok");
    const serverNonceSlice = serverNonce_.subarray(0, 8);
    const salt = newNonce_.subarray(0, 0 + 8).map((v, i) => v ^ serverNonceSlice[i]);
    const authKey_ = modExp(gA, b, dhPrime);
    const authKey = intToBytes(authKey_, 256, { byteOrder: "big", isSigned: false });
    LcreateAuthKey.debug("auth key created");
    return [authKey, intFromBytes(salt)];
  }
};

// client/0_utilities.ts
function isHttpUrl(string) {
  try {
    return new URL(string).protocol.startsWith("http");
  } catch {
    return false;
  }
}
function isAlpha(string) {
  const c = string.charCodeAt(0) | 32;
  return "a".charCodeAt(0) <= c && c <= "z".charCodeAt(0);
}
function isDigit(string) {
  const c = string.charCodeAt(0);
  return "0".charCodeAt(0) <= c && c <= "9".charCodeAt(0);
}
var errInvalidUsername = (u) => new InputError(`Invalid username: ${u}`);
function validateUsername(string, ignoreAt = false) {
  string = string.trim();
  if (ignoreAt && string.startsWith("@")) {
    string = string.slice(1);
  }
  if (string.length === 0 || string.length > 32) {
    throw errInvalidUsername(string);
  }
  if (!isAlpha(string[0])) {
    throw errInvalidUsername(string);
  }
  for (const c of string) {
    if (!isAlpha(c) && !isDigit(c) && c !== "_") {
      throw errInvalidUsername(string);
    }
  }
  if (string[string.length - 1] === "_") {
    throw errInvalidUsername(string);
  }
  for (let i = 1; i < string.length; ++i) {
    if (string[i - 1] === "_" && string[i] === "_") {
      throw errInvalidUsername(string);
    }
  }
  return string;
}
function getUsername(string) {
  let url = null;
  try {
    url = new URL(string);
  } catch {
    try {
      url = new URL("https://t.me/" + string);
    } catch {
    }
  }
  if (url === null || url.protocol !== "http:" && url.protocol !== "https:") {
    return validateUsername(string, true);
  }
  if (url.hostname !== "telegram.dog" && url.hostname !== "telegram.me" && url.hostname !== "t.me" && !url.hostname.endsWith(".t.me")) {
    return validateUsername(string, true);
  }
  if (url.hostname === "telegram.dog" || url.hostname === "telegram.me" || url.hostname === "t.me") {
    return validateUsername(url.pathname.split("/")[1]);
  }
  const parts = url.hostname.split(".");
  if (parts.length !== 3) {
    return validateUsername(string);
  }
  return validateUsername(parts[0]);
}
function getChatListId(chatList) {
  switch (chatList) {
    case "main":
      return 0;
    case "archived":
      return 1;
    default:
      unreachable();
  }
}
function checkMessageId(messageId) {
  if (typeof messageId !== "number" || isNaN(messageId) || messageId <= 0) {
    throw new InputError("Invalid message ID");
  }
  return messageId;
}
function checkStoryId(storyId) {
  if (typeof storyId !== "number" || isNaN(storyId) || !storyId) {
    throw new InputError("Invalid story ID");
  }
  return storyId;
}
function checkArray(array, check) {
  for (const item of array) {
    check(item);
  }
}
function checkCallbackQueryId(id5) {
  if (typeof id5 !== "string" || !id5.trim()) {
    throw new InputError("Invalid callback query ID.");
  }
}
function checkInlineQueryId(id5) {
  if (typeof id5 !== "string" || !id5.trim()) {
    throw new InputError("Invalid inline query ID.");
  }
}
var CDN_FUNCTIONS = [
  "upload.saveFilePart",
  "upload.getFile",
  "upload.saveBigFilePart",
  "upload.getWebFile",
  "upload.getCdnFile",
  "upload.reuploadCdnFile",
  "upload.getCdnFileHashes",
  "upload.getFileHashes"
];
function isCdnFunction(value) {
  return telegram_exports.isOneOf(CDN_FUNCTIONS, value);
}
function canBeInputUser(inputPeer) {
  return telegram_exports.isOneOf(["inputPeerSelf", "inputPeerUser", "inputPeerUserFromMessage"], inputPeer);
}
function toInputUser(inputPeer) {
  let id5;
  if (telegram_exports.is("inputPeerUser", inputPeer)) {
    id5 = { ...inputPeer, _: "inputUser" };
  } else if (telegram_exports.is("inputPeerUserFromMessage", inputPeer)) {
    id5 = { ...inputPeer, _: "inputUserFromMessage" };
  } else if (telegram_exports.is("inputPeerSelf", inputPeer)) {
    id5 = { _: "inputUserSelf" };
  } else {
    unreachable();
  }
  return id5;
}
function canBeInputChannel(inputPeer) {
  return telegram_exports.isOneOf(["inputPeerChannel", "inputPeerChannelFromMessage"], inputPeer);
}
function toInputChannel(inputPeer) {
  let id5;
  if (telegram_exports.is("inputPeerChannel", inputPeer)) {
    id5 = { ...inputPeer, _: "inputChannel" };
  } else if (telegram_exports.is("inputPeerChannelFromMessage", inputPeer)) {
    id5 = { ...inputPeer, _: "inputChannelFromMessage" };
  } else {
    unreachable();
  }
  return id5;
}
function repr2(value) {
  if (telegram_exports.isGenericFunction(value) && "query" in value) {
    return `${repr(value)}<${repr2(value.query)}>`;
  } else {
    return repr(value);
  }
}
function getLimit(limit) {
  if (typeof limit !== "number") {
    return 100;
  } else if (limit < 1) {
    return 1;
  } else if (limit > 100) {
    return 100;
  } else {
    return limit;
  }
}
var UPLOAD_REQUEST_PER_CONNECTION = 2;
var DOWNLOAD_POOL_SIZE = 1;

// client/2_client_encrypted.ts
var id3 = 0;
var ClientEncrypted = class _ClientEncrypted extends ClientAbstract {
  static #SEND_MAX_TRIES = 10;
  static #AUTH_KEY_CREATION_MAX_TRIES = 10;
  handlers = {};
  #L;
  #plain;
  session;
  #sentRequests = /* @__PURE__ */ new Map();
  #apiId;
  #appVersion;
  #deviceModel;
  #langCode;
  #langPack;
  #systemLangCode;
  #systemVersion;
  #disableUpdates;
  constructor(dc, apiId, params) {
    super();
    this.#L = getLogger("ClientEncrypted").client(id3++);
    this.#plain = new ClientPlain(dc, params);
    this.session = new SessionEncrypted(dc, params);
    this.session.handlers.onUpdate = this.#onUpdate.bind(this);
    this.session.handlers.onNewServerSalt = this.#onNewServerSalt.bind(this);
    this.session.handlers.onMessageFailed = this.#onMessageFailed.bind(this);
    this.session.handlers.onRpcError = this.#onRpcError.bind(this);
    this.session.handlers.onRpcResult = this.#onRpcResult.bind(this);
    this.session.handlers.onPong = this.#onPong.bind(this);
    this.#apiId = apiId;
    this.#appVersion = params?.appVersion ?? APP_VERSION;
    this.#deviceModel = params?.deviceModel ?? DEVICE_MODEL;
    this.#langCode = params?.langCode ?? LANG_CODE;
    this.#langPack = params?.langPack ?? LANG_PACK;
    this.#systemLangCode = params?.systemLangCode ?? SYSTEM_LANG_CODE;
    this.#systemVersion = params?.systemVersion ?? SYSTEM_VERSION;
    this.#disableUpdates = params?.disableUpdates ?? false;
  }
  async connect() {
    if (!this.authKey.length) {
      await this.#createAuthKey();
    }
    await super.connect();
  }
  disconnect() {
    super.disconnect();
    this.lastRequest = void 0;
  }
  #createAuthKeyPromise;
  #createAuthKey() {
    return this.#createAuthKeyPromise ??= this.#createAuthKeyInner().finally(() => {
      this.#createAuthKeyPromise = void 0;
    });
  }
  async #createAuthKeyInner() {
    let lastErr;
    let errored = false;
    for (let i = 0; i < _ClientEncrypted.#AUTH_KEY_CREATION_MAX_TRIES; ++i) {
      try {
        await this.#plain.connect();
        const [authKey, serverSalt] = await this.#plain.createAuthKey();
        await this.setAuthKey(authKey);
        this.serverSalt = serverSalt;
        errored = false;
        break;
      } catch (err) {
        errored = true;
        lastErr = err;
        if (this.disconnected) {
          break;
        }
        this.#L.error("failed to create auth key:", err);
      } finally {
        this.#plain.disconnect();
      }
    }
    if (errored) {
      throw lastErr;
    }
  }
  get authKey() {
    return this.session.authKey;
  }
  async setAuthKey(authKey) {
    await this.session.setAuthKey(authKey);
  }
  #connectionInited = false;
  lastRequest;
  async #send(function_) {
    this.lastRequest = /* @__PURE__ */ new Date();
    let body;
    if (mtproto_exports.is("ping", function_)) {
      body = mtproto_exports.serializeObject(function_);
    } else {
      if (this.#disableUpdates && !isCdnFunction(function_)) {
        function_ = { _: "invokeWithoutUpdates", query: function_ };
      }
      if (!this.#connectionInited) {
        if (!this.#apiId) {
          throw new InputError("apiId not set");
        }
        function_ = {
          _: "initConnection",
          api_id: this.#apiId,
          app_version: this.#appVersion,
          device_model: this.#deviceModel,
          lang_code: this.#langCode,
          lang_pack: this.#langPack,
          query: {
            _: "invokeWithLayer",
            layer: telegram_exports.LAYER,
            query: function_
          },
          system_lang_code: this.#systemLangCode,
          system_version: this.#systemVersion
        };
      }
      body = telegram_exports.serializeObject(function_);
    }
    let lastErr;
    for (let i = 0; i < _ClientEncrypted.#SEND_MAX_TRIES; ++i) {
      let errored = false;
      try {
        return await this.session.send(body);
      } catch (err) {
        errored = true;
        lastErr = err;
        if (this.disconnected) {
          break;
        }
        this.#L.error("send failed:", err);
      } finally {
        if (!errored) {
          this.#L.debug("invoked", repr2(function_));
          this.#L.out(function_);
        }
      }
    }
    throw new Error(`Failed to invoke function after ${_ClientEncrypted.#SEND_MAX_TRIES} tries.`, { cause: lastErr });
  }
  async #resend(request) {
    try {
      const messageId = await this.#send(request.call);
      this.#sentRequests.set(messageId, request);
    } catch (err) {
      this.#L.error("rejecting message because of resend error:", err);
      request.promiseWithResolvers.reject(err);
    }
  }
  async invoke(function_) {
    const messageId = await this.#send(function_);
    this.#L.debug("sent", function_._, "with msg_id", messageId);
    const sentRequest = { call: function_, promiseWithResolvers: Promise.withResolvers() };
    this.#sentRequests.set(messageId, sentRequest);
    return await sentRequest.promiseWithResolvers.promise;
  }
  async #onUpdate(body) {
    let type;
    try {
      type = await telegram_exports.deserializeType(X, body);
    } catch (err) {
      this.#L.error("failed to deserialize update:", err);
      this.handlers.onDeserializationError?.();
      return;
    }
    if (telegram_exports.isOfEnum("Update", type) || telegram_exports.isOfEnum("Updates", type)) {
      this.handlers.onUpdate?.(type);
    } else {
      this.#L.warning("received unknown type:", repr2(type));
    }
  }
  #onNewServerSalt(serverSalt) {
    this.handlers.onNewServerSalt?.(serverSalt);
  }
  async #onMessageFailed(msgId, error) {
    const request = this.#sentRequests.get(msgId);
    if (request) {
      this.#sentRequests.delete(msgId);
      if (error instanceof SessionError) {
        await this.#resend(request);
      } else {
        request.promiseWithResolvers.reject(error);
      }
    }
  }
  async #onRpcError(msgId, error) {
    const request = this.#sentRequests.get(msgId);
    this.#L.debug("received rpc_error with req_msg_id =", msgId, "for", request === void 0 ? "unknown" : "known", "request");
    if (request) {
      this.#sentRequests.delete(msgId);
      const reason = constructTelegramError(error, request.call);
      if (reason instanceof ConnectionNotInited) {
        this.#connectionInited = false;
        await this.#resend(request);
      } else {
        request.promiseWithResolvers.reject(constructTelegramError(error, request.call));
      }
    }
  }
  async #onRpcResult(msgId, body) {
    const sentRequest = this.#sentRequests.get(msgId);
    this.#L.debug("received rpc_result with req_msg_id =", msgId, "for", sentRequest === void 0 ? "unknown" : "known", "request");
    if (sentRequest) {
      let type;
      try {
        type = await telegram_exports.deserializeType(telegram_exports.mustGetReturnType(sentRequest.call._), body);
        this.#L.in(type);
        this.#L.debug("received rpc_result", repr2(type));
        sentRequest.promiseWithResolvers.resolve(type);
      } catch (err) {
        sentRequest.promiseWithResolvers.reject(err);
        this.#L.error("failed to deserialize rpc_result body:", err);
        this.handlers.onDeserializationError?.();
        return;
      } finally {
        this.#sentRequests.delete(msgId);
      }
    }
    if (!this.#connectionInited) {
      this.#connectionInited = true;
    }
  }
  #onPong(pong) {
    const sentRequest = this.#sentRequests.get(pong.msg_id);
    if (sentRequest) {
      sentRequest.promiseWithResolvers.resolve(pong);
      this.#sentRequests.delete(pong.msg_id);
    }
  }
};

// client/2_context.ts
var Context = class {
  #client;
  #me;
  #update;
  constructor(client, me, update) {
    this.#client = client;
    this.#me = me;
    this.#update = update;
  }
  get update() {
    return this.#update;
  }
  get me() {
    return this.#me;
  }
  get client() {
    return this.#client;
  }
  get msg() {
    return "message" in this.update ? this.update.message : "editedMessage" in this.update ? this.update.editedMessage : "scheduledMessage" in this.update ? this.update.scheduledMessage : "callbackQuery" in this.update ? this.update.callbackQuery.message : void 0;
  }
  get message() {
    return "message" in this.update ? this.update.message : void 0;
  }
  get editedMessage() {
    return "editedMessage" in this.update ? this.update.editedMessage : void 0;
  }
  get callbackQuery() {
    return "callbackQuery" in this.update ? this.update.callbackQuery : void 0;
  }
  get inlineQuery() {
    return "inlineQuery" in this.update ? this.update.inlineQuery : void 0;
  }
  get chosenInlineResult() {
    return "chosenInlineResult" in this.update ? this.update.chosenInlineResult : void 0;
  }
  #mustGetMsg() {
    if (this.msg !== void 0) {
      return { chatId: this.msg.chat.id, messageId: this.msg.id, businessConnectionId: this.msg.businessConnectionId, senderId: this.msg.from?.id, userId: this.msg.from?.id };
    }
    const reactions = "messageInteractions" in this.update ? this.update.messageInteractions : void 0;
    if (reactions !== void 0) {
      return { chatId: reactions.chatId, messageId: reactions.messageId };
    } else {
      unreachable();
    }
  }
  #mustGetChatId() {
    if (this.chat) {
      return this.chat.id;
    } else {
      unreachable();
    }
  }
  #mustGetUserId() {
    if (this.msg?.from) {
      return this.msg.from.id;
    } else if ("callbackQuery" in this.update) {
      return this.update.callbackQuery.from.id;
    } else if ("chosenInlineResult" in this.update) {
      return this.update.chosenInlineResult.from.id;
    } else {
      unreachable();
    }
  }
  #mustGetInlineMsgId() {
    if ("chosenInlineResult" in this.update) {
      if (this.update.chosenInlineResult.inlineMessageId) {
        return this.update.chosenInlineResult.inlineMessageId;
      }
    } else if ("callbackQuery" in this.update) {
      if (this.update.callbackQuery.inlineMessageId) {
        return this.update.callbackQuery.inlineMessageId;
      }
    }
    unreachable();
  }
  #getReplyTo = (quote, chatId, messageId) => {
    if ("story" in this.update) {
      return { chatId: this.update.story.chat.id, storyId: this.update.story.id };
    }
    const isPrivate = chatId > 0;
    const shouldQuote = quote === void 0 ? !isPrivate : quote;
    return shouldQuote ? { messageId } : void 0;
  };
  get chat() {
    return this.msg?.chat ?? ("messageReactions" in this.update ? this.update.messageReactions.chat : "messageReactionCount" in this.update ? this.update.messageReactionCount.chat : "chatMember" in this.update ? this.update.chatMember.chat : "myChatMember" in this.update ? this.update.myChatMember.chat : "joinRequest" in this.update ? this.update.joinRequest.chat : "story" in this.update ? this.update.story.chat : void 0);
  }
  get from() {
    const from = "callbackQuery" in this.update ? this.update.callbackQuery.from : "inlineQuery" in this.update ? this.update.inlineQuery.from : "chatMember" in this.update ? this.update.chatMember.from : "myChatMember" in this.update ? this.update.myChatMember.from : "messageReactions" in this.update ? this.update.messageReactions.user : "preCheckoutQuery" in this.update ? this.update.preCheckoutQuery.from : "joinRequest" in this.update ? this.update.joinRequest.from : "businessConnection" in this.update ? this.update.businessConnection.user : "pollAnswer" in this.update ? this.update.pollAnswer.from : this.msg?.from;
    return from;
  }
  toJSON() {
    if ("update" in this.update) {
      return { update: toJSON(this.update.update) };
    } else {
      return this.update;
    }
  }
  async reply(text, params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    const replyTo = this.#getReplyTo(params?.quote, chatId, messageId);
    return await this.client.sendMessage(chatId, text, { ...params, replyTo, businessConnectionId });
  }
  async replyPoll(question, options, params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    const replyTo = this.#getReplyTo(params?.quote, chatId, messageId);
    return await this.client.sendPoll(chatId, question, options, { ...params, replyTo, businessConnectionId });
  }
  async replyPhoto(photo, params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    const replyTo = this.#getReplyTo(params?.quote, chatId, messageId);
    return await this.client.sendPhoto(chatId, photo, { ...params, replyTo, businessConnectionId });
  }
  async replyMediaGroup(media, params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    const replyTo = this.#getReplyTo(params?.quote, chatId, messageId);
    return await this.client.sendMediaGroup(chatId, media, { ...params, replyTo, businessConnectionId });
  }
  async replyInvoice(title, description, payload, currency, prices, params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    const replyTo = this.#getReplyTo(params?.quote, chatId, messageId);
    return await this.client.sendInvoice(chatId, title, description, payload, currency, prices, { ...params, replyTo, businessConnectionId });
  }
  async replyDocument(document, params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    const replyTo = this.#getReplyTo(params?.quote, chatId, messageId);
    return await this.client.sendDocument(chatId, document, { ...params, replyTo, businessConnectionId });
  }
  async replySticker(sticker, params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    const replyTo = this.#getReplyTo(params?.quote, chatId, messageId);
    return await this.client.sendSticker(chatId, sticker, { ...params, replyTo, businessConnectionId });
  }
  async replyLocation(latitude, longitude, params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    const replyTo = this.#getReplyTo(params?.quote, chatId, messageId);
    return await this.client.sendLocation(chatId, latitude, longitude, { ...params, replyTo, businessConnectionId });
  }
  async replyDice(params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    const replyTo = this.#getReplyTo(params?.quote, chatId, messageId);
    return await this.client.sendDice(chatId, { ...params, replyTo, businessConnectionId });
  }
  async replyVenue(latitude, longitude, title, address, params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    const replyTo = this.#getReplyTo(params?.quote, chatId, messageId);
    return await this.client.sendVenue(chatId, latitude, longitude, title, address, { ...params, replyTo, businessConnectionId });
  }
  async replyContact(firstName, number, params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    const replyTo = this.#getReplyTo(params?.quote, chatId, messageId);
    return await this.client.sendContact(chatId, firstName, number, { ...params, replyTo, businessConnectionId });
  }
  async replyVideo(video, params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    const replyTo = this.#getReplyTo(params?.quote, chatId, messageId);
    return await this.client.sendVideo(chatId, video, { ...params, replyTo, businessConnectionId });
  }
  async replyAnimation(animation, params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    const replyTo = this.#getReplyTo(params?.quote, chatId, messageId);
    return await this.client.sendAnimation(chatId, animation, { ...params, replyTo, businessConnectionId });
  }
  async replyVoice(voice, params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    const replyTo = this.#getReplyTo(params?.quote, chatId, messageId);
    return await this.client.sendVoice(chatId, voice, { ...params, replyTo, businessConnectionId });
  }
  async replyAudio(audio, params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    const replyTo = this.#getReplyTo(params?.quote, chatId, messageId);
    return await this.client.sendAudio(chatId, audio, { ...params, replyTo, businessConnectionId });
  }
  async replyVideoNote(videoNote, params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    const replyTo = this.#getReplyTo(params?.quote, chatId, messageId);
    return await this.client.sendVideoNote(chatId, videoNote, { ...params, replyTo, businessConnectionId });
  }
  async delete() {
    const { chatId, messageId } = this.#mustGetMsg();
    return await this.client.deleteMessage(chatId, messageId);
  }
  async forward(to, params) {
    const { chatId, messageId } = this.#mustGetMsg();
    return await this.client.forwardMessage(chatId, to, messageId, params);
  }
  async pin(params) {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    return await this.client.pinMessage(chatId, messageId, { ...params, businessConnectionId });
  }
  async unpin() {
    const { chatId, messageId, businessConnectionId } = this.#mustGetMsg();
    return await this.client.unpinMessage(chatId, messageId, { businessConnectionId });
  }
  async banSender(params) {
    const { chatId, senderId } = this.#mustGetMsg();
    if (!senderId) {
      unreachable();
    }
    return await this.client.banChatMember(chatId, senderId, params);
  }
  async kickSender() {
    const { chatId, senderId } = this.#mustGetMsg();
    if (!senderId) {
      unreachable();
    }
    return await this.client.kickChatMember(chatId, senderId);
  }
  async setSenderRights(params) {
    const { chatId, senderId } = this.#mustGetMsg();
    if (!senderId) {
      unreachable();
    }
    return await this.client.setChatMemberRights(chatId, senderId, params);
  }
  async getChatAdministrators() {
    const chatId = this.#mustGetChatId();
    return await this.client.getChatAdministrators(chatId);
  }
  async react(reactions, params) {
    const { chatId, messageId } = this.#mustGetMsg();
    return await this.client.setReactions(chatId, messageId, reactions, params);
  }
  async sendChatAction(action, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.sendChatAction(chatId, action, params);
  }
  async editInlineMessageText(text, params) {
    const inlineMessageId = this.#mustGetInlineMsgId();
    return await this.client.editInlineMessageText(inlineMessageId, text, params);
  }
  async editInlineMessageCaption(params) {
    const inlineMessageId = this.#mustGetInlineMsgId();
    return await this.client.editInlineMessageCaption(inlineMessageId, params);
  }
  async editInlineMessageMedia(media, params) {
    const inlineMessageId = this.#mustGetInlineMsgId();
    return await this.client.editInlineMessageMedia(inlineMessageId, media, params);
  }
  async editInlineMessageLiveLocation(latitude, longitude, params) {
    const inlineMessageId = this.#mustGetInlineMsgId();
    return await this.client.editInlineMessageLiveLocation(inlineMessageId, latitude, longitude, params);
  }
  async editInlineMessageReplyMarkup(params) {
    const inlineMessageId = this.#mustGetInlineMsgId();
    return await this.client.editInlineMessageReplyMarkup(inlineMessageId, params);
  }
  async editMessageText(messageId, text, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.editMessageText(chatId, messageId, text, params);
  }
  async editMessageCaption(messageId, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.editMessageCaption(chatId, messageId, params);
  }
  async editMessageMedia(messageId, media, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.editMessageMedia(chatId, messageId, media, params);
  }
  async editMessageLiveLocation(messageId, latitude, longitude, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.editMessageLiveLocation(chatId, messageId, latitude, longitude, params);
  }
  async editMessageReplyMarkup(messageId, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.editMessageReplyMarkup(chatId, messageId, params);
  }
  async answerCallbackQuery(params) {
    if (!("callbackQuery" in this.update)) {
      unreachable();
    }
    return await this.client.answerCallbackQuery(this.update.callbackQuery.id, params);
  }
  async answerInlineQuery(results, params) {
    if (!("inlineQuery" in this.update)) {
      unreachable();
    }
    return await this.client.answerInlineQuery(this.update.inlineQuery.id, results, params);
  }
  async getMessage(messageId) {
    const chatId = this.#mustGetChatId();
    return await this.client.getMessage(chatId, messageId);
  }
  async getMessages(messageIds) {
    const chatId = this.#mustGetChatId();
    return await this.client.getMessages(chatId, messageIds);
  }
  async forwardMessage(to, messageId, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.forwardMessage(chatId, to, messageId, params);
  }
  async forwardMessages(to, messageIds, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.forwardMessages(chatId, to, messageIds, params);
  }
  async deleteMessage(messageId, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.deleteMessage(chatId, messageId, params);
  }
  async deleteMessages(messageIds, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.deleteMessages(chatId, messageIds, params);
  }
  async pinMessage(messageId, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.pinMessage(chatId, messageId, params);
  }
  async unpinMessage(messageId) {
    const chatId = this.#mustGetChatId();
    return await this.client.unpinMessage(chatId, messageId);
  }
  async unpinMessages() {
    const chatId = this.#mustGetChatId();
    return await this.client.unpinMessages(chatId);
  }
  async setAvailableReactions(availableReactions) {
    const chatId = this.#mustGetChatId();
    return await this.client.setAvailableReactions(chatId, availableReactions);
  }
  async addReaction(messageId, reaction, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.addReaction(chatId, messageId, reaction, params);
  }
  async removeReaction(messageId, reaction) {
    const chatId = this.#mustGetChatId();
    return await this.client.removeReaction(chatId, messageId, reaction);
  }
  async setReactions(messageId, reactions, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.setReactions(chatId, messageId, reactions, params);
  }
  async read() {
    const { chatId, messageId } = this.#mustGetMsg();
    return await this.client.readMessages(chatId, messageId);
  }
  async setChatPhoto(photo, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.setChatPhoto(chatId, photo, params);
  }
  async deletChatPhoto() {
    const chatId = this.#mustGetChatId();
    return await this.client.deleteChatPhoto(chatId);
  }
  async banChatMember(memberId, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.banChatMember(chatId, memberId, params);
  }
  async unbanChatMember(memberId) {
    const chatId = this.#mustGetChatId();
    return await this.client.unbanChatMember(chatId, memberId);
  }
  async kickChatMember(memberId) {
    const chatId = this.#mustGetChatId();
    return await this.client.kickChatMember(chatId, memberId);
  }
  async setChatMemberRights(memberId, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.setChatMemberRights(chatId, memberId, params);
  }
  async promoteChatMember(userId, params) {
    const chatId = this.#mustGetChatId();
    return await this.client.promoteChatMember(chatId, userId, params);
  }
  async deleteChatMemberMessages(userId) {
    const chatId = this.#mustGetChatId();
    return await this.client.deleteChatMemberMessages(chatId, userId);
  }
  async searchMessages(params) {
    const chatId = this.#mustGetChatId();
    params ??= {};
    params.chatId = chatId;
    return await this.client.searchMessages(params);
  }
  async setBoostsRequiredToCircumventRestrictions(boosts) {
    const chatId = this.#mustGetChatId();
    return await this.client.setBoostsRequiredToCircumventRestrictions(chatId, boosts);
  }
  async createInviteLink(params) {
    const chatId = this.#mustGetChatId();
    return await this.client.createInviteLink(chatId, params);
  }
  async getCreatedInviteLinks(params) {
    const chatId = this.#mustGetChatId();
    return await this.client.getCreatedInviteLinks(chatId, params);
  }
  async leaveChat() {
    const chatId = this.#mustGetChatId();
    return await this.client.leaveChat(chatId);
  }
  async blockUser() {
    return await this.client.blockUser(this.#mustGetUserId());
  }
  async unblockUser() {
    return await this.client.unblockUser(this.#mustGetUserId());
  }
  async getChatMember(userId) {
    const chatId = this.#mustGetChatId();
    return await this.client.getChatMember(chatId, userId);
  }
  async getChatMembers(params) {
    const chatId = this.#mustGetChatId();
    return await this.client.getChatMembers(chatId, params);
  }
  async setChatStickerSet(setName) {
    const chatId = this.#mustGetChatId();
    return await this.client.setChatStickerSet(chatId, setName);
  }
  async deleteChatStickerSet() {
    const chatId = this.#mustGetChatId();
    return await this.client.deleteChatStickerSet(chatId);
  }
  async getBusinessConnection() {
    const { businessConnectionId } = this.#mustGetMsg();
    if (!businessConnectionId) {
      unreachable();
    }
    return await this.client.getBusinessConnection(businessConnectionId);
  }
  async answerPreCheckoutQuery(ok, params) {
    if (!("preCheckoutQuery" in this.update)) {
      unreachable();
    }
    return await this.client.answerPreCheckoutQuery(this.update.preCheckoutQuery.id, ok, params);
  }
  async approveJoinRequest() {
    const { chatId, userId } = this.#mustGetMsg();
    if (!userId) {
      unreachable();
    }
    return await this.client.approveJoinRequest(chatId, userId);
  }
  async declineJoinRequest() {
    const { chatId, userId } = this.#mustGetMsg();
    if (!userId) {
      unreachable();
    }
    return await this.client.declineJoinRequest(chatId, userId);
  }
};

// client/3_filters.ts
function match(filter2, value) {
  let [type, ...other] = filter2.split(":");
  if (other.length === 0 && type !== "update" && "update" in value && value.update._ === type) {
    return true;
  } else if (type !== "" && !(type in value)) {
    return false;
  }
  if (type === "") {
    if (other.length !== 1) {
      return false;
    }
    if ("message" in value) {
      type = "message";
    } else if ("editedMessage" in value) {
      type = "editedMessage";
    } else if ("scheduledMessage" in value) {
      type = "scheduledMessage";
    } else {
      return false;
    }
  }
  const field = other[0];
  if (field) {
    if (!(field in value[type])) {
      return false;
    }
  }
  return true;
}

// client/4_composer.ts
function flatten(mw) {
  return typeof mw === "function" ? mw : (ctx, next) => mw.middleware()(ctx, next);
}
function concat2(left, right) {
  return async (ctx, next) => {
    let called = false;
    await left(ctx, async () => {
      if (called) {
        return;
      } else {
        called = true;
        await right(ctx, next);
      }
    });
  };
}
function skip(_ctx, next) {
  return next();
}
var Composer = class _Composer {
  #handle;
  #prefixes;
  set prefixes(value) {
    if (this.#prefixes !== void 0) {
      throw new InputError("Prefixes already set");
    }
    this.#prefixes = value;
  }
  constructor(...middleware) {
    this.#handle = middleware.length === 0 ? skip : middleware.map(flatten).reduce(concat2);
  }
  #lastGetMe;
  async handleUpdate(client, update) {
    if (!this.#lastGetMe && !("connectionState" in update) && (!("authorizationState" in update) || "authorizationState" in update && update.authorizationState.isAuthorized)) {
      this.#lastGetMe = await client.getMe();
    }
    const ctx = new Context(client, this.#lastGetMe, update);
    const next = () => Promise.resolve();
    await this.#handle(ctx, next);
  }
  middleware() {
    return this.#handle;
  }
  use(...middleware) {
    const composer = new _Composer(...middleware);
    this.#handle = concat2(this.#handle, flatten(composer));
    return composer;
  }
  branch(predicate, trueHandler_, falseHandler_) {
    const trueHandler = flatten(trueHandler_);
    const falseHandler = flatten(falseHandler_);
    return this.use(async (upd, next) => {
      if (await predicate(upd)) {
        await trueHandler(upd, next);
      } else {
        await falseHandler(upd, next);
      }
    });
  }
  filter(predicate, ...middleware) {
    const composer = new _Composer(...middleware);
    this.branch(predicate, composer, skip);
    return composer;
  }
  on(filter2, ...middleware) {
    return this.filter((ctx) => {
      return match(filter2, ctx.update);
    }, ...middleware);
  }
  command(commands, ...middleware) {
    const commands__ = typeof commands === "object" && "names" in commands ? commands.names : commands;
    const commands_ = Array.isArray(commands__) ? commands__ : [commands__];
    const prefixes_ = typeof commands === "object" && "prefixes" in commands ? commands.prefixes : this.#prefixes ?? [];
    const prefixes = Array.isArray(prefixes_) ? prefixes_ : [prefixes_];
    for (const left of prefixes) {
      for (const right of prefixes) {
        if (left === right) {
          continue;
        }
        if (left.startsWith(right) || right.startsWith(left)) {
          throw new InputError("Intersecting prefixes");
        }
      }
    }
    return this.on("message:text").filter((ctx) => {
      const prefixes_2 = prefixes.length === 0 ? [!ctx.me?.isBot ? "\\" : "/"] : prefixes;
      if (prefixes_2.length === 0) {
        return false;
      }
      const cmd = ctx.update.message.text.split(/\s/, 1)[0];
      const prefix2 = prefixes_2.find((v) => cmd.startsWith(v));
      if (prefix2 === void 0) {
        return false;
      }
      if (cmd.includes("@")) {
        const username = cmd.split("@", 2)[1];
        if (username.toLowerCase() !== ctx.me.username?.toLowerCase()) {
          return false;
        }
      }
      const command_ = cmd.split("@", 1)[0].split(prefix2, 2)[1].toLowerCase();
      for (const command of commands_) {
        if (typeof command === "string" && command.toLowerCase() === command_) {
          return true;
        } else if (command instanceof RegExp && command.test(command_)) {
          return true;
        }
      }
      return false;
    }, ...middleware);
  }
  callbackQuery(data, ...middleware) {
    const data_ = Array.isArray(data) ? data : [data];
    return this.on("callbackQuery:data").filter((ctx) => {
      for (const data2 of data_) {
        if (typeof data2 === "string" && data2 === ctx.update.callbackQuery.data) {
          return true;
        } else if (data2 instanceof RegExp && data2.test(ctx.update.callbackQuery.data)) {
          return true;
        }
      }
      return false;
    }, ...middleware);
  }
  inlineQuery(queries, ...middleware) {
    const queries_ = Array.isArray(queries) ? queries : [queries];
    return this.on("inlineQuery").filter((ctx) => {
      for (const query of queries_) {
        if (typeof query === "string" && query === ctx.update.inlineQuery.query) {
          return true;
        } else if (query instanceof RegExp && query.test(ctx.update.inlineQuery.query)) {
          return true;
        }
      }
      return false;
    }, ...middleware);
  }
};

// client/0_storage_operations.ts
var K = {
  session: {
    P: (string) => `session.${string}`,
    serverSalt: () => [K.session.P("serverSalt")]
  },
  auth: {
    P: (string) => `auth.${string}`,
    isPremium: () => [K.auth.P("isPremium")]
  },
  updates: {
    P: (string) => `updates.${string}`,
    state: () => [K.updates.P("state")],
    all: () => [K.updates.P("updates")],
    updates: (boxId) => [...K.updates.all(), boxId],
    update: (boxId, id5) => [...K.updates.updates(boxId), id5]
  },
  cache: {
    P: (string) => `cache.${string}`,
    stickerSetNames: () => [K.cache.P("stickerSetNames")],
    stickerSetName: (id5, accessHash) => [...K.cache.stickerSetNames(), id5, accessHash],
    files: () => [K.cache.P("files")],
    file: (fileId) => [...K.cache.files(), fileId],
    fileParts: () => [K.cache.P("fileParts")],
    filePart: (fileId, n) => [...K.cache.fileParts(), fileId, n],
    customEmojiDocuments: () => [K.cache.P("customEmojiDocuments")],
    customEmojiDocument: (id5) => [...K.cache.customEmojiDocuments(), id5],
    businessConnections: () => [K.cache.P("businessConnections")],
    businessConnection: (id5) => [...K.cache.businessConnections(), id5],
    inlineQueryAnswers: () => [K.cache.P("inlineQueryResults")],
    inlineQueryAnswer: (userId, chatId, query, offset) => [...K.cache.inlineQueryAnswers(), userId, chatId, query, offset],
    callbackQueryAnswers: () => [K.cache.P("callbackQueryAnswers")],
    callbackQueryAnswer: (chatId, messageId, question) => [...K.cache.callbackQueryAnswers(), chatId, messageId, question],
    fullChats: () => [K.cache.P("fullChats")],
    fullChat: (chatId) => [...K.cache.fullChats(), chatId],
    groupCalls: () => [K.cache.P("groupCalls")],
    groupCall: (id5) => [...K.cache.groupCalls(), id5],
    groupCallAccessHashes: () => [K.cache.P("groupCallAccessHashes")],
    groupCallAccessHash: (id5) => [...K.cache.groupCallAccessHashes(), id5],
    pollResults: () => [K.cache.P("pollResults")],
    pollResult: (pollId) => [...K.cache.pollResults(), pollId],
    polls: () => [K.cache.P("polls")],
    poll: (pollId) => [...K.cache.polls(), pollId],
    voiceTranscriptions: () => [K.cache.P("voiceTranscriptions")],
    voiceTranscription: (transcriptionId) => [...K.cache.voiceTranscriptions(), transcriptionId],
    voiceTranscriptionReferences: () => [K.cache.P("voiceTranscriptions")],
    voiceTranscriptionReference: (chatId, messageId, messageEditDate) => [...K.cache.voiceTranscriptionReferences(), chatId, messageId, messageEditDate]
  },
  messages: {
    P: (string) => `messages.${string}`,
    messages: (chatId) => [K.messages.P("messages"), chatId],
    message: (chatId, messageId) => [...K.messages.messages(chatId), messageId],
    allMessageRefs: () => [K.messages.P("messageRefs")],
    messageRef: (messageId) => [...K.messages.allMessageRefs(), messageId]
  }
};
var StorageOperations = class {
  #storage;
  #supportsFiles;
  #mustSerialize;
  #L;
  #maps = new Array();
  #values = new Array();
  auth;
  channelPts;
  peers;
  usernames;
  translations;
  constructor(storage) {
    this.#storage = storage;
    this.#supportsFiles = storage.supportsFiles;
    this.#mustSerialize = storage.mustSerialize;
    this.#L = getLogger("StorageOperations");
    this.auth = this.#addValue(new StorageAuth(storage));
    this.channelPts = this.#addMap(new StorageMap(storage, "channelPts"));
    this.peers = this.#addMap(new StorageMap(storage, "peers"));
    this.usernames = this.#addMap(new StorageMap(storage, "usernames"));
    this.translations = this.#addMap(new StorageMap(storage, "translations"));
  }
  #addMap(map2) {
    this.#maps.push(map2);
    return map2;
  }
  #addValue(value) {
    this.#values.push(value);
    return value;
  }
  get provider() {
    return this.#storage;
  }
  get supportsFiles() {
    return this.#storage.supportsFiles;
  }
  async initialize() {
    await this.#storage.initialize();
    await this.auth.get();
  }
  set(...args) {
    return this.#storage.set(...args);
  }
  incr(...args) {
    return this.#storage.incr(...args);
  }
  get(...args) {
    return this.#storage.get(...args);
  }
  async exportAuthString(apiId_) {
    if (typeof apiId_ === "number") {
      await this.auth.update((v) => v.apiId = apiId_);
    }
    const auth = this.auth.mustGet();
    if (auth.dc === null || auth.authKey === null || auth.apiId === 0 || auth.userId === 0) {
      throw new Error("Not authorized");
    }
    const writer = new TLWriter();
    writer.writeString(auth.dc);
    writer.writeBytes(auth.authKey);
    writer.writeInt32(auth.apiId);
    writer.write(new Uint8Array([auth.isBot ? 1 : 0]));
    writer.writeInt64(BigInt(auth.userId));
    const data = rleEncode(writer.buffer);
    return base64EncodeUrlSafe(data);
  }
  async importAuthString(string) {
    const data = rleDecode(base64DecodeUrlSafe(string));
    const reader = new TLReader(data);
    const dc = reader.readString();
    const authKey = reader.readBytes();
    const apiId = reader.readInt32();
    const isBot = !!reader.read(1)[0];
    const userId = Number(reader.readInt64());
    await this.auth.set({
      apiId,
      authKey,
      dc,
      isBot,
      userId
    });
  }
  #lastCommit = null;
  async commit(force = false) {
    if (this.#storage.isMemory) {
      return;
    }
    const pending = this.#values.filter((v) => v.isUpdatePending).length + this.#maps.filter((v) => v.pendingUpdateCount > 0).length;
    if (pending <= 0) {
      this.#L.debug("nothing to commit");
      return;
    }
    let commit = false;
    if (force) {
      this.#L.debug("committing because force = true");
      commit = true;
    } else {
      if (!commit && pending >= 1e3) {
        this.#L.debug("committing because pending writes >= threshold");
        commit = true;
      } else if (this.#lastCommit === null) {
        this.#L.debug("committing because there is no last commit");
        commit = true;
      } else if (Date.now() - this.#lastCommit.getTime() >= 5 * MINUTE) {
        this.#L.debug("committing because last commit is older than threshold");
        commit = true;
      } else {
        this.#L.debug("not committing");
      }
    }
    if (commit) {
      const values = this.#values.filter((v) => v.isUpdatePending).map((v) => v.commit());
      const maps = this.#maps.filter((v) => v.pendingUpdateCount > 0).map((v) => v.commit());
      await Promise.all(values.concat(maps));
      this.#L.debug("committed", values.length, "value(s) and", maps.length, "map(s)");
      this.#lastCommit = /* @__PURE__ */ new Date();
    }
  }
  async setTlObject(key, value) {
    if (value === null) {
      await this.#storage.set(key, null);
    } else {
      await this.#storage.set(key, this.#mustSerialize ? [value._, rleEncode(telegram_exports.serializeObject(value))] : value);
    }
  }
  async getTlObject(keyOrBuffer) {
    const buffer = keyOrBuffer instanceof Uint8Array || telegram_exports.isValidObject(keyOrBuffer) ? keyOrBuffer : await this.#storage.get(keyOrBuffer);
    if (buffer !== null) {
      if (buffer instanceof Uint8Array) {
        return await telegram_exports.deserializeType(X, rleDecode(buffer));
      } else if (Array.isArray(buffer)) {
        return await telegram_exports.deserializeType(buffer[0], rleDecode(buffer[1]));
      } else {
        return buffer;
      }
    } else {
      return null;
    }
  }
  async setState(state) {
    await this.setTlObject(K.updates.state(), state);
  }
  async getState() {
    return await this.getTlObject(K.updates.state());
  }
  async setMessage(chatId, messageId, message) {
    if (chatId > ZERO_CHANNEL_ID) {
      await this.#storage.set(K.messages.messageRef(messageId), message === null ? null : chatId);
    }
    await this.setTlObject(K.messages.message(chatId, messageId), message);
  }
  async deleteMessages() {
    const maybePromises = new Array();
    for await (const [k, o] of await this.#storage.getMany({ prefix: K.messages.allMessageRefs() })) {
      maybePromises.push(Promise.all([this.#storage.set(k, null), o === null ? Promise.resolve() : this.#storage.set(K.messages.message(o, k[1]), null)]));
    }
    await Promise.all(maybePromises.filter((v) => v instanceof Promise));
  }
  getMessageChat(messageId) {
    return this.#storage.get(K.messages.messageRef(messageId));
  }
  async getMessage(chatId, messageId) {
    return await this.getTlObject(K.messages.message(chatId, messageId));
  }
  setPeer(peer_) {
    const chatP = constructChatP(peer_);
    this.setPeer2(chatP, "access_hash" in peer_ ? peer_.access_hash ?? 0n : 0n);
  }
  setPeer2(chatP, accessHash) {
    this.peers.set([chatP.id], [chatP, accessHash]);
  }
  #accountId = null;
  async getAccountId() {
    if (this.#accountId !== null) {
      return this.#accountId;
    } else {
      return this.#accountId = (await this.auth.get())?.userId ?? null;
    }
  }
  async setIsPremium(isPremium) {
    await this.#storage.set(K.auth.isPremium(), isPremium);
  }
  async getIsPremium() {
    return await this.#storage.get(K.auth.isPremium());
  }
  async updateStickerSetName(id5, accessHash, name) {
    await this.#storage.set(K.cache.stickerSetName(id5, accessHash), [name, /* @__PURE__ */ new Date()]);
  }
  getStickerSetName(id5, accessHash) {
    return this.#storage.get(K.cache.stickerSetName(id5, accessHash));
  }
  async setServerSalt(serverSalt) {
    await this.#storage.set(K.session.serverSalt(), serverSalt);
  }
  getServerSalt() {
    return this.#storage.get(K.session.serverSalt());
  }
  async getHistory(chatId, offsetId, limit) {
    if (offsetId === 0) {
      offsetId = Infinity;
    }
    ++limit;
    const messages = new Array();
    for await (const [_, buffer] of await this.#storage.getMany({ start: K.messages.message(chatId, 0), end: K.messages.message(chatId, offsetId) }, { limit, reverse: true })) {
      const message = await this.getTlObject(buffer);
      if ("id" in message && message.id === offsetId) {
        continue;
      }
      messages.push(message);
    }
    return messages;
  }
  async getFile(id5) {
    if (!this.#supportsFiles) {
      return null;
    }
    return await this.#storage.get(K.cache.file(id5));
  }
  async *iterFileParts(id5, partCount, offset, signal) {
    if (!this.#supportsFiles) {
      return;
    }
    for (let i = offset; i < partCount; i++) {
      signal?.throwIfAborted();
      const part = await this.#storage.get(K.cache.filePart(id5, i));
      if (part === null) {
        continue;
      }
      yield part;
    }
  }
  async saveFilePart(id5, index, bytes) {
    if (!this.#supportsFiles) {
      return;
    }
    await this.#storage.set(K.cache.filePart(id5, index), bytes);
  }
  async setFilePartCount(id5, partCount, chunkSize) {
    if (!this.#supportsFiles) {
      return;
    }
    await this.#storage.set(K.cache.file(id5), [partCount, chunkSize]);
  }
  async setCustomEmojiDocument(id5, document) {
    await this.#storage.set(K.cache.customEmojiDocument(id5), [this.#mustSerialize ? rleEncode(telegram_exports.serializeObject(document)) : document, /* @__PURE__ */ new Date()]);
  }
  async getCustomEmojiDocument(id5) {
    const v = await this.#storage.get(K.cache.customEmojiDocument(id5));
    if (v !== null) {
      return [await this.getTlObject(v[0]), v[1]];
    } else {
      return null;
    }
  }
  async setBusinessConnection(id5, connection) {
    await this.#storage.set(K.cache.businessConnection(id5), connection === null ? null : this.#mustSerialize ? rleEncode(telegram_exports.serializeObject(connection)) : connection);
  }
  async getBusinessConnection(id5) {
    const v = await this.#storage.get(K.cache.businessConnection(id5));
    if (v !== null) {
      return await this.getTlObject(v);
    } else {
      return null;
    }
  }
  async setInlineQueryAnswer(userId, chatId, query, offset, results, date) {
    await this.#storage.set(K.cache.inlineQueryAnswer(userId, chatId, query, offset), [this.#mustSerialize ? rleEncode(telegram_exports.serializeObject(results)) : results, date]);
  }
  async getInlineQueryAnswer(userId, chatId, query, offset) {
    const peer_ = await this.#storage.get(K.cache.inlineQueryAnswer(userId, chatId, query, offset));
    if (peer_ !== null) {
      const [obj_, date] = peer_;
      return [telegram_exports.as("messages.botResults", await this.getTlObject(obj_)), date];
    } else {
      return null;
    }
  }
  async setCallbackQueryAnswer(chatId, messageId, question, answer) {
    await this.#storage.set(K.cache.callbackQueryAnswer(chatId, messageId, question), [this.#mustSerialize ? rleEncode(telegram_exports.serializeObject(answer)) : answer, /* @__PURE__ */ new Date()]);
  }
  async getCallbackQueryAnswer(chatId, messageId, question) {
    const peer_ = await this.#storage.get(K.cache.callbackQueryAnswer(chatId, messageId, question));
    if (peer_ !== null) {
      const [obj_, date] = peer_;
      return [telegram_exports.as("messages.botCallbackAnswer", await this.getTlObject(obj_)), date];
    } else {
      return null;
    }
  }
  async setFullChat(chatId, fullChat) {
    await this.setTlObject(K.cache.fullChat(chatId), fullChat);
  }
  async getFullChat(chatId) {
    return await this.getTlObject(K.cache.fullChat(chatId));
  }
  async setGroupCall(id5, groupCall) {
    await this.setTlObject(K.cache.groupCall(id5), groupCall);
  }
  async getGroupCall(id5) {
    return await this.getTlObject(K.cache.groupCall(id5));
  }
  async setGroupCallAccessHash(id5, accessHash) {
    await this.#storage.set(K.cache.groupCallAccessHash(id5), accessHash);
  }
  async getGroupCallAccessHash(id5) {
    return await this.#storage.get(K.cache.groupCallAccessHash(id5));
  }
  #getUpdateId(update) {
    let id5 = BigInt(Date.now()) << 32n;
    if ("pts" in update && update.pts) {
      id5 |= BigInt(update.pts);
    } else {
      id5 |= BigInt(0xFFFFFFFFn);
    }
    return id5;
  }
  async setUpdate(boxId, update) {
    await this.setTlObject(K.updates.update(boxId, this.#getUpdateId(update)), update);
  }
  async deleteUpdates() {
    const maybePromises = new Array();
    for await (const [k] of await this.#storage.getMany({ prefix: K.updates.all() })) {
      maybePromises.push(this.#storage.set(k, null));
    }
    await Promise.all(maybePromises.filter((v) => v instanceof Promise));
  }
  async getFirstUpdate(boxId) {
    for await (const [key, update] of await this.#storage.getMany({ prefix: K.updates.updates(boxId) }, { limit: 1 })) {
      return [key, await this.getTlObject(update)];
    }
    return null;
  }
  assertUser(source) {
    if (this.isBot) {
      throw new InputError(`${source}: not a user client`);
    }
  }
  assertBot(source) {
    if (!this.isBot) {
      throw new InputError(`${source}: not a bot client`);
    }
  }
  get isBot() {
    return this.auth.mustGet().isBot;
  }
  async getChannelAccessHash(id5) {
    const peer = await this.peers.get([id5]);
    if (peer?.[0].type === "channel" || peer?.[0].type === "supergroup") {
      return peer[1];
    } else {
      return null;
    }
  }
  async getUserAccessHash(id5) {
    const peer = await this.peers.get([id5]);
    if (peer?.[0].type === "private") {
      return peer[1];
    } else {
      return null;
    }
  }
  async deleteFiles() {
    if (!this.#supportsFiles) {
      return;
    }
    for await (const [key] of await this.#storage.getMany({ prefix: K.cache.fileParts() })) {
      await this.#storage.set(key, null);
    }
    for await (const [key] of await this.#storage.getMany({ prefix: K.cache.files() })) {
      await this.#storage.set(key, null);
    }
  }
  async deleteCustomEmojiDocuments() {
    for await (const [key] of await this.#storage.getMany({ prefix: K.cache.customEmojiDocuments() })) {
      await this.#storage.set(key, null);
    }
  }
  async deleteBusinessConnections() {
    for await (const [key] of await this.#storage.getMany({ prefix: K.cache.businessConnections() })) {
      await this.#storage.set(key, null);
    }
  }
  async deleteInlineQueryAnswers() {
    for await (const [key] of await this.#storage.getMany({ prefix: K.cache.inlineQueryAnswers() })) {
      await this.#storage.set(key, null);
    }
  }
  async deleteCallbackQueryAnswers() {
    for await (const [key] of await this.#storage.getMany({ prefix: K.cache.callbackQueryAnswers() })) {
      await this.#storage.set(key, null);
    }
  }
  async deleteFullChats() {
    for await (const [key] of await this.#storage.getMany({ prefix: K.cache.fullChats() })) {
      await this.#storage.set(key, null);
    }
  }
  async deleteGroupCalls() {
    for await (const [key] of await this.#storage.getMany({ prefix: K.cache.groupCalls() })) {
      await this.#storage.set(key, null);
    }
  }
  async deleteStickerSetNames() {
    for await (const [key] of await this.#storage.getMany({ prefix: K.cache.stickerSetNames() })) {
      await this.#storage.set(key, null);
    }
  }
  async clear() {
    await Promise.all([
      this.deleteMessages(),
      this.deleteUpdates(),
      this.deleteFiles(),
      this.deleteCustomEmojiDocuments(),
      this.deleteBusinessConnections(),
      this.deleteInlineQueryAnswers(),
      this.deleteCallbackQueryAnswers(),
      this.deleteFullChats(),
      this.deleteGroupCalls(),
      this.deleteStickerSetNames(),
      this.peers.clear(),
      this.usernames.clear(),
      this.translations.clear(),
      this.deletePollResults(),
      this.deletePolls(),
      this.deleteVoiceTranscriptions(),
      this.deleteVoiceTranscriptionReferences()
    ]);
  }
  async reset() {
    for await (const [key] of await this.#storage.getMany({ prefix: [] })) {
      await this.#storage.set(key, null);
    }
  }
  async setPollResults(pollId, pollResults) {
    await this.setTlObject(K.cache.pollResult(pollId), pollResults);
  }
  async getPollResults(pollId) {
    return await this.getTlObject(K.cache.pollResult(pollId));
  }
  async deletePollResults() {
    const maybePromises = new Array();
    for await (const [key] of await this.#storage.getMany({ prefix: K.cache.pollResults() })) {
      maybePromises.push(this.#storage.set(key, null));
    }
    await Promise.all(maybePromises);
  }
  async setPoll(pollId, poll) {
    await this.setTlObject(K.cache.poll(pollId), poll);
  }
  async getPoll(pollId) {
    return await this.getTlObject(K.cache.poll(pollId));
  }
  async deletePolls() {
    const maybePromises = new Array();
    for await (const [key] of await this.#storage.getMany({ prefix: K.cache.polls() })) {
      maybePromises.push(this.#storage.set(key, null));
    }
    await Promise.all(maybePromises);
  }
  async setVoiceTranscription(voiceTranscription) {
    await this.#storage.set(K.cache.voiceTranscription(BigInt(voiceTranscription.id)), voiceTranscription);
  }
  async getVoiceTranscription(transcriptionId) {
    return await this.#storage.get(K.cache.voiceTranscription(transcriptionId));
  }
  async deleteVoiceTranscriptions() {
    const maybePromises = new Array();
    for await (const [key] of await this.#storage.getMany({ prefix: K.cache.voiceTranscriptions() })) {
      maybePromises.push(this.#storage.set(key, null));
    }
    await Promise.all(maybePromises);
  }
  async setVoiceTranscriptionReference(chatId, messageId, messageEditDate, transcriptionId) {
    await this.#storage.set(K.cache.voiceTranscriptionReference(chatId, messageId, messageEditDate.getTime()), transcriptionId);
  }
  async getVoiceTranscriptionReference(chatId, messageId, messageEditDate) {
    return await this.#storage.get(K.cache.voiceTranscriptionReference(chatId, messageId, messageEditDate.getTime()));
  }
  async deleteVoiceTranscriptionReferences() {
    const maybePromises = new Array();
    for await (const [key] of await this.#storage.getMany({ prefix: K.cache.voiceTranscriptions() })) {
      maybePromises.push(this.#storage.set(key, null));
    }
    await Promise.all(maybePromises);
  }
};
var StorageMap = class {
  #storage;
  #path;
  constructor(storage, path) {
    this.#storage = storage;
    this.#path = path;
  }
  #pendingUpdates = /* @__PURE__ */ new Map();
  #cache = new LruCache(2e4);
  set(key, value) {
    const key_ = toString(key);
    this.#cache.set(key_, value);
    if (!this.#storage.isMemory) {
      this.#pendingUpdates.set(key_, value);
    }
  }
  get pendingUpdateCount() {
    return this.#pendingUpdates.size;
  }
  mustGet(key) {
    const value = this.#cache.get(toString(key));
    if (value === void 0) {
      unreachable();
    } else {
      return value;
    }
  }
  async clear() {
    await awaitablePooledMap(10, await this.#storage.getMany({ prefix: [this.#path] }), async ([key]) => await this.#storage.set(key, null));
  }
  async get(key) {
    const key_ = toString(key);
    let value = this.#cache.get(key_);
    if (value === void 0) {
      value = await this.#storage.get([this.#path, ...key]);
      this.#cache.set(key_, value);
    }
    return value;
  }
  async commit() {
    if (this.#storage.isMemory) {
      return;
    }
    await awaitablePooledMap(2, this.#pendingUpdates, async ([key, value]) => await this.#storage.set([this.#path, ...fromString(key)], value));
    this.#pendingUpdates.clear();
  }
};
var StorageValue = class {
  #storage;
  #key;
  constructor(storage, path) {
    this.#storage = storage;
    this.#key = [path];
  }
  #updatePending = false;
  #value;
  set(value) {
    this.#value = value;
    if (!this.#storage.isMemory) {
      this.#updatePending = true;
    }
  }
  get isUpdatePending() {
    return this.#updatePending;
  }
  mustGet() {
    return this.#value === void 0 ? unreachable() : this.#value;
  }
  async get() {
    if (this.#value === void 0) {
      this.#value = await this.#storage.get(this.#key);
    }
    return this.#value;
  }
  async commit() {
    if (this.#storage.isMemory || this.#value === void 0) {
      return;
    }
    await this.#storage.set(this.#key, this.#value);
    this.#updatePending = false;
  }
};
var StorageAuth = class extends StorageValue {
  constructor(storage) {
    super(storage, "auth");
  }
  async get() {
    const value = await super.get();
    await this.#resetAuthKeyId(value);
    return value;
  }
  mustGet() {
    return super.mustGet() ?? {
      apiId: 0,
      authKey: new Uint8Array(),
      dc: null,
      isBot: false,
      userId: 0
    };
  }
  async set(auth) {
    super.set(auth);
    await this.#resetAuthKeyId(auth);
  }
  async update(fn) {
    const auth = this.mustGet();
    fn(auth);
    await this.set(auth);
  }
  #authKeyId = null;
  async #resetAuthKeyId(auth) {
    if (auth?.authKey) {
      this.#authKeyId = intFromBytes((await sha1(auth.authKey)).subarray(-8));
    } else {
      this.#authKeyId = null;
    }
  }
  get authKeyId() {
    return this.#authKeyId;
  }
};

// client/1_invoke_middleware.ts
function skipInvoke() {
  return (_ctx, next) => next();
}

// client/2_account_manager.ts
var AccountManager = class {
  #c;
  constructor(c) {
    this.#c = c;
  }
  async #toggleUsername(id5, username, active) {
    const peer = await this.#c.getInputPeer(id5);
    if (telegram_exports.is("inputPeerSelf", peer)) {
      await this.#c.invoke({ _: "account.toggleUsername", username, active });
    } else if (canBeInputUser(peer)) {
      await this.#c.invoke({ _: "bots.toggleUsername", bot: toInputUser(peer), username, active });
    } else if (canBeInputChannel(peer)) {
      await this.#c.invoke({ _: "channels.toggleUsername", channel: toInputChannel(peer), username, active });
    } else {
      unreachable();
    }
  }
  async showUsername(id5, username) {
    this.#c.storage.assertUser("showUsername");
    await this.#toggleUsername(id5, username, true);
  }
  async hideUsername(id5, username) {
    this.#c.storage.assertUser("hideUsername");
    await this.#toggleUsername(id5, username, false);
  }
  async reorderUsernames(id5, order) {
    this.#c.storage.assertUser("reorderUsernames");
    const peer = await this.#c.getInputPeer(id5);
    if (telegram_exports.is("inputPeerSelf", peer)) {
      return await this.#c.invoke({ _: "account.reorderUsernames", order });
    } else if (canBeInputUser(peer)) {
      return await this.#c.invoke({ _: "bots.reorderUsernames", bot: toInputUser(peer), order });
    } else if (canBeInputChannel(peer)) {
      return await this.#c.invoke({ _: "channels.reorderUsernames", channel: toInputChannel(peer), order });
    } else {
      unreachable();
    }
  }
  async hideUsernames(id5) {
    this.#c.storage.assertUser("hideUsernames");
    const peer = await this.#c.getInputPeer(id5);
    if (canBeInputChannel(peer)) {
      return await this.#c.invoke({ _: "channels.deactivateAllUsernames", channel: toInputChannel(peer) });
    } else {
      unreachable();
    }
  }
  async getInactiveChats() {
    this.#c.storage.assertUser("getInactiveChats");
    const { chats, dates } = await this.#c.invoke({ _: "channels.getInactiveChannels" });
    return chats.map((v, i) => constructInactiveChat(v, dates[i]));
  }
  async setOnline(online) {
    this.#c.storage.assertUser("setOnline");
    await this.#c.invoke({ _: "account.updateStatus", offline: !online });
  }
  async setEmojiStatus(id5, params) {
    this.#c.storage.assertUser("setEmojiStatus");
    const document_id = BigInt(id5);
    const until = params?.until;
    const emoji_status = { _: "emojiStatus", document_id, until };
    await this.#c.invoke({ _: "account.updateEmojiStatus", emoji_status });
  }
  async setUserEmojiStatus(userId, id5, params) {
    this.#c.storage.assertBot("setUserEmojiStatus");
    const user_id = await this.#c.getInputUser(userId);
    const document_id = BigInt(id5);
    const until = params?.until;
    const emoji_status = { _: "emojiStatus", document_id, until };
    await this.#c.invoke({ _: "bots.updateUserEmojiStatus", user_id, emoji_status });
  }
  async setBotCanSetEmojiStatus(botId, canSetEmojiStatus) {
    this.#c.storage.assertUser("setBotCanSetEmojiStatus");
    const bot = await this.#c.getInputUser(botId);
    const enabled = canSetEmojiStatus;
    await this.#c.invoke({ _: "bots.toggleUserEmojiStatusPermission", bot, enabled });
  }
  async getContacts() {
    this.#c.storage.assertUser("getContacts");
    const result = await this.#c.invoke({ _: "contacts.getContacts", hash: 0n });
    if (!telegram_exports.is("contacts.contacts", result)) {
      unreachable();
    }
    return result.users.map((v) => telegram_exports.is("user", v) ? constructUser(v) : null).filter((v) => v !== null);
  }
  async deleteContacts(userIds) {
    this.#c.storage.assertUser("deleteContacts");
    const id5 = await Promise.all(userIds.map((v) => this.#c.getInputUser(v)));
    await this.#c.invoke({ _: "contacts.deleteContacts", id: id5 });
  }
  async deleteContact(userId) {
    this.#c.storage.assertUser("deleteContact");
    await this.deleteContacts([userId]);
  }
  async addContact(userId, params) {
    this.#c.storage.assertUser("addContact");
    const id5 = await this.#c.getInputUser(userId);
    if (!telegram_exports.is("inputPeerUser", id5)) {
      unreachable();
    }
    const peer = this.#c.getPeer(telegram_exports.inputPeerToPeer(id5));
    if (!peer || peer[0].type !== "private") {
      unreachable();
    }
    const first_name = params?.firstName ?? peer[0].firstName ?? "";
    const last_name = params?.lastName ?? peer[0].lastName ?? "";
    const phone = "";
    const add_phone_privacy_exception = params?.sharePhoneNumber ? true : void 0;
    await this.#c.invoke({ _: "contacts.addContact", add_phone_privacy_exception, id: id5, first_name, last_name, phone });
  }
  async #getUserFull(chatId) {
    const inputPeer = await this.#c.getInputPeer(chatId);
    const chatId_ = await this.#c.getInputPeerChatId(inputPeer);
    let fullChat = await this.#c.messageStorage.getFullChat(chatId_);
    if (fullChat !== null) {
      if (!telegram_exports.is("userFull", fullChat)) {
        unreachable();
      }
      return fullChat;
    }
    if (canBeInputUser(inputPeer)) {
      fullChat = (await this.#c.invoke({ _: "users.getFullUser", id: toInputUser(inputPeer) })).full_user;
    } else {
      unreachable();
    }
    return fullChat;
  }
  async updateProfile(params) {
    this.#c.storage.assertUser("updateProfile");
    const selfId = await this.#c.getSelfId();
    const userFull = await this.#getUserFull(selfId);
    const peer = this.#c.getPeer(telegram_exports.chatIdToPeer(selfId));
    if (!peer || peer[0].type !== "private") {
      unreachable();
    }
    params ??= {};
    if (params?.firstName) {
      params.firstName = params.firstName.trim();
    } else {
      params.firstName = peer[0].firstName;
    }
    if (params?.lastName) {
      params.lastName = params.lastName.trim();
    } else {
      params.lastName = peer[0].lastName;
    }
    if (params?.bio) {
      params.bio = params.bio.trim();
    } else {
      params.bio = userFull.about;
    }
    if (!params?.firstName && !params?.lastName && !params?.bio) {
      throw new InputError("At least one parameter must be specified.");
    }
    await this.#c.invoke({ _: "account.updateProfile", first_name: params.firstName, last_name: params.lastName, about: params.bio });
  }
  async setBirthday(params) {
    this.#c.storage.assertUser("setBirthday");
    const birthday = params?.birthday ? birthdayToTlObject(params.birthday) : void 0;
    await this.#c.invoke({ _: "account.updateBirthday", birthday });
  }
  async setPersonalChannel(params) {
    this.#c.storage.assertUser("setPersonalChannel");
    let channel = { _: "inputChannelEmpty" };
    if (params?.chatId) {
      channel = await this.#c.getInputChannel(params.chatId);
    }
    await this.#c.invoke({ _: "account.updatePersonalChannel", channel });
  }
  async setNameColor(color, params) {
    this.#c.storage.assertUser("setNameColor");
    const background_emoji_id = params?.customEmojiId ? BigInt(params.customEmojiId) : void 0;
    await this.#c.invoke({ _: "account.updateColor", color: { _: "peerColor", color, background_emoji_id } });
  }
  async setProfileColor(color, params) {
    this.#c.storage.assertUser("setProfileColor");
    const background_emoji_id = params?.customEmojiId ? BigInt(params.customEmojiId) : void 0;
    await this.#c.invoke({ _: "account.updateColor", for_profile: true, color: { _: "peerColor", color, background_emoji_id } });
  }
  async setLocation(params) {
    this.#c.storage.assertUser("setLocation");
    let address = params?.address;
    if (typeof address === "string") {
      address = address.trim();
      if (!address.length) {
        throw new InputError("Address cannot be empty.");
      }
      if (address.length > 96) {
        throw new InputError("Address is too long.");
      }
    }
    let geo_point;
    if (params?.latitude && params.longitude) {
      geo_point = { _: "inputGeoPoint", lat: params.latitude, long: params.longitude };
    }
    await this.#c.invoke({ _: "account.updateBusinessLocation", address, geo_point });
  }
  #phoneNumber;
  #sentCode;
  async sendCode(phoneNumber, apiId, apiHash) {
    this.#phoneNumber = phoneNumber;
    this.#sentCode = await this.#c.invoke({
      _: "auth.sendCode",
      phone_number: phoneNumber,
      api_id: apiId,
      api_hash: apiHash,
      settings: { _: "codeSettings" }
    }).then((v) => telegram_exports.as("auth.sentCode", v));
  }
  async checkCode(code) {
    if (!this.#phoneNumber || !this.#sentCode) {
      throw new InputError("Invalid sent code identifier.");
    }
    try {
      const auth = await this.#c.invoke({
        _: "auth.signIn",
        phone_number: this.#phoneNumber,
        phone_code: code,
        phone_code_hash: this.#sentCode.phone_code_hash
      });
      return {
        type: "signed_in",
        userId: Number(telegram_exports.as("auth.authorization", auth).user.id)
      };
    } catch (err) {
      if (err instanceof PhoneCodeInvalid) {
        return {
          type: "invalid_code"
        };
      } else if (err instanceof SessionPasswordNeeded) {
        return { type: "password_required" };
      } else {
        throw err;
      }
    }
  }
  async #getAccountPassword() {
    return await this.#c.invoke({ _: "account.getPassword" });
  }
  #ap;
  async getPasswordHint() {
    if (!this.#ap) {
      this.#ap = await this.#getAccountPassword();
    }
    return this.#ap.hint ?? "";
  }
  async checkPassword(password) {
    const ap = this.#ap = await this.#getAccountPassword();
    try {
      const input = await checkPassword(password, ap);
      const auth = await this.#c.invoke({ _: "auth.checkPassword", password: input });
      return {
        type: "signed_in",
        userId: Number(telegram_exports.as("auth.authorization", auth).user.id)
      };
    } catch (err) {
      if (err instanceof PasswordHashInvalid) {
        return {
          type: "invalid_password"
        };
      } else {
        throw err;
      }
    }
  }
  async checkBotToken(botToken, apiId, apiHash) {
    const auth = await this.#c.invoke({ _: "auth.importBotAuthorization", api_id: apiId, api_hash: apiHash, bot_auth_token: botToken, flags: 0 });
    return {
      type: "signed_in",
      userId: Number(telegram_exports.as("auth.authorization", auth).user.id)
    };
  }
};

// client/2_bot_info_manager.ts
var BotInfoManager = class {
  #c;
  constructor(c) {
    this.#c = c;
  }
  async #setMyInfo(info) {
    await this.#c.invoke({ _: "bots.setBotInfo", ...info });
  }
  async setMyDescription(params) {
    this.#c.storage.assertBot("setMyDescription");
    await this.#setMyInfo({ description: params?.description, lang_code: params?.languageCode ?? "" });
  }
  async setMyName(params) {
    this.#c.storage.assertBot("setMyName");
    await this.#setMyInfo({ name: params?.name, lang_code: params?.languageCode ?? "" });
  }
  async setMyShortDescription(params) {
    this.#c.storage.assertBot("setMyShortDescription");
    await this.#setMyInfo({ about: params?.shortDescription, lang_code: params?.languageCode ?? "" });
  }
  #getMyInfo(languageCode) {
    return this.#c.invoke({ _: "bots.getBotInfo", lang_code: languageCode ?? "" });
  }
  async getMyDescription(params) {
    this.#c.storage.assertBot("getMyDescription");
    return (await this.#getMyInfo(params?.languageCode)).description;
  }
  async getMyName(params) {
    this.#c.storage.assertBot("getMyName");
    return (await this.#getMyInfo(params?.languageCode)).description;
  }
  async getMyShortDescription(params) {
    this.#c.storage.assertBot("getMyShortDescription");
    return (await this.#getMyInfo(params?.languageCode)).about;
  }
  async getMyCommands(params) {
    this.#c.storage.assertBot("getMyCommands");
    const commands_ = await this.#c.invoke({
      _: "bots.getBotCommands",
      lang_code: params?.languageCode ?? "",
      scope: await botCommandScopeToTlObject(params?.scope ?? { type: "default" }, this.#c.getInputPeer)
    });
    return commands_.map((v) => ({ command: v.command, description: v.description }));
  }
  async setMyCommands(commands, params) {
    this.#c.storage.assertBot("setMyCommands");
    await this.#c.invoke({
      _: "bots.setBotCommands",
      commands: commands.map((v) => ({ ...v, _: "botCommand" })),
      lang_code: params?.languageCode ?? "",
      scope: await botCommandScopeToTlObject(params?.scope ?? { type: "default" }, this.#c.getInputPeer)
    });
  }
};

// client/2_business_connection_manager.ts
var businessConnectionManagerUpdates = [
  "updateBotBusinessConnect"
];
var BusinessConnectionManager = class {
  #c;
  constructor(c) {
    this.#c = c;
  }
  async getBusinessConnection(id5) {
    const connection_ = await this.#c.messageStorage.getBusinessConnection(id5);
    if (!connection_) {
      const connection_2 = await this.#c.invoke({ _: "account.getBotBusinessConnection", connection_id: id5 }).then((v) => telegram_exports.as("updates", v)).then((v) => telegram_exports.as("updateBotBusinessConnect", v.updates[0]).connection);
      await this.#c.messageStorage.setBusinessConnection(id5, connection_2);
      return constructBusinessConnection(connection_2, this.#c.getPeer);
    } else {
      return constructBusinessConnection(connection_, this.#c.getPeer);
    }
  }
  canHandleUpdate(update) {
    return telegram_exports.isOneOf(businessConnectionManagerUpdates, update);
  }
  async handleUpdate(update) {
    if (update.connection.disabled) {
      await this.#c.messageStorage.setBusinessConnection(update.connection.connection_id, null);
    } else {
      await this.#c.messageStorage.setBusinessConnection(update.connection.connection_id, update.connection);
    }
    const businessConnection = constructBusinessConnection(update.connection, this.#c.getPeer);
    return { businessConnection };
  }
};

// client/2_file_manager.ts
var FileManager = class _FileManager {
  #c;
  #Lupload;
  static #UPLOAD_MAX_CHUNK_SIZE = 512 * kilobyte;
  static #BIG_FILE_THRESHOLD = 10 * megabyte;
  constructor(c) {
    this.#c = c;
    const L5 = getLogger("FileManager").client(c.id);
    this.#Lupload = L5.branch("upload");
  }
  #progressIds = /* @__PURE__ */ new Set();
  getProgressId() {
    let id5;
    do {
      id5 = getRandomId();
    } while (id5 === 0n || this.#progressIds.has(id5));
    this.#progressIds.add(id5);
    return Promise.resolve(String(id5));
  }
  async upload(file, params, checkName, allowStream = true) {
    if (params?.progressId !== void 0 && !this.#progressIds.has(BigInt(params.progressId))) {
      throw new InputError("Invalid progressId.");
    }
    if (params?.progressId !== void 0) {
      this.#progressIds.delete(BigInt(params.progressId));
    }
    let { size, name, contents } = await _FileManager.#getFileContents(file, params, allowStream);
    if (checkName) {
      name = checkName(name);
    }
    if (size === 0 || size < -1) {
      throw new InputError("Invalid file size.");
    }
    const poolSize = await this.#c.getUploadPoolSize();
    const chunkSize = params?.chunkSize ?? _FileManager.#UPLOAD_MAX_CHUNK_SIZE;
    _FileManager.validateChunkSize(chunkSize, _FileManager.#UPLOAD_MAX_CHUNK_SIZE);
    const mustTrackProgress = params?.progressId !== void 0;
    const fileId = params?.progressId !== void 0 ? BigInt(params.progressId) : getRandomId();
    const isBig = contents instanceof Uint8Array ? contents.length > _FileManager.#BIG_FILE_THRESHOLD : true;
    const whatIsUploaded = contents instanceof Uint8Array ? (isBig ? "big file" : "file") + " of size " + size : "stream";
    this.#Lupload.debug("uploading " + whatIsUploaded + " with chunk size of " + chunkSize + " and pool size of " + poolSize + " and file ID of " + fileId);
    let result;
    if (contents instanceof Uint8Array) {
      result = await this.#uploadBuffer(contents, fileId, mustTrackProgress, chunkSize, poolSize, params?.signal);
    } else {
      result = await this.#uploadStream(contents, fileId, mustTrackProgress, chunkSize, poolSize, params?.signal);
    }
    this.#Lupload.debug(`[${fileId}] uploaded ` + result.parts + " part(s)");
    if (result.small) {
      return { _: "inputFile", id: fileId, name, parts: result.parts, md5_checksum: "" };
    } else {
      return { _: "inputFileBig", id: fileId, name, parts: result.parts };
    }
  }
  async #uploadStream(stream, fileId, mustTrackProgress, chunkSize, poolSize, signal) {
    let part;
    let promises = new Array();
    let ms = 0.05;
    let uploaded = 0;
    for await (part of iterateReadableStream(stream.pipeThrough(new PartStream(chunkSize)))) {
      if (!part.small && part.part > 0) {
        await delay(ms);
        ms = Math.max(ms * 0.8, 3e-3);
      }
      promises.push(
        this.#uploadPart(fileId, part.totalParts, !part.small, part.part, part.bytes, signal).then(() => {
          if (mustTrackProgress) {
            uploaded += part.bytes.length;
            this.#c.handleUpdate({
              uploadProgress: {
                id: String(fileId),
                uploaded,
                total: 0
              }
            });
          }
        })
      );
      if (promises.length === poolSize * UPLOAD_REQUEST_PER_CONNECTION) {
        await Promise.all(promises);
        promises = [];
      }
    }
    await Promise.all(promises);
    return { small: part.small, parts: part.totalParts };
  }
  async #uploadBuffer(buffer, fileId, mustTrackProgress, chunkSize, poolSize, signal) {
    const isBig = buffer.byteLength > _FileManager.#BIG_FILE_THRESHOLD;
    const partCount = Math.ceil(buffer.byteLength / chunkSize);
    let promises = new Array();
    let started = false;
    let ms = 0.05;
    let uploaded = 0;
    main:
      for (let part = 0; part < partCount; ) {
        for (let i = 0; i < poolSize; ++i) {
          for (let i2 = 0; i2 < UPLOAD_REQUEST_PER_CONNECTION; ++i2) {
            const start = part * chunkSize;
            const end = start + chunkSize;
            const bytes = buffer.subarray(start, end);
            if (!bytes.length) {
              break main;
            }
            if (!started) {
              started = true;
            } else if (isBig && part > 0) {
              await delay(ms);
              ms = Math.max(ms * 0.8, 3e-3);
            }
            promises.push(
              this.#uploadPart(fileId, partCount, isBig, part++, bytes, signal).then(() => {
                if (mustTrackProgress) {
                  uploaded += bytes.length;
                  this.#c.handleUpdate({
                    uploadProgress: {
                      id: String(fileId),
                      uploaded,
                      total: buffer.length
                    }
                  });
                }
              })
            );
            if (promises.length === poolSize * UPLOAD_REQUEST_PER_CONNECTION) {
              await Promise.all(promises);
              promises = [];
            }
          }
        }
        await Promise.all(promises);
        promises = [];
      }
    await Promise.all(promises);
    return { small: !isBig, parts: partCount };
  }
  async #uploadPart(fileId, partCount, isBig, index, bytes, signal) {
    let retryIn = 1;
    let errorCount = 0;
    while (true) {
      try {
        signal?.throwIfAborted();
        this.#Lupload.debug(`[${fileId}] uploading part ` + (index + 1));
        if (isBig) {
          await this.#c.invoke({ _: "upload.saveBigFilePart", file_id: fileId, file_part: index, bytes, file_total_parts: partCount }, { type: "upload" });
        } else {
          await this.#c.invoke({ _: "upload.saveFilePart", file_id: fileId, bytes, file_part: index }, { type: "upload" });
        }
        this.#Lupload.debug(`[${fileId}] uploaded part ` + (index + 1));
        break;
      } catch (err) {
        signal?.throwIfAborted();
        this.#Lupload.debug(`[${fileId}] failed to upload part ` + (index + 1));
        ++errorCount;
        if (errorCount > 20) {
          retryIn = 0;
          errorCount = 20;
        }
        await this.#handleError(err, retryIn, `[${fileId}-${index + 1}]`);
        retryIn += 2;
        if (retryIn > 11) {
          retryIn = 11;
        }
      }
    }
  }
  async #handleError(err, retryIn, logPrefix) {
    if (err instanceof TimeTooBig || err instanceof TimeTooSmall) {
      throw err;
    } else if (err instanceof FloodWait) {
      this.#Lupload.warning(`${logPrefix} retrying in ${err.seconds} seconds:`, err);
      await delay(err.seconds * SECOND);
    } else if (retryIn > 0) {
      this.#Lupload.warning(`${logPrefix} retrying in ${retryIn} seconds:`, err);
      await delay(retryIn * SECOND);
    } else {
      throw err;
    }
  }
  static async #getFileContents(source, params, allowStream) {
    let name = params?.fileName?.trim() || "file";
    let contents;
    let size = -1;
    if (source instanceof Uint8Array) {
      contents = source;
      size = source.byteLength;
    } else if (source instanceof ReadableStream) {
      if (!allowStream) {
        throw new InputError("Streamed upload not allowed.");
      }
      contents = source;
    } else if (typeof source === "object" && source !== null && (Symbol.iterator in source || Symbol.asyncIterator in source)) {
      if (!allowStream) {
        throw new InputError("Streamed upload not allowed.");
      }
      contents = new ReadableStream({
        pull: Symbol.asyncIterator in source ? async (controller) => {
          const { value, done } = await source.next();
          done ? controller.close() : controller.enqueue(value);
        } : (controller) => {
          const { value, done } = source.next();
          done ? controller.close() : controller.enqueue(value);
        }
      });
    } else {
      let url;
      try {
        url = new URL(source).toString();
      } catch {
        let path_;
        if (typeof source === "string") {
          if ((0, import_node_path.isAbsolute)(source)) {
            path_ = source;
          } else {
            path_ = join(Deno.cwd(), source);
          }
          url = toFileUrl(path_).toString();
          name = (0, import_node_path.basename)(path_);
        } else {
          unreachable();
        }
      }
      const response = await fetch(url);
      if (response.body === null) {
        throw new InputError("Invalid response");
      }
      if (name === "file") {
        const contentType2 = response.headers.get("content-type")?.split(";")[0].trim();
        if (contentType2) {
          name += extension(contentType2);
        } else {
          const maybeFileName = new URL(response.url).pathname.split("/").filter((v) => v).slice(-1)[0].trim();
          if (maybeFileName) {
            name += extension((0, import_node_path.extname)(maybeFileName));
          }
        }
      }
      const contentLength = Number(response.headers.get("content-length"));
      if (!isNaN(contentLength)) {
        size = contentLength;
      }
      if (allowStream) {
        contents = response.body;
      } else {
        contents = new Uint8Array(await response.arrayBuffer());
      }
    }
    return { size: params?.fileSize ? params.fileSize : size, name, contents };
  }
  async *downloadInner(location2, dcId, params) {
    const signal = params?.signal;
    signal?.throwIfAborted();
    const id5 = "id" in location2 ? location2.id : "photo_id" in location2 ? location2.photo_id : null;
    if (id5 !== null && this.#c.storage.supportsFiles) {
      const file = await this.#c.storage.getFile(id5);
      const partOffset = file === null ? 0 : params?.offset ? Math.ceil(10 / file[1]) - 1 : 0;
      if (file !== null && file[0] > 0) {
        yield* this.#c.storage.iterFileParts(id5, file[0], partOffset, signal);
        return;
      }
    }
    const chunkSize = params?.chunkSize ?? DOWNLOAD_MAX_CHUNK_SIZE;
    _FileManager.validateChunkSize(chunkSize, DOWNLOAD_MAX_CHUNK_SIZE);
    if (params?.offset !== void 0) {
      _FileManager.validateOffset(params.offset);
    }
    const dc = getDc(dcId);
    signal?.throwIfAborted();
    const limit = chunkSize;
    let offset = params?.offset ? BigInt(params.offset) : 0n;
    let part = 0;
    let ms = 0.05;
    while (true) {
      signal?.throwIfAborted();
      let retryIn = 1;
      let errorCount = 0;
      try {
        const file = await this.#c.invoke({ _: "upload.getFile", location: location2, offset, limit }, { dc, type: "download" });
        signal?.throwIfAborted();
        if (telegram_exports.is("upload.file", file)) {
          yield file.bytes;
          if (id5 !== null) {
            await this.#c.storage.saveFilePart(id5, part, file.bytes);
            signal?.throwIfAborted();
          }
          ++part;
          if (file.bytes.length < limit) {
            if (id5 !== null) {
              await this.#c.storage.setFilePartCount(id5, part + 1, chunkSize);
              signal?.throwIfAborted();
            }
            break;
          } else {
            offset += BigInt(file.bytes.length);
          }
        } else {
          unreachable();
        }
        await delay(ms);
        ms = Math.max(ms * 0.8, 3e-3);
      } catch (err) {
        if (typeof err === "object" && err instanceof AssertionError) {
          throw err;
        }
        ++errorCount;
        if (errorCount > 20) {
          retryIn = 0;
          errorCount = 0;
        }
        await this.#handleError(err, retryIn, `[${id5}-${part + 1}]`);
        signal?.throwIfAborted();
        retryIn += 2;
        if (retryIn > 11) {
          retryIn = 11;
        }
      }
    }
  }
  static validateChunkSize(chunkSize, max) {
    if (chunkSize <= 0) {
      throw new InputError("chunkSize must be bigger than zero.");
    }
    if (chunkSize % 1 !== 0) {
      throw new InputError("chunkSize must be a whole number.");
    }
    if (chunkSize > max) {
      throw new InputError("chunkSize is too big.");
    }
    if (mod(chunkSize, 1024) !== 0) {
      throw new InputError("chunkSize must be divisible by 1024.");
    }
  }
  static validateOffset(offset) {
    if (offset < 0) {
      throw new InputError("offset must not be smaller than zero.");
    }
    if (offset % 1 !== 0) {
      throw new InputError("offset must be a whole number.");
    }
    if (mod(offset, 1024) !== 0) {
      throw new InputError("offset must be divisible by 1024.");
    }
  }
  async *download(fileId, params) {
    const fileId_ = deserializeFileId(fileId);
    if (fileId_.location.type === "photo") {
      switch (fileId_.type) {
        case FileType.ProfilePhoto: {
          if (fileId_.location.source.type !== PhotoSourceType.ChatPhotoBig && fileId_.location.source.type !== PhotoSourceType.ChatPhotoSmall) {
            unreachable();
          }
          const big = fileId_.location.source.type === PhotoSourceType.ChatPhotoBig;
          const peer = await this.#c.getInputPeer(Number(fileId_.location.source.chatId));
          const location2 = { _: "inputPeerPhotoFileLocation", big: big ? true : void 0, peer, photo_id: fileId_.location.id };
          yield* this.downloadInner(location2, fileId_.dcId, params);
          break;
        }
        case FileType.Photo: {
          let location2;
          if (fileId_.location.source.type === PhotoSourceType.StickerSetThumbnailVersion) {
            location2 = {
              _: "inputStickerSetThumb",
              stickerset: {
                _: "inputStickerSetID",
                id: fileId_.location.source.stickerSetId,
                access_hash: fileId_.location.source.stickerSetAccessHash
              },
              thumb_version: fileId_.location.source.version
            };
          } else {
            location2 = {
              _: "inputPhotoFileLocation",
              id: fileId_.location.id,
              access_hash: fileId_.location.accessHash,
              file_reference: fileId_.fileReference ?? new Uint8Array(),
              thumb_size: "thumbnailType" in fileId_.location.source ? String.fromCharCode(fileId_.location.source.thumbnailType) : ""
            };
          }
          yield* this.downloadInner(location2, fileId_.dcId, params);
          break;
        }
        case FileType.Thumbnail: {
          const location2 = {
            _: "inputDocumentFileLocation",
            id: fileId_.location.id,
            access_hash: fileId_.location.accessHash,
            file_reference: fileId_.fileReference ?? new Uint8Array(),
            thumb_size: "thumbnailType" in fileId_.location.source ? String.fromCharCode(fileId_.location.source.thumbnailType) : unreachable()
          };
          yield* this.downloadInner(location2, fileId_.dcId, params);
          break;
        }
      }
    } else if (fileId_.location.type === "common") {
      const location2 = {
        _: "inputDocumentFileLocation",
        id: fileId_.location.id,
        access_hash: fileId_.location.accessHash,
        file_reference: fileId_.fileReference ?? new Uint8Array(),
        thumb_size: ""
      };
      yield* this.downloadInner(location2, fileId_.dcId, params);
    } else {
      unreachable();
    }
  }
  async getStickerSetName(inputStickerSet, hash = 0) {
    const maybeStickerSetName = await this.#c.messageStorage.getStickerSetName(inputStickerSet.id, inputStickerSet.access_hash);
    if (maybeStickerSetName !== null && Date.now() - maybeStickerSetName[1].getTime() < STICKER_SET_NAME_TTL) {
      return maybeStickerSetName[0];
    } else {
      try {
        const stickerSet = await this.#c.invoke({ _: "messages.getStickerSet", stickerset: inputStickerSet, hash });
        const name = telegram_exports.as("messages.stickerSet", stickerSet).set.short_name;
        await this.#c.messageStorage.updateStickerSetName(inputStickerSet.id, inputStickerSet.access_hash, name);
        return name;
      } catch (err) {
        if (err instanceof StickersetInvalid) {
          return void 0;
        } else {
          throw err;
        }
      }
    }
  }
  static #CUSTOM_EMOJI_TTL = 30 * MINUTE;
  async getCustomEmojiStickers(id5) {
    id5 = Array.isArray(id5) ? id5 : [id5];
    if (!id5.length) {
      return [];
    }
    const stickers = new Array();
    let shouldFetch = false;
    for (const id_ of id5) {
      const maybeDocument = await this.#c.messageStorage.getCustomEmojiDocument(BigInt(id_));
      if (maybeDocument !== null && Date.now() - maybeDocument[1].getTime() <= _FileManager.#CUSTOM_EMOJI_TTL) {
        const document_ = maybeDocument[0];
        const fileId_ = {
          type: FileType.Document,
          dcId: document_.dc_id,
          fileReference: document_.file_reference,
          location: { type: "common", id: document_.id, accessHash: document_.access_hash }
        };
        const fileUniqueId = toUniqueFileId(fileId_);
        const fileId = serializeFileId(fileId_);
        const sticker = await constructSticker(document_, fileId, fileUniqueId, this.getStickerSetName.bind(this), id_);
        stickers.push(sticker);
      } else {
        shouldFetch = true;
        break;
      }
    }
    if (!shouldFetch) {
      return stickers;
    }
    const documents_ = (await this.#c.invoke({ _: "messages.getCustomEmojiDocuments", document_id: id5.map(BigInt) })).map((v) => telegram_exports.as("document", v));
    for (const [i, document_] of documents_.entries()) {
      await this.#c.messageStorage.setCustomEmojiDocument(document_.id, document_);
      const fileId_ = {
        type: FileType.Document,
        dcId: document_.dc_id,
        fileReference: document_.file_reference,
        location: { type: "common", id: document_.id, accessHash: document_.access_hash }
      };
      const fileUniqueId = toUniqueFileId(fileId_);
      const fileId = serializeFileId(fileId_);
      const sticker = await constructSticker(document_, fileId, fileUniqueId, this.getStickerSetName.bind(this), id5[i]);
      stickers.push(sticker);
    }
    return stickers;
  }
};

// client/2_network_statistics_manager.ts
var NetworkStatisticsManager = class {
  #c;
  #L;
  constructor(c) {
    this.#c = c;
    this.#L = getLogger("NetworkStatisticsManager");
  }
  async getNetworkStatistics() {
    const [messagesRead, messagesWrite, cdnRead, cdnWrite] = await Promise.all([
      this.#c.storage.get(["netstat_messages_read"]),
      this.#c.storage.get(["netstat_messages_write"]),
      this.#c.storage.get(["netstat_cdn_read"]),
      this.#c.storage.get(["netstat_cdn_write"])
    ]);
    const messages = {
      sent: Number(messagesWrite || 0),
      received: Number(messagesRead || 0)
    };
    const cdn = {
      sent: Number(cdnWrite || 0),
      received: Number(cdnRead || 0)
    };
    return { messages, cdn };
  }
  #pendingWrites = {};
  getTransportReadWriteCallback(cdn) {
    return {
      read: (count) => {
        const key = cdn ? "netstat_cdn_read" : "netstat_messages_read";
        this.#pendingWrites[key] = (this.#pendingWrites[key] ?? 0) + count;
        this.#write();
      },
      write: (count) => {
        const key = cdn ? "netstat_cdn_write" : "netstat_messages_write";
        this.#pendingWrites[key] = (this.#pendingWrites[key] ?? 0) + count;
        this.#write();
      }
    };
  }
  #writing = false;
  async #write() {
    if (this.#writing) {
      return;
    }
    this.#writing = true;
    for (const [k, v] of Object.entries(this.#pendingWrites)) {
      if (v < 1) {
        continue;
      }
      try {
        await this.#c.messageStorage.incr([k], v);
        this.#pendingWrites[k] -= v;
      } catch (err) {
        this.#L.error("write failed:", err);
      }
    }
    this.#writing = false;
  }
};

// client/2_payment_manager.ts
var paymentManagerUpdates = [
  "updateBotPrecheckoutQuery"
];
var PaymentManager = class {
  #c;
  constructor(c) {
    this.#c = c;
  }
  canHandleUpdate(update) {
    return telegram_exports.isOneOf(paymentManagerUpdates, update);
  }
  handleUpdate(update) {
    if (telegram_exports.is("updateBotPrecheckoutQuery", update)) {
      const preCheckoutQuery = constructPreCheckoutQuery(update, this.#c.getPeer);
      return { preCheckoutQuery };
    }
    return null;
  }
  async answerPreCheckoutQuery(preCheckoutQueryId, ok, params) {
    this.#c.storage.assertBot("answerPreCheckoutQuery");
    if (!ok && !params?.error) {
      throw new InputError("error is required when ok is false");
    }
    const queryId = BigInt(preCheckoutQueryId);
    if (!queryId) {
      throw new InputError("Invalid pre-checkout query ID");
    }
    await this.#c.invoke({ _: "messages.setBotPrecheckoutResults", query_id: queryId, error: params?.error, success: ok ? true : void 0 });
  }
  async refundStarPayment(userId, telegramPaymentChargeId) {
    this.#c.storage.assertBot("refundStarPayment");
    await this.#c.invoke({ _: "payments.refundStarsCharge", user_id: await this.#c.getInputUser(userId), charge_id: telegramPaymentChargeId });
  }
};

// client/2_reaction_manager.ts
var reactionManagerUpdates = [
  "updateBotMessageReactions",
  "updateBotMessageReaction",
  "updateMessageReactions",
  "updateChannelMessageViews",
  "updateChannelMessageForwards"
];
var ReactionManager = class {
  #c;
  constructor(c) {
    this.#c = c;
  }
  canHandleUpdate(update) {
    return telegram_exports.isOneOf(reactionManagerUpdates, update);
  }
  async handleUpdate(update) {
    if (telegram_exports.is("updateBotMessageReactions", update)) {
      const messageReactionCount = constructMessageReactionCount(update, this.#c.getPeer);
      if (messageReactionCount) {
        return { messageReactionCount };
      } else {
        return null;
      }
    } else if (telegram_exports.is("updateBotMessageReaction", update)) {
      const messageReactions = constructMessageReactions(update, this.#c.getPeer);
      if (messageReactions) {
        return { messageReactions };
      } else {
        return null;
      }
    } else if (telegram_exports.is("updateMessageReactions", update)) {
      const chatId = telegram_exports.peerToChatId(update.peer);
      const message = await this.#c.messageStorage.getMessage(chatId, update.msg_id);
      if (telegram_exports.is("message", message)) {
        message.reactions = update.reactions;
        await this.#c.messageStorage.setMessage(chatId, update.msg_id, message);
        const views = message.views ?? 0;
        const forwards = message.forwards ?? 0;
        const recentReactions = update.reactions.recent_reactions ?? [];
        const reactions = update.reactions.results.map((v) => constructMessageReaction(v, recentReactions));
        return { messageInteractions: { chatId, messageId: update.msg_id, reactions, views, forwards } };
      } else {
        return null;
      }
    } else if (telegram_exports.isOneOf(["updateChannelMessageViews", "updateChannelMessageForwards"], update)) {
      const chatId = telegram_exports.peerToChatId({ ...update, _: "peerChannel" });
      const message = await this.#c.messageStorage.getMessage(chatId, update.id);
      if (telegram_exports.is("message", message)) {
        if ("views" in update) {
          message.views = update.views;
        }
        if ("forwards" in update) {
          message.forwards = update.forwards;
        }
        const views = message.views ?? 0;
        const forwards = message.forwards ?? 0;
        const recentReactions = message.reactions?.recent_reactions ?? [];
        const reactions = message.reactions?.results.map((v) => constructMessageReaction(v, recentReactions)) ?? [];
        return { messageInteractions: { chatId, messageId: update.id, reactions, views, forwards } };
      } else {
        return null;
      }
    } else {
      unreachable();
    }
  }
};

// client/2_sign_in.ts
var restartAuth = Symbol("restartAuth");
async function signIn(client, logger, params) {
  try {
    await client.getMe();
    return;
  } catch (err) {
    if (!(err instanceof InputError)) {
      throw err;
    }
  }
  if (typeof params === "undefined") {
    const botToken = getString("BOT_TOKEN");
    if (botToken) {
      params = { botToken };
    } else {
      const phone = getString("PHONE_NUMBER");
      if (phone) {
        const code = getString("VERIFICATION_CODE");
        const password = getString("PASSWORD");
        params = {
          phone,
          code: code || (() => Promise.reject(new InputError("VERIFICATION_CODE environment variable is required for user sign in"))),
          password: password || ((hint) => Promise.reject(new InputError(`PASSWORD environment variable is required. Password hint: ${hint || "none"}`)))
        };
      } else {
        throw new InputError("SignInParams must be provided. Either pass params to signIn() or set environment variables: BOT_TOKEN (for bot) or PHONE_NUMBER with VERIFICATION_CODE and optionally PASSWORD (for user)");
      }
    }
  }
  logger.debug("signing in with", typeof params === "string" ? "bot token" : telegram_exports.is("auth.exportedAuthorization", params) ? "exported authorization" : "AuthorizeUserParams");
  if (params && "botToken" in params) {
    const result = await client.checkBotToken(params.botToken);
    if (result.type === "signed_in") {
      return;
    } else {
      unreachable();
    }
  }
  auth:
    while (true) {
      try {
        let phone;
        while (true) {
          try {
            phone = typeof params.phone === "string" ? params.phone : await params.phone();
            await client.sendCode(phone);
            break;
          } catch (err) {
            if (err instanceof PhoneNumberInvalid) {
              continue;
            } else {
              throw err;
            }
          }
        }
        logger.debug("verification code sent");
        code:
          while (true) {
            const code = typeof params.code === "string" ? params.code : await params.code();
            const codeCheckResult = await client.checkCode(code);
            if (codeCheckResult.type === "signed_in") {
              return;
            } else if (codeCheckResult.type === "invalid_code") {
              continue code;
            } else if (codeCheckResult.type === "password_required") {
              break code;
            } else {
              unreachable();
            }
          }
        const passwordHint = await client.getPasswordHint();
        password:
          while (true) {
            const password = typeof params.password === "string" ? params.password : await params.password(passwordHint);
            const passwordCheckResult = await client.checkPassword(password);
            if (passwordCheckResult.type === "signed_in") {
              return;
            } else if (passwordCheckResult.type === "invalid_password") {
              continue password;
            } else {
              unreachable();
            }
          }
      } catch (err) {
        if (err === restartAuth) {
          continue auth;
        } else {
          throw err;
        }
      }
    }
}

// client/2_translations_manager.ts
var translationsManagerUpdates = [
  "updateLangPackTooLong",
  "updateLangPack"
];
var TranslationsManager = class {
  #c;
  constructor(c) {
    this.#c = c;
  }
  canHandleUpdate(update) {
    return telegram_exports.isOneOf(translationsManagerUpdates, update);
  }
  async getTranslations(params) {
    this.#c.storage.assertUser("getTranslations");
    const platform = params?.platform ?? this.#c.langPack;
    if (!platform) {
      throw new InputError("No platform specified.");
    }
    const language = params?.language ?? this.#c.langCode;
    if (!language) {
      throw new InputError("No language specified.");
    }
    return await this.#getTranslationsInner(platform, language);
  }
  async #getTranslationsInner(platform, language, assert2 = false) {
    const maybeTranslations = await this.#c.messageStorage.translations.get([platform, language]);
    if (maybeTranslations !== null) {
      return maybeTranslations.translations;
    } else if (assert2) {
      unreachable();
    } else {
      await this.#updateTranslations(platform, language);
      return await this.#getTranslationsInner(platform, language, true);
    }
  }
  #updateTranslationsQueue = new Queue("updateTranslations");
  async #updateTranslations(platform, language) {
    await new Promise((resolve, reject) => {
      this.#updateTranslationsQueue.add(async () => {
        try {
          const maybeTranslations = await this.#c.messageStorage.translations.get([platform, language]);
          if (maybeTranslations !== null) {
            const difference = await this.#c.invoke({ _: "langpack.getDifference", lang_pack: platform, lang_code: language, from_version: maybeTranslations.version });
            const newTranslations = this.#applyLangPackDifference(maybeTranslations.translations, difference.strings);
            this.#c.messageStorage.translations.set([platform, language], { date: /* @__PURE__ */ new Date(), version: difference.version, translations: newTranslations });
          } else {
            const pack = await this.#c.invoke({ _: "langpack.getLangPack", lang_pack: platform, lang_code: language });
            const version = pack.version;
            const translations = pack.strings.map(constructTranslation);
            this.#c.messageStorage.translations.set([platform, language], { date: /* @__PURE__ */ new Date(), version, translations });
          }
          resolve();
        } catch (err) {
          reject(err);
        }
      });
    });
  }
  async #applyLangPackDifferenceAndSave(platform, language, version, fromVersion, strings) {
    const result = await new Promise((resolve, reject) => {
      this.#updateTranslationsQueue.add(async () => {
        try {
          const maybeTranslations = await this.#c.messageStorage.translations.get([platform, language]);
          let newTranslations = null;
          if (maybeTranslations) {
            if (fromVersion !== maybeTranslations.version) {
              resolve("mustUpdate");
              return;
            }
            newTranslations = this.#applyLangPackDifference(maybeTranslations.translations, strings);
            this.#c.messageStorage.translations.set([platform, language], {
              date: /* @__PURE__ */ new Date(),
              version,
              translations: newTranslations
            });
          }
          resolve(newTranslations);
        } catch (err) {
          reject(err);
        }
      });
    });
    if (result === "mustUpdate") {
      await this.#updateTranslations(platform, language);
      return await this.#getTranslationsInner(platform, language, true);
    } else {
      return result;
    }
  }
  #applyLangPackDifference(translations, strings) {
    for (const string of strings) {
      if (telegram_exports.is("langPackStringDeleted", string)) {
        translations = translations.filter((v) => v.key !== string.key);
      } else {
        const newTranslation = constructTranslation(string);
        const currentTranslation = translations.find((v) => v.key === string.key);
        if (currentTranslation) {
          Object.assign(currentTranslation, newTranslation);
        } else {
          translations.push(newTranslation);
        }
      }
    }
    return translations;
  }
  async handleUpdate(update) {
    if (!this.#c.langPack) {
      return null;
    }
    if (telegram_exports.is("updateLangPackTooLong", update)) {
      await this.#updateTranslations(this.#c.langPack, update.lang_code);
      const translations = await this.#getTranslationsInner(this.#c.langPack, update.lang_code, true);
      return { platform: this.#c.langPack, language: update.lang_code, translations };
    } else if (telegram_exports.is("updateLangPack", update)) {
      if (!this.#c.langCode) {
        return null;
      }
      const translations = await this.#applyLangPackDifferenceAndSave(this.#c.langPack, this.#c.langCode, update.difference.version, update.difference.from_version, update.difference.strings);
      if (!translations) {
        return null;
      } else {
        return { platform: this.#c.langPack, language: this.#c.langCode, translations };
      }
    }
    return null;
  }
};

// client/2_update_manager.ts
var UpdateManager = class _UpdateManager {
  static QTS_COUNT = 1;
  static MAIN_BOX_ID = 0n;
  #c;
  #updateState;
  #updateHandler;
  #LrecoverUpdateGap;
  #LrecoverChannelUpdateGap;
  #L$handleUpdate;
  #L$processUpdates;
  #LfetchState;
  #LopenChat;
  constructor(c) {
    this.#c = c;
    const L5 = getLogger("UpdateManager").client(c.id);
    this.#LrecoverUpdateGap = L5.branch("recoverUpdateGap");
    this.#LrecoverChannelUpdateGap = L5.branch("recoverChannelUpdateGap");
    this.#L$handleUpdate = L5.branch("#handleUpdate");
    this.#L$processUpdates = L5.branch("#processUpdates");
    this.#LfetchState = L5.branch("fetchState");
    this.#LopenChat = L5.branch("openChat");
  }
  static isPtsUpdate(v) {
    return telegram_exports.isOneOf(["updateNewMessage", "updateDeleteMessages", "updateReadHistoryInbox", "updateReadHistoryOutbox", "updatePinnedChannelMessages", "updatePinnedMessages", "updateFolderPeers", "updateChannelWebPage", "updateEditMessage", "updateReadMessagesContents", "updateWebPage"], v);
  }
  static isQtsUpdate(v) {
    return telegram_exports.isOneOf(["updateNewEncryptedMessage", "updateMessagePollVote", "updateBotStopped", "updateChatParticipant", "updateChannelParticipant", "updateBotChatInviteRequester", "updateBotChatBoost", "updateBotMessageReaction", "updateBotMessageReactions", "updateBotBusinessConnect", "updateBotNewBusinessMessage", "updateBotEditBusinessMessage", "updateBotDeleteBusinessMessage"], v);
  }
  static isChannelPtsUpdate(v) {
    return telegram_exports.isOneOf([
      "updateNewChannelMessage",
      "updateEditChannelMessage",
      "updateDeleteChannelMessages",
      "updateChannelTooLong"
    ], v);
  }
  #defaultDropPendingUpdates = null;
  #mustDropPendingUpdates() {
    if (typeof this.#c.dropPendingUpdates === "boolean") {
      return this.#c.dropPendingUpdates;
    }
    if (this.#defaultDropPendingUpdates === null) {
      this.#defaultDropPendingUpdates = this.#c.storage.isBot;
    }
    return this.#defaultDropPendingUpdates;
  }
  #state = null;
  async #getState() {
    if (this.#mustDropPendingUpdates()) {
      return this.#state ?? null;
    }
    if (this.#state !== null) {
      return this.#state;
    }
    const state = await this.#c.storage.getState();
    return this.#state = state;
  }
  async #setState(state) {
    this.#state = state;
    if (!this.#mustDropPendingUpdates()) {
      await this.#c.storage.setState(state);
    }
  }
  async fetchState(source) {
    let state = await this.#c.invoke({ _: "updates.getState" });
    const difference = await this.#c.invoke({ ...state, _: "updates.getDifference" });
    if (telegram_exports.is("updates.difference", difference)) {
      state = difference.state;
    } else if (telegram_exports.is("updates.differenceSlice", difference)) {
      state = difference.intermediate_state;
    }
    this.#updateState = state;
    this.#LfetchState.debug(`state fetched [${source}]`);
    if (this.#mustDropPendingUpdates()) {
      await this.#setState(state);
    }
  }
  #extractMessages(context) {
    const messages = new Array();
    if (Array.isArray(context)) {
      for (const item of context) {
        messages.push(...this.#extractMessages(item));
      }
    } else if (telegram_exports.isOneOf(["updates", "updatesCombined"], context)) {
      messages.push(...this.#extractMessages(context.updates));
    } else if (telegram_exports.isOneOf(["updates.difference", "updates.differenceSlice", "updates.channelDifference"], context)) {
      for (const message of context.new_messages) {
        if (telegram_exports.is("message", message)) {
          messages.push(message);
        }
      }
      messages.push(...this.#extractMessages(context.other_updates));
    } else if (telegram_exports.isOneOf(["updateNewMessage", "updateNewChannelMessage", "updateEditMessage", "updateEditChannelMessage", "updateBotNewBusinessMessage", "updateBotNewBusinessMessage"], context)) {
      if (telegram_exports.is("message", context.message)) {
        messages.push(context.message);
      }
    } else if (telegram_exports.is("message", context)) {
      messages.push(context);
    } else if (context !== null && typeof context === "object" && "messages" in context && Array.isArray(context.messages)) {
      for (const message of context.messages) {
        if (telegram_exports.is("message", message)) {
          messages.push(message);
        }
      }
    }
    return messages;
  }
  #extractMinPeerReferences(context) {
    const minPeerReferences = new Array();
    const messages = this.#extractMessages(context);
    for (const message of messages) {
      if (!message.from_id) {
        continue;
      }
      minPeerReferences.push({ chatId: telegram_exports.peerToChatId(message.peer_id), senderId: telegram_exports.peerToChatId(message.from_id), messageId: message.id });
    }
    return minPeerReferences;
  }
  processChats(chats, _context) {
    for (const chat of chats) {
      this.processChat(chat);
    }
  }
  processChat(chat) {
    if (telegram_exports.is("chatEmpty", chat)) {
      return;
    }
    if (telegram_exports.is("channel", chat) && chat.min) {
      return;
    }
    this.#c.messageStorage.setPeer(chat);
    if ("username" in chat && chat.username) {
      this.#c.messageStorage.usernames.set([chat.username], [telegram_exports.peerToChatId(chat), /* @__PURE__ */ new Date()]);
    }
    if ("usernames" in chat && chat.usernames) {
      const value = [telegram_exports.peerToChatId(chat), /* @__PURE__ */ new Date()];
      for (const username of chat.usernames) {
        this.#c.messageStorage.usernames.set([username.username], value);
      }
    }
  }
  async processResult(result) {
    if (Array.isArray(result)) {
      if (telegram_exports.isOfEnum("User", result[0])) {
        for (const user of result) {
          this.processUser(user);
        }
      }
    } else if (result !== null && typeof result === "object") {
      if ("chats" in result) {
        let valid = true;
        for (const chat of result.chats) {
          if (!telegram_exports.isOfEnum("Chat", chat)) {
            valid = false;
            break;
          }
        }
        if (valid) {
          this.processChats(result.chats, result);
        }
      }
      if ("users" in result && Array.isArray(result.users)) {
        let valid = true;
        for (const user of result.users) {
          if (!telegram_exports.isOfEnum("User", user)) {
            valid = false;
            break;
          }
        }
        if (valid) {
          this.processUsers(result.users, result);
        }
      }
      if ("messages" in result && Array.isArray(result.messages)) {
        for (const message of result.messages) {
          if (telegram_exports.is("message", message) || telegram_exports.is("messageService", message)) {
            await this.#c.messageStorage.setMessage(telegram_exports.peerToChatId(message.peer_id), message.id, message);
          }
        }
      }
    }
    if (telegram_exports.is("messages.messages", result)) {
      for (const message of result.messages) {
        if (telegram_exports.is("message", message) || telegram_exports.is("messageService", message)) {
          await this.#c.messageStorage.setMessage(telegram_exports.peerToChatId(message.peer_id), message.id, message);
        }
      }
    }
  }
  processUsers(users, _context) {
    for (const user of users) {
      this.processUser(user);
    }
  }
  processUser(user) {
    if (!telegram_exports.is("user", user)) {
      return;
    }
    if (user.min) {
      return;
    }
    this.#c.messageStorage.setPeer(user);
    if (user.username) {
      this.#c.messageStorage.usernames.set([user.username], [telegram_exports.peerToChatId(user), /* @__PURE__ */ new Date()]);
    }
    if (user.usernames) {
      const value = [telegram_exports.peerToChatId(user), /* @__PURE__ */ new Date()];
      for (const username of user.usernames) {
        this.#c.messageStorage.usernames.set([username.username], value);
      }
    }
  }
  #handleUpdateQueues = /* @__PURE__ */ new Map();
  getHandleUpdateQueue(boxId) {
    let queue = this.#handleUpdateQueues.get(boxId);
    if (queue !== void 0) {
      return queue;
    } else {
      queue = new Queue(`handleUpdate-${boxId}`, true);
      return queue;
    }
  }
  #nonFirst = /* @__PURE__ */ new Set();
  async #getChannelPtsWithDropPendingUpdatesCheck(channelId) {
    if (!this.#mustDropPendingUpdates()) {
      return await this.#c.storage.channelPts.get([channelId]);
    }
    const first = !this.#nonFirst.has(channelId);
    if (first) {
      this.#nonFirst.add(channelId);
      return null;
    } else {
      return await this.#c.storage.channelPts.get([channelId]);
    }
  }
  async #checkGap(pts, ptsCount) {
    const localState = await this.#getLocalState();
    if (localState.pts + ptsCount < pts) {
      await this.recoverUpdateGap("processUpdates[pts]");
    }
  }
  async #checkGapQts(qts) {
    const localState = await this.#getLocalState();
    if (localState.qts + _UpdateManager.QTS_COUNT < qts) {
      await this.recoverUpdateGap("processUpdates[qts]");
    }
  }
  async #checkChannelGap(channelId, pts, ptsCount) {
    let localPts = await this.#getChannelPtsWithDropPendingUpdatesCheck(channelId);
    if (!localPts) {
      localPts = pts - ptsCount;
    }
    if (localPts + ptsCount < pts) {
      await this.#recoverChannelUpdateGap(channelId, "processUpdates");
    }
  }
  #channelUpdateQueues = /* @__PURE__ */ new Map();
  async #processChannelPtsUpdateInner(update, checkGap) {
    const channelId = telegram_exports.is("updateNewChannelMessage", update) || telegram_exports.is("updateEditChannelMessage", update) ? telegram_exports.as("peerChannel", update.message.peer_id).channel_id : update.channel_id;
    if (telegram_exports.is("updateChannelTooLong", update)) {
      if (update.pts !== void 0) {
        this.#c.storage.channelPts.set([channelId], update.pts);
      }
      await this.#recoverChannelUpdateGap(channelId, "updateChannelTooLong");
      return;
    }
    if (update.pts !== 0) {
      const ptsCount = update.pts_count;
      if (checkGap) {
        await this.#checkChannelGap(channelId, update.pts, ptsCount);
      }
      let currentPts = await this.#getChannelPtsWithDropPendingUpdatesCheck(channelId);
      currentPts ??= update.pts - ptsCount;
      if (currentPts + ptsCount > update.pts) {
        return;
      }
    }
    if (this.#c.guaranteeUpdateDelivery) {
      await this.#c.storage.setUpdate(channelId, update);
    }
    if (update.pts !== 0) {
      this.#c.storage.channelPts.set([channelId], update.pts);
    }
    this.#queueUpdate(update, channelId, true);
  }
  #queueUpdate(update, boxId, pts) {
    this.getHandleUpdateQueue(boxId).add(async () => {
      if (this.#c.guaranteeUpdateDelivery && pts) {
        await this.#handleStoredUpdates(boxId);
      } else {
        await (await this.#handleUpdate(update))();
      }
    });
  }
  #processChannelPtsUpdate(update, checkGap) {
    const channelId = telegram_exports.is("updateNewChannelMessage", update) || telegram_exports.is("updateEditChannelMessage", update) ? telegram_exports.as("peerChannel", update.message.peer_id).channel_id : update.channel_id;
    let queue = this.#channelUpdateQueues.get(channelId);
    if (queue === void 0) {
      queue = new Queue(`channelUpdates-${channelId}`);
      this.#channelUpdateQueues.set(channelId, queue);
    }
    queue.add(async () => {
      await this.#processChannelPtsUpdateInner(update, checkGap);
    });
  }
  async #processPtsUpdateInner(update, checkGap) {
    if (update.pts !== 0 && checkGap) {
      await this.#checkGap(update.pts, update.pts_count);
      if (await this.#needsGetDifference(update)) {
        await this.recoverUpdateGap("needsGetDifference");
      }
    }
    const localState = await this.#getLocalState();
    if (update.pts !== 0 && localState.pts + update.pts_count > update.pts) {
      return;
    }
    if (this.#c.guaranteeUpdateDelivery) {
      await this.#c.storage.setUpdate(_UpdateManager.MAIN_BOX_ID, update);
    }
    if (update.pts !== 0) {
      await this.#setUpdatePts(update.pts);
    }
    this.#queueUpdate(update, 1n, false);
  }
  #ptsUpdateQueue = new Queue("ptsUpdate");
  #processPtsUpdate(update, checkGap) {
    this.#ptsUpdateQueue.add(async () => {
      await this.#processPtsUpdateInner(update, checkGap);
    });
  }
  async #processQtsUpdateInner(update, checkGap) {
    const localState = await this.#getLocalState();
    if (update.qts !== 0) {
      if (checkGap) {
        await this.#checkGapQts(update.qts);
      }
      if (localState.qts + _UpdateManager.QTS_COUNT > update.qts) {
        return;
      }
    }
    if (this.#c.guaranteeUpdateDelivery) {
      await this.#c.storage.setUpdate(_UpdateManager.MAIN_BOX_ID, update);
    }
    if (update.qts !== 0) {
      await this.#setUpdateQts(update.qts);
    }
    this.#queueUpdate(update, 0n, true);
  }
  #qtsUpdateQueue = new Queue("qtsUpdate");
  #processQtsUpdate(update, checkGap) {
    this.#qtsUpdateQueue.add(async () => {
      await this.#processQtsUpdateInner(update, checkGap);
    });
  }
  #processUpdatesQueue = new Queue("UpdateManager/processUpdates");
  processUpdates(updates, checkGap, call = null, callback) {
    this.#processUpdatesQueue.add(() => this.#processUpdates(updates, checkGap, call).finally(callback));
  }
  async #processUpdates(updates_, checkGap, call = null) {
    let updates;
    if (telegram_exports.is("updatesCombined", updates_) || telegram_exports.is("updates", updates_)) {
      updates = updates_.updates;
      const seq = updates_.seq;
      const seqStart = "seq_start" in updates_ ? updates_.seq_start : updates_.seq;
      if (checkGap) {
        if (seqStart === 0) {
          checkGap = false;
          this.#L$processUpdates.debug("seqStart=0");
        } else {
          const localState = await this.#getLocalState();
          const localSeq = localState.seq;
          if (localSeq + 1 === seqStart) {
            localState.seq = seq;
            localState.date = updates_.date;
            await this.#setUpdateStateDate(updates_.date);
            await this.#setState(localState);
          } else if (localSeq + 1 > seqStart) {
            this.#L$processUpdates.debug("localSeq + 1 > seqStart");
            return;
          } else if (localSeq + 1 < seqStart) {
            await this.recoverUpdateGap("localSeq + 1 < seqStart");
          }
        }
      }
    } else if (telegram_exports.is("updateShort", updates_)) {
      updates = [updates_.update];
    } else if (telegram_exports.is("updateShortMessage", updates_)) {
      updates = [
        {
          _: "updateNewMessage",
          message: {
            _: "message",
            out: updates_.out,
            mentioned: updates_.mentioned,
            media_unread: updates_.media_unread,
            silent: updates_.silent,
            id: updates_.id,
            from_id: updates_.out ? { _: "peerUser", user_id: BigInt(await this.#c.getSelfId()) } : { _: "peerUser", user_id: updates_.user_id },
            peer_id: { _: "peerUser", user_id: updates_.user_id },
            message: updates_.message,
            date: updates_.date,
            fwd_from: updates_.fwd_from,
            via_bot_id: updates_.via_bot_id,
            reply_to: updates_.reply_to,
            entities: updates_.entities,
            ttl_period: updates_.ttl_period
          },
          pts: updates_.pts,
          pts_count: updates_.pts_count
        }
      ];
    } else if (telegram_exports.is("updateShortChatMessage", updates_)) {
      updates = [
        {
          _: "updateNewMessage",
          message: {
            _: "message",
            mentioned: updates_.mentioned,
            media_unread: updates_.media_unread,
            silent: updates_.silent,
            id: updates_.id,
            from_id: { _: "peerUser", user_id: updates_.from_id },
            peer_id: { _: "peerChat", chat_id: updates_.chat_id },
            fwd_from: updates_.fwd_from,
            via_bot_id: updates_.via_bot_id,
            reply_to: updates_.reply_to,
            date: updates_.date,
            message: updates_.message,
            entities: updates_.entities,
            ttl_period: updates_.ttl_period
          },
          pts: updates_.pts,
          pts_count: updates_.pts_count
        }
      ];
    } else if (telegram_exports.is("updateShortSentMessage", updates_)) {
      if (!telegram_exports.is("messages.sendMessage", call)) {
        unreachable();
      }
      updates = [{
        _: "updateNewMessage",
        message: {
          _: "message",
          out: updates_.out,
          silent: call.silent,
          id: updates_.id,
          from_id: { _: "peerUser", user_id: BigInt(await this.#c.getSelfId()) },
          peer_id: telegram_exports.inputPeerToPeer(call.peer),
          message: call.message,
          media: updates_.media,
          date: updates_.date,
          entities: updates_.entities,
          ttl_period: updates_.ttl_period
        },
        pts: updates_.pts,
        pts_count: updates_.pts_count
      }];
    } else if (telegram_exports.is("updatesTooLong", updates_)) {
      await this.recoverUpdateGap("updatesTooLong");
      return;
    } else if (telegram_exports.isOfEnum("Update", updates_)) {
      updates = [updates_];
    } else {
      unreachable();
    }
    if (telegram_exports.is("updates", updates_) || telegram_exports.is("updatesCombined", updates_)) {
      this.processChats(updates_.chats, updates_);
      this.processUsers(updates_.users, updates_);
      this.#setUpdateStateDate(updates_.date);
    } else if (telegram_exports.isOneOf([
      "updateShort",
      "updateShortMessage",
      "updateShortChatMessage",
      "updateShortSentMessage"
    ], updates_)) {
      await this.#setUpdateStateDate(updates_.date);
    }
    for (const update of updates) {
      if (telegram_exports.is("updatePtsChanged", update)) {
        await this.fetchState("updatePtsChanged");
        if (this.#updateState) {
          await this.#setState(this.#updateState);
        } else {
          unreachable();
        }
      } else if (_UpdateManager.isPtsUpdate(update)) {
        this.#processPtsUpdate(update, checkGap);
      } else if (_UpdateManager.isChannelPtsUpdate(update)) {
        this.#processChannelPtsUpdate(update, checkGap);
      } else if (_UpdateManager.isQtsUpdate(update)) {
        this.#processQtsUpdate(update, checkGap);
      } else {
        this.#queueUpdate(update, 0n, false);
      }
    }
  }
  async #setUpdateStateDate(date) {
    const localState = await this.#getLocalState();
    localState.date = date;
    await this.#setState(localState);
  }
  async #setUpdatePts(pts) {
    const localState = await this.#getLocalState();
    localState.pts = pts;
    await this.#setState(localState);
  }
  async #setUpdateQts(qts) {
    const localState = await this.#getLocalState();
    localState.qts = qts;
    await this.#setState(localState);
  }
  async #getLocalState() {
    let localState = await this.#getState();
    if (!localState) {
      if (this.#updateState) {
        localState = this.#updateState;
        await this.#setState(localState);
      } else {
        await this.fetchState("getLocalState");
        if (this.#updateState) {
          localState = this.#updateState;
          await this.#setState(localState);
        } else {
          unreachable();
        }
      }
    }
    return localState;
  }
  #recoveringUpdateGap = false;
  #recoverUpdateGapMutex = new Mutex();
  async recoverUpdateGap(source) {
    const wasRecoveringUpdateGap = this.#recoveringUpdateGap;
    const unlock = await this.#recoverUpdateGapMutex.lock();
    if (wasRecoveringUpdateGap) {
      this.#LrecoverUpdateGap.debug(`update gap was just recovered [${source}]`);
      unlock();
      return;
    }
    this.#recoveringUpdateGap = true;
    this.#LrecoverUpdateGap.debug(`recovering from update gap [${source}]`);
    this.#c.setConnectionState("updating");
    try {
      let retryIn = 5;
      let state = await this.#getLocalState();
      while (true) {
        let difference;
        try {
          difference = await this.#c.invoke({ _: "updates.getDifference", pts: state.pts, date: state.date, qts: state.qts ?? 0 });
        } catch (err) {
          if (err instanceof PersistentTimestampInvalid) {
            await delay(retryIn * SECOND);
            ++retryIn;
            if (retryIn > 60) {
              retryIn = 60;
            }
            continue;
          } else {
            throw err;
          }
        }
        if (telegram_exports.is("updates.difference", difference) || telegram_exports.is("updates.differenceSlice", difference)) {
          this.processChats(difference.chats, difference);
          this.processUsers(difference.users, difference);
          for (const message of difference.new_messages) {
            await this.#processUpdates({ _: "updateNewMessage", message, pts: 0, pts_count: 0 }, false);
          }
          for (const update of difference.other_updates) {
            await this.#processUpdates(update, false);
          }
          if (telegram_exports.is("updates.difference", difference)) {
            await this.#setState(difference.state);
            this.#LrecoverUpdateGap.debug("recovered from update gap");
            break;
          } else if (telegram_exports.is("updates.differenceSlice", difference)) {
            state = difference.intermediate_state;
            await this.#setState(state);
          } else {
            unreachable();
          }
        } else if (telegram_exports.is("updates.differenceTooLong", difference)) {
          await this.#c.messageStorage.deleteMessages();
          state.pts = difference.pts;
          this.#LrecoverUpdateGap.debug("received differenceTooLong");
        } else if (telegram_exports.is("updates.differenceEmpty", difference)) {
          await this.#setUpdateStateDate(difference.date);
          this.#LrecoverUpdateGap.debug("there was no update gap");
          break;
        } else {
          unreachable();
        }
      }
    } catch (err) {
      this.#LrecoverUpdateGap.error(err);
    } finally {
      unlock();
      this.#c.resetConnectionState();
      this.#recoveringUpdateGap = false;
    }
  }
  async #recoverChannelUpdateGap(channelId, source) {
    let lastTimeout = 10;
    this.#LrecoverChannelUpdateGap.debug(`recovering channel update gap [${channelId}, ${source}]`);
    const pts_ = await this.#c.storage.channelPts.get([channelId]);
    let pts = pts_ === null ? 1 : pts_;
    let retryIn = 5;
    while (true) {
      const { access_hash } = await this.#c.getInputPeer(ZERO_CHANNEL_ID + -Number(channelId)).then((v) => telegram_exports.as("inputPeerChannel", v));
      let difference;
      try {
        difference = await this.#c.invoke({
          _: "updates.getChannelDifference",
          pts,
          channel: { _: "inputChannel", channel_id: channelId, access_hash },
          filter: { _: "channelMessagesFilterEmpty" },
          limit: this.#c.storage.isBot ? CHANNEL_DIFFERENCE_LIMIT_BOT : CHANNEL_DIFFERENCE_LIMIT_USER
        });
        lastTimeout = difference.timeout ?? lastTimeout;
      } catch (err) {
        if (err instanceof PersistentTimestampInvalid) {
          await delay(retryIn * SECOND);
          retryIn += 5;
          if (retryIn > 60) {
            retryIn = 60;
          }
          continue;
        } else {
          throw err;
        }
      }
      if (telegram_exports.is("updates.channelDifference", difference)) {
        this.processChats(difference.chats, difference);
        this.processUsers(difference.users, difference);
        for (const message of difference.new_messages) {
          await this.#processUpdates({ _: "updateNewChannelMessage", message, pts: 0, pts_count: 0 }, false);
        }
        for (const update of difference.other_updates) {
          await this.#processUpdates(update, false);
        }
        this.#c.storage.channelPts.set([channelId], difference.pts);
        this.#LrecoverChannelUpdateGap.debug(`recovered from update gap [${channelId}, ${source}]`, channelId, source);
        break;
      } else if (telegram_exports.is("updates.channelDifferenceTooLong", difference)) {
        this.#LrecoverChannelUpdateGap.debug("received channelDifferenceTooLong");
        this.processChats(difference.chats, difference);
        this.processUsers(difference.users, difference);
        for (const message of difference.messages) {
          await this.#processUpdates({ _: "updateNewChannelMessage", message, pts: 0, pts_count: 0 }, false);
        }
        const pts_2 = telegram_exports.as("dialog", difference.dialog).pts;
        if (pts_2 !== void 0) {
          pts = pts_2;
        } else {
          unreachable();
        }
        this.#LrecoverChannelUpdateGap.debug("processed channelDifferenceTooLong");
      } else if (telegram_exports.is("updates.channelDifferenceEmpty", difference)) {
        this.#LrecoverChannelUpdateGap.debug("there was no update gap");
        break;
      }
    }
    return lastTimeout;
  }
  #handleUpdatesSet = /* @__PURE__ */ new Set();
  async #handleStoredUpdates(boxId) {
    if (this.#handleUpdatesSet.has(boxId)) {
      return;
    }
    this.#handleUpdatesSet.add(boxId);
    do {
      const maybeUpdate = await this.#c.storage.getFirstUpdate(boxId);
      if (maybeUpdate === null) {
        break;
      }
      const [key, update] = maybeUpdate;
      for (let i = 0; i < 100; ++i) {
        try {
          const handle = await this.#handleUpdate(update);
          handle:
            for (let i2 = 0; i2 < 2; ++i2) {
              try {
                await handle();
                break handle;
              } catch {
                continue handle;
              }
            }
          break;
        } catch (err) {
          this.#L$handleUpdate.error(err);
        }
      }
      await this.#c.storage.set(key, null);
    } while (true);
    this.#handleUpdatesSet.delete(boxId);
  }
  #handleUpdate(update) {
    const handler = this.#updateHandler;
    if (handler) {
      return handler(update);
    } else {
      return Promise.resolve(() => Promise.resolve());
    }
  }
  async #needsGetDifference(update) {
    const chatIds = this.#collectChatIds(update);
    if (!chatIds.size) {
      return false;
    }
    return (await Promise.all(chatIds.values().map((v) => this.#c.messageStorage.peers.get([v])))).some((v) => !v);
  }
  #collectChatIds(object) {
    const chatIds = /* @__PURE__ */ new Set();
    if (telegram_exports.is("messageFwdHeader", object)) {
      if (object.from_id) {
        chatIds.add(peerToChatId(object.from_id));
      }
      if (object.saved_from_peer) {
        chatIds.add(peerToChatId(object.saved_from_peer));
      }
      return chatIds;
    }
    if (telegram_exports.isOfEnum("MessageMedia", object)) {
      switch (object._) {
        case "messageMediaContact":
          if (object.user_id) {
            chatIds.add(peerToChatId({ _: "peerUser", user_id: object.user_id }));
          }
          break;
        case "messageMediaStory":
          chatIds.add(peerToChatId(object.peer));
          break;
        case "messageMediaGiveaway":
          for (const chatId of object.channels.map((v) => peerToChatId({ _: "peerChannel", channel_id: v }))) {
            chatIds.add(chatId);
          }
          break;
        case "messageMediaGiveawayResults":
          chatIds.add(peerToChatId({ _: "peerChannel", channel_id: object.channel_id }));
          for (const chatId of object.winners.map((user_id) => peerToChatId({ _: "peerUser", user_id }))) {
            chatIds.add(chatId);
          }
      }
      return chatIds;
    }
    if (!("message" in object)) {
      return chatIds;
    }
    if (telegram_exports.is("messageEmpty", object.message)) {
      return chatIds;
    }
    chatIds.add(peerToChatId(object.message.peer_id));
    if (object.message.from_id) {
      chatIds.add(peerToChatId(object.message.from_id));
    }
    if (telegram_exports.is("messageService", object.message)) {
      switch (object.message.action._) {
        case "messageActionChatCreate":
        case "messageActionChatAddUser":
        case "messageActionInviteToGroupCall":
          for (const user_id of object.message.action.users) {
            chatIds.add(peerToChatId({ _: "peerUser", user_id }));
          }
          break;
        case "messageActionChatDeleteUser":
          chatIds.add(peerToChatId({ _: "peerUser", user_id: object.message.action.user_id }));
          break;
        case "messageActionChatMigrateTo":
          chatIds.add(peerToChatId({ _: "peerChannel", channel_id: object.message.action.channel_id }));
          break;
        case "messageActionChannelMigrateFrom":
          chatIds.add(peerToChatId({ _: "peerChat", chat_id: object.message.action.chat_id }));
          break;
        case "messageActionConferenceCall":
          if (object.message.action.other_participants) {
            for (const participant of object.message.action.other_participants) {
              chatIds.add(peerToChatId(participant));
            }
          }
          break;
        case "messageActionPaymentRefunded":
          chatIds.add(peerToChatId(object.message.action.peer));
          break;
        case "messageActionGiftCode":
          if (object.message.action.boost_peer) {
            chatIds.add(peerToChatId(object.message.action.boost_peer));
          }
          break;
        case "messageActionRequestedPeer":
          if (!this.#c.storage.isBot) {
            for (const peer of object.message.action.peers) {
              chatIds.add(peerToChatId(peer));
            }
          }
          break;
        case "messageActionSetMessagesTTL":
          if (object.message.action.auto_setting_from) {
            chatIds.add(peerToChatId({ _: "peerUser", user_id: object.message.action.auto_setting_from }));
          }
      }
    } else {
      if (object.message.reply_to) {
        switch (object.message.reply_to._) {
          case "messageReplyHeader":
            if (object.message.reply_to.reply_to_peer_id) {
              chatIds.add(peerToChatId(object.message.reply_to.reply_to_peer_id));
            }
            if (object.message.reply_to.reply_from) {
              for (const chatId of this.#collectChatIds(object.message.reply_to.reply_from)) {
                chatIds.add(chatId);
              }
            }
            if (object.message.reply_to.quote_entities) {
              for (const chatId of this.#collectChatIdsFromEntities(object.message.reply_to.quote_entities)) {
                chatIds.add(chatId);
              }
            }
            if (object.message.reply_to.reply_media) {
              for (const chatId of this.#collectChatIds(object.message.reply_to.reply_media)) {
                chatIds.add(chatId);
              }
            }
            break;
          case "messageReplyStoryHeader":
            chatIds.add(peerToChatId(object.message.reply_to.peer));
        }
      }
      if (object.message.fwd_from) {
        for (const chatId of this.#collectChatIds(object.message.fwd_from)) {
          chatIds.add(chatId);
        }
      }
      if (object.message.via_bot_id) {
        chatIds.add(peerToChatId({ _: "peerUser", user_id: object.message.via_bot_id }));
      }
      if (object.message.entities) {
        for (const chatId of this.#collectChatIdsFromEntities(object.message.entities)) {
          chatIds.add(chatId);
        }
      }
      if (object.message.media) {
        for (const chatId of this.#collectChatIds(object.message.media)) {
          chatIds.add(chatId);
        }
      }
    }
    return chatIds;
  }
  #collectChatIdsFromEntities(entities) {
    const chatIds = new Array();
    for (const user_id of entities.filter((v) => telegram_exports.is("messageEntityMentionName", v)).map((v) => v.user_id)) {
      chatIds.push(peerToChatId({ _: "peerUser", user_id }));
    }
    return chatIds;
  }
  setUpdateHandler(handler) {
    this.#updateHandler = handler;
  }
  #openChats = /* @__PURE__ */ new Map();
  async openChat(chatId, params) {
    if (params?.timeout !== void 0 && (params.timeout < 0 || params?.timeout === 0)) {
      throw new InputError("An invalid timeout was specified.");
    }
    const channel = await this.#c.getInputChannel(chatId);
    const channelId = channel.channel_id;
    if (this.#openChats.has(channelId)) {
      return;
    }
    const controller = new AbortController();
    const promise = Promise.resolve().then(async () => {
      const logger = this.#LopenChat.branch(telegram_exports.peerToChatId(channel) + "");
      while (true) {
        if (this.#c.disconnected()) {
          logger.debug("disconnected, stopping the loop");
          this.#openChats.delete(channelId);
          break;
        }
        if (!this.#openChats.has(channelId)) {
          const aborted = controller.signal.aborted;
          logger.debug(`closed${aborted ? " (aborted)" : ""}, stopping the loop`);
          break;
        }
        try {
          const Ti = Date.now();
          const otherTimeout = await this.#recoverChannelUpdateGap(channelId, "openChat");
          const timeout = params?.timeout ?? otherTimeout;
          const dT = Date.now() - Ti;
          const delayMs = Math.max(timeout * SECOND - dT, 0);
          logger.debug("timeout =", timeout, params?.timeout !== void 0 ? "(user-provided)" : "(not user-provided)", "delay =", delayMs, "dT =", dT);
          if (delayMs) {
            await delay(delayMs, { signal: controller.signal });
          }
        } catch (err) {
          if (this.#c.disconnected()) {
            continue;
          }
          this.#LopenChat.error("an unexpected error occurred:", err);
        }
      }
    });
    this.#openChats.set(channelId, { controller, promise });
  }
  async closeChat(chatId) {
    const { channel_id } = await this.#c.getInputChannel(chatId);
    const openChat = this.#openChats.get(channel_id);
    if (openChat) {
      this.#openChats.delete(channel_id);
      openChat.controller.abort();
    } else {
      throw new InputError("Chat not open");
    }
  }
  closeAllChats() {
    for (const [channelId, openChat] of this.#openChats.entries()) {
      this.#openChats.delete(channelId);
      openChat.controller.abort();
    }
  }
};

// client/3_client_encrypted_pool.ts
var ClientEncryptedPool = class {
  #index = 0;
  #clients = new Array();
  get size() {
    return this.#clients.length;
  }
  add(client) {
    this.#clients.push(client);
  }
  nextClient() {
    const client = this.#clients[this.#index];
    if (this.#index >= this.#clients.length - 1) {
      this.#index = 0;
    } else {
      ++this.#index;
    }
    return client;
  }
  disconnect() {
    for (const client of this.#clients) {
      client.disconnect();
    }
  }
  map(callback) {
    this.#clients.map(callback);
  }
};

// client/0_html.ts
var TAG_NAMES = [
  "a",
  "b",
  "strong",
  "i",
  "em",
  "s",
  "strike",
  "del",
  "u",
  "ins",
  "tg-spoiler",
  "tg-emoji",
  "span",
  "pre",
  "code",
  "blockquote"
];
var ENTITY_TYPES = [
  "textLink",
  "bold",
  "bold",
  "italic",
  "italic",
  "strikethrough",
  "strikethrough",
  "strikethrough",
  "underline",
  "underline",
  "spoiler",
  "customEmoji",
  "spoiler",
  "code",
  "code",
  "blockquote"
];
function parseHtml(html_) {
  html_ = html_.trim();
  let text = "";
  let entities = new Array();
  const entityTags = new Array();
  const tagStack = new Array();
  const html = Array.from(html_);
  for (let i = 0; i < html.length; ++i) {
    const c = html[i];
    if (c === "&") {
      const result = decodeEntity(html, i);
      [text, i] = [text + result[0], i + result[1]];
      continue;
    } else if (c !== "<") {
      text += c;
      continue;
    }
    ++i;
    let closing = false;
    let end = i;
    if (html[end] && html[end] === "/") {
      closing = true;
      ++i;
      ++end;
    }
    while (html[end] && html[end] !== ">") {
      ++end;
    }
    const tagName_ = html.slice(i, end);
    let tagName = tagName_.join("");
    let attributes;
    if (closing) {
      tagName = tagName.trim().toLowerCase();
    } else {
      const index = tagName_.indexOf(" ");
      if (index !== -1) {
        attributes = parseAttributes(tagName_.slice(index));
        tagName = tagName.slice(0, index).toLowerCase();
      } else {
        tagName = tagName.toLowerCase();
      }
    }
    if (closing && !tagName.length && tagStack.length) {
      tagName = tagStack[tagStack.length - 1].tagName;
    }
    if (!tagName.length) {
      throw new InputError(`Invalid tag at offset ${i}.`);
    } else if (!TAG_NAMES.includes(tagName)) {
      throw new InputError(`Unsupported HTML tag at offset ${i}: ${tagName}`);
    } else if (closing) {
      const openTag = tagStack.pop();
      if (openTag?.tagName !== tagName) {
        throw new InputError(`Unexpected closing tag at offset ${i}.`);
      }
      const offset = openTag.openedAt;
      const length = text.length - openTag.openedAt;
      if (tagName === "a") {
        let url = openTag.url;
        if (!url) {
          const text_ = text.slice(offset, offset + length);
          try {
            url = new URL(text_).href;
          } catch {
            if (!Array.from(text).some(isSpace)) {
              try {
                url = new URL(`http://${url}`);
              } catch {
              }
            }
          }
        }
        if (url) {
          entities.push({
            type: "textLink",
            offset,
            length,
            url
          });
          entityTags.push(openTag);
        }
      } else if (tagName === "pre") {
        const lastEntity = entities[entities.length - 1];
        const entityTag = entityTags[entityTags.length - 1];
        if (lastEntity && lastEntity.type === "code" && lastEntity.offset === offset && lastEntity.length === length && entityTag.language) {
          entities[entities.length - 1] = {
            type: "pre",
            offset: lastEntity.offset,
            length: lastEntity.length,
            language: entityTag.language
          };
        } else {
          entities.push({
            type: "pre",
            offset,
            length,
            language: ""
          });
          entityTags.push(openTag);
        }
      } else if (tagName === "code") {
        const lastEntity = entities[entities.length - 1];
        if (lastEntity && lastEntity.type === "pre" && lastEntity.offset === offset && lastEntity.length === length && openTag.language) {
          lastEntity.language = openTag.language;
        } else {
          entities.push({
            type: "code",
            offset,
            length
          });
          entityTags.push(openTag);
        }
      } else if (openTag.userId !== void 0) {
        entities.push({
          type: "textMention",
          offset,
          length,
          userId: openTag.userId
        });
        entityTags.push(openTag);
      } else if (tagName === "blockquote") {
        const entity = {
          type: "blockquote",
          offset,
          length
        };
        if (openTag.collapsible) {
          entity.collapsible = true;
        }
        entities.push(entity);
        entityTags.push(openTag);
        if (openTag.collapsible) {
          entities[entities.length - 1].collapsible = true;
        }
      } else if (openTag.customEmojiId !== void 0) {
        entities.push({
          type: "customEmoji",
          offset,
          length,
          customEmojiId: openTag.customEmojiId
        });
        entityTags.push(openTag);
      } else {
        entities.push({
          type: ENTITY_TYPES[TAG_NAMES.indexOf(openTag.tagName)],
          offset,
          length
        });
        entityTags.push(openTag);
      }
    } else if (tagName === "span" && attributes?.class !== "tg-spoiler") {
      throw new InputError(`Invalid or missing attribute class for tag span at offset ${i}.`);
    } else {
      let url;
      let language;
      let userId;
      let collapsible;
      let customEmojiId;
      if (tagName === "a") {
        url = attributes?.href;
        if (url) {
          let url_;
          try {
            url_ = new URL(url);
          } catch {
            try {
              url_ = new URL(`http://${url}`);
              url = url_.href;
            } catch {
              throw new InputError(`Invalid URL specified for tag a at offset ${i}.`);
            }
          }
          if (url_.protocol !== "tg:" && url_.protocol !== "ton:" && url_.protocol !== "http:" && url_.protocol !== "https:") {
            throw new InputError(`Unsupported URL protocol at offset ${i}: ${url_.protocol}`);
          }
          if (url_.protocol === "tg:" && url_.hostname === "user") {
            const id5 = Number(url_.searchParams.get("id"));
            if (!isNaN(id5) && id5 > 0) {
              userId = id5;
              url = void 0;
            } else {
              throw new InputError(`Invalid ID specified for mention at offset ${i}.`);
            }
          }
        }
      } else if (tagName === "code") {
        language = attributes?.class?.replace("language-", "");
      } else if (tagName === "blockquote" && attributes?.expandable !== void 0) {
        collapsible = true;
      } else if (tagName === "tg-emoji") {
        customEmojiId = attributes?.["emoji-id"];
        let valid;
        try {
          valid = BigInt(customEmojiId ?? "") !== 0n;
        } catch {
          valid = false;
        }
        if (!valid) {
          throw new InputError(`Invalid emoji-id specified for tag tg-emoji at offset ${i}.`);
        }
      }
      tagStack.push({ tagName, openedAt: text.length, url, language, userId, collapsible, customEmojiId });
    }
    i += end - i;
  }
  entities = entities.filter((v) => v.length);
  entities = sortEntities(entities);
  return [text, entities];
}
function parseAttributes(attributes) {
  const parsed = {};
  for (let i = 0; i < attributes.length; ++i) {
    const c = attributes[i];
    if (isSpace(c)) {
      continue;
    }
    let end = i;
    while (attributes[end] && !isSpace(attributes[end]) && attributes[end] !== "=") {
      ++end;
    }
    const name = attributes.slice(i, end);
    while (attributes[end] && isSpace(attributes[end])) {
      ++end;
    }
    let value = new Array();
    if (attributes[end] === "=") {
      ++end;
      while (attributes[end] && isSpace(attributes[end])) {
        ++end;
      }
      if (attributes[end]) {
        const isQuote = attributes[end] === '"' || attributes[end] === "'";
        if (!isQuote) {
          const valueStart = end;
          ++end;
          while (attributes[end] && !isSpace(attributes[end])) {
            ++end;
          }
          value = attributes.slice(valueStart, end);
        } else {
          const quote = attributes[end];
          ++end;
          const valueStart = end;
          while (attributes[end] && attributes[end] !== quote) {
            ++end;
          }
          value = attributes.slice(valueStart, end);
        }
      }
    }
    let value_ = "";
    for (let i2 = 0; i2 < value.length; ++i2) {
      const c2 = value[i2];
      if (c2 === "&") {
        const result = decodeEntity(value, i2);
        [value_, i2] = [value_ + result[0], i2 + result[1]];
      } else {
        value_ += c2;
      }
    }
    parsed[name.join("")] = value_;
    i += end - i;
  }
  return parsed;
}
function decodeEntity(html, i) {
  let text = "";
  let end = i + 1;
  let fallback = false;
  if (html[end] === "#") {
    ++end;
    let code;
    if (html[end] === "x") {
      ++end;
      while (isHex(html[end])) {
        ++end;
      }
      const hex = html.slice(i + 3, end).join("");
      code = parseInt(hex, 16);
    } else {
      while (isDigit2(html[end])) {
        ++end;
      }
      const code_ = html.slice(i + 2, end).join("");
      code = parseInt(code_);
    }
    if (!isNaN(code) && code !== 0 && code < 1114111 && end - i < 10) {
      text = String.fromCharCode(code);
    } else {
      fallback = true;
    }
  } else {
    while (isAlpha2(html[end])) {
      ++end;
    }
    const name = html.slice(i + 1, end).join("");
    switch (name) {
      case "amp":
        text = "&";
        break;
      case "quot":
        text = '"';
        break;
      case "lt":
        text = "<";
        break;
      case "gt":
        text = ">";
        break;
      default:
        fallback = true;
    }
  }
  if (html[end] === ";") {
    ++end;
  }
  if (fallback) {
    text = html.slice(i, end).join("");
  }
  return [text, end - i - 1];
}
function isAlpha2(string) {
  return "a" <= string && string <= "z";
}
function isDigit2(string) {
  return "0" <= string && string <= "9";
}
function isHex(string) {
  return isDigit2(string) || "a" <= string && string <= "f";
}
function isSpace(string) {
  return string === " " || string === "	" || string === "\r" || string === "\n" || string === "\0" || string === "\v";
}
function sortEntities(entities) {
  return entities.sort(({ offset, type, length }, other) => {
    if (offset !== other.offset) {
      return offset < other.offset ? -1 : 1;
    }
    if (length !== other.length) {
      return length > other.length ? -1 : 1;
    }
    const priority = ENTITY_TYPE_PRIORITIES[type];
    const otherPriority = ENTITY_TYPE_PRIORITIES[other.type];
    return priority < otherPriority ? -1 : 1;
  });
}
var ENTITY_TYPE_PRIORITIES = {
  "mention": 50,
  "hashtag": 50,
  "botCommand": 50,
  "url": 50,
  "email": 50,
  "bold": 90,
  "italic": 91,
  "code": 20,
  "pre": 11,
  "textLink": 49,
  "textMention": 49,
  "cashtag": 50,
  "phoneNumber": 50,
  "underline": 92,
  "strikethrough": 93,
  "blockquote": 0,
  "bankCard": 50,
  "spoiler": 94,
  "customEmoji": 99
};

// client/0_markdown.ts
var CODEPOINTS = {
  "	": 9,
  "\r": 13,
  "\0": 0,
  "\v": 11,
  "\n": 10,
  " ": 32,
  "_": 95,
  "[": 91,
  "]": 93,
  "(": 40,
  ")": 41,
  "`": 96,
  "~": 126,
  "\\": 92,
  "*": 42,
  "!": 33,
  "|": 124
};
function isUtf8CharacterFirstCodeUnit(c) {
  return (c & 192) !== 128;
}
function isWhitespace(codepoint) {
  return codepoint === CODEPOINTS[" "] || codepoint === CODEPOINTS["	"] || codepoint === CODEPOINTS["\r"] || codepoint === CODEPOINTS["\n"] || codepoint === CODEPOINTS["\0"] || codepoint === CODEPOINTS["\v"];
}
function getUrl(url_) {
  try {
    const url = new URL(url_);
    if (url.protocol !== "http:" && url.protocol !== "https:" && url.protocol !== "tg:" && url.protocol !== "ton:") {
      return "";
    } else {
      return url.href;
    }
  } catch {
    return "";
  }
}
function getLinkUserId(url_) {
  try {
    const url = new URL(url_);
    if (url.protocol !== "tg:" || url.hostname !== "user" || url.pathname.slice(1) !== "" || url.port !== "") {
      return 0;
    }
    return Number(url.searchParams.get("id")) || 0;
  } catch {
    return 0;
  }
}
function getLinkCustomEmojiId(url_) {
  try {
    const url = new URL(url_);
    if (url.protocol !== "tg:" || url.hostname !== "emoji" || url.pathname.slice(1) !== "" || url.port !== "") {
      return "";
    }
    const id_ = url.searchParams.get("id");
    if (!id_) {
      return "";
    }
    const id5 = BigInt(id_);
    if (!id5) {
      return "";
    } else {
      return String(id5);
    }
  } catch {
    return "";
  }
}
function parseMarkdown(text_) {
  const text = encodeText(text_);
  let resultSize = 0;
  let entities = [];
  let utf16Offset = 0;
  const nestedEntities = [];
  for (let i = 0; i < text.length; i++) {
    const c = text[i];
    if (c === CODEPOINTS["\\"] && text[i + 1] !== void 0 && text[i + 1] > 0 && text[i + 1] <= 126) {
      i++;
      utf16Offset += 1;
      text[resultSize++] = text[i];
      continue;
    }
    let reservedCharacters = encodeText("_*[]()~`>#+-=|{}.!");
    if (nestedEntities.length !== 0) {
      switch (nestedEntities[nestedEntities.length - 1].type) {
        case "code":
        case "pre":
          reservedCharacters = Uint8Array.of(CODEPOINTS["`"]);
          break;
        default:
          break;
      }
    }
    if (!reservedCharacters.includes(text[i])) {
      if (isUtf8CharacterFirstCodeUnit(c)) {
        utf16Offset += 1 + (c >= 240 ? 1 : 0);
      }
      text[resultSize++] = text[i];
      continue;
    }
    let isEndOfAnEntity = false;
    if (nestedEntities.length !== 0) {
      isEndOfAnEntity = (() => {
        switch (nestedEntities[nestedEntities.length - 1].type) {
          case "bold":
            return c === CODEPOINTS["*"];
          case "italic":
            return c === CODEPOINTS["_"] && text[i + 1] !== CODEPOINTS["_"];
          case "code":
            return c === CODEPOINTS["`"];
          case "pre":
            return c === CODEPOINTS["`"] && text[i + 1] === CODEPOINTS["`"] && text[i + 2] === CODEPOINTS["`"];
          case "textLink":
            return c === CODEPOINTS["]"];
          case "underline":
            return c === CODEPOINTS["_"] && text[i + 1] === CODEPOINTS["_"];
          case "strikethrough":
            return c === CODEPOINTS["~"];
          case "spoiler":
            return c === CODEPOINTS["|"] && text[i + 1] === CODEPOINTS["|"];
          case "customEmoji":
            return c === CODEPOINTS["]"];
          default:
            unreachable();
        }
      })();
    }
    if (!isEndOfAnEntity) {
      let type;
      let argument = new Uint8Array();
      const entityByteOffset = i;
      switch (c) {
        case CODEPOINTS["_"]:
          if (text[i + 1] === CODEPOINTS["_"]) {
            type = "underline";
            i++;
          } else {
            type = "italic";
          }
          break;
        case CODEPOINTS["*"]:
          type = "bold";
          break;
        case CODEPOINTS["~"]:
          type = "strikethrough";
          break;
        case CODEPOINTS["|"]:
          if (text[i + 1] === CODEPOINTS["|"]) {
            i++;
            type = "spoiler";
          } else {
            throw new InputError(`The character "${String.fromCharCode(c)}" is reserved and must be escaped with a preceding backslash.`);
          }
          break;
        case CODEPOINTS["["]:
          type = "textLink";
          break;
        case CODEPOINTS["`"]:
          if (text[i + 1] === CODEPOINTS["`"] && text[i + 2] === CODEPOINTS["`"]) {
            i += 3;
            type = "code";
            let languageEnd = i;
            while (text[languageEnd] !== null && !isWhitespace(text[languageEnd]) && text[languageEnd] !== CODEPOINTS["`"]) {
              languageEnd++;
            }
            if (i !== languageEnd && languageEnd < text.length && text[languageEnd] !== CODEPOINTS["`"]) {
              type = "pre";
              argument = text.slice(i, languageEnd);
              i = languageEnd;
            }
            const current = text[i], next = text[i + 1];
            if (current === CODEPOINTS["\n"] || current === CODEPOINTS["\r"]) {
              if ((next === CODEPOINTS["\n"] || next === CODEPOINTS["\r"]) && current !== next) {
                i += 2;
              } else {
                i++;
              }
            }
            i--;
          } else {
            type = "code";
          }
          break;
        case CODEPOINTS["!"]:
          if (text[i + 1] === CODEPOINTS["["]) {
            i++;
            type = "customEmoji";
          } else {
            throw new Error(`Character '${String.fromCharCode(text[i])}' is reserved and must be escaped with the preceding '\\'`);
          }
          break;
        default:
          throw new Error(`Character '${String.fromCharCode(text[i])}' is reserved and must be escaped with the preceding '\\'`);
      }
      nestedEntities.push({ type, argument, entityOffset: utf16Offset, entityByteOffset, entityBeginPos: resultSize });
    } else {
      let { type, argument } = nestedEntities[nestedEntities.length - 1];
      let userId = 0;
      let customEmojiId = "";
      let skipEntity = utf16Offset === nestedEntities.at(-1).entityOffset;
      switch (type) {
        case "bold":
        case "italic":
        case "code":
        case "strikethrough":
          break;
        case "underline":
        case "spoiler":
          i++;
          break;
        case "pre":
          i += 2;
          break;
        case "textLink": {
          let url;
          if (text[i + 1] !== CODEPOINTS["("]) {
            url = text.slice(nestedEntities.at(-1).entityBeginPos, resultSize);
          } else {
            i += 2;
            const urlBeginPos = i;
            const url_ = [];
            while (i < text.length && text[i] !== CODEPOINTS[")"]) {
              if (text[i] === CODEPOINTS["\\"] && text[i + 1] > 0 && text[i + 1] <= 126) {
                url_.push(text[i + 1]);
                i += 2;
                continue;
              }
              url_.push(text[i++]);
            }
            url = Uint8Array.from(url_);
            if (text[i] !== CODEPOINTS[")"]) {
              throw new Error(`Can't find the end of the URL that starts at offset ${urlBeginPos}.`);
            }
          }
          userId = getLinkUserId(decodeText(url));
          if (!userId) {
            const url_ = getUrl(decodeText(url));
            if (!url_) {
              skipEntity = true;
            } else {
              argument = url_;
            }
          }
          break;
        }
        case "customEmoji": {
          if (text[i + 1] !== CODEPOINTS["("]) {
            throw new InputError("Custom emoji entities must contain a tg:emoji URL.");
          }
          i += 2;
          const url_ = [];
          const urlBeginPos = i;
          while (i < text.length && text[i] !== CODEPOINTS[")"]) {
            if (text[i] === CODEPOINTS["\\"] && text[i + 1] > 0 && text[i + 1] <= 126) {
              url_.push(text[i + 1]);
              i += 2;
              continue;
            }
            url_.push(text[i++]);
          }
          const url = Uint8Array.from(url_);
          if (text[i] !== CODEPOINTS[")"]) {
            throw new InputError(`Can't find the end of the custom emoji URL that starts at offset ${urlBeginPos}.`);
          }
          customEmojiId = getLinkCustomEmojiId(decodeText(url));
          break;
        }
        default:
          unreachable();
      }
      if (!skipEntity) {
        const entityOffset = nestedEntities.at(-1).entityOffset;
        const entityLength = utf16Offset - entityOffset;
        if (userId) {
          entities.push({ type: "textMention", offset: entityOffset, length: entityLength, userId });
        } else if (customEmojiId) {
          entities.push({ type: "customEmoji", offset: entityOffset, length: entityLength, customEmojiId });
        } else if (type === "textLink") {
          entities.push({ type, offset: entityOffset, length: entityLength, url: typeof argument === "string" ? argument : decodeText(argument) });
        } else if (type === "pre") {
          entities.push({ type, offset: entityOffset, length: entityLength, language: typeof argument === "string" ? argument : decodeText(argument) });
        } else if (type !== "customEmoji") {
          entities.push({ type, offset: entityOffset, length: entityLength });
        }
      }
      nestedEntities.pop();
    }
  }
  if (nestedEntities.length !== 0) {
    const last = nestedEntities[nestedEntities.length - 1];
    throw new InputError(
      `Can't find the end of the ${last.type} entity that starts at offset ${last.entityByteOffset}.`
    );
  }
  entities = sortMessageEntities(entities);
  return [decodeText(text.slice(0, resultSize)), entities];
}

// client/3_message_manager.ts
var FALLBACK_MIME_TYPE = "application/octet-stream";
var STICKER_MIME_TYPES = ["image/webp", "video/webm", "application/x-tgsticker"];
var messageManagerUpdates = [
  "updateNewMessage",
  "updateNewChannelMessage",
  "updateEditMessage",
  "updateNewScheduledMessage",
  "updateEditChannelMessage",
  "updateBotNewBusinessMessage",
  "updateBotEditBusinessMessage",
  "updateBotDeleteBusinessMessage",
  "updateDeleteMessages",
  "updateDeleteChannelMessages",
  "updateDeleteScheduledMessages",
  "updateTranscribedAudio"
];
var MessageManager = class _MessageManager {
  #c;
  #LresolveFileId;
  constructor(c) {
    this.#c = c;
    const L5 = getLogger("MessageManager").client(c.id);
    this.#LresolveFileId = L5.branch("resolveFileId");
  }
  async getMessages(chatId, messageIds) {
    checkArray(messageIds, checkMessageId);
    const peer = await this.#c.getInputPeer(chatId);
    let messages_ = new Array();
    const chatId_ = await this.#c.getInputPeerChatId(peer);
    let shouldFetch = false;
    for (const messageId of messageIds) {
      const message = await this.#c.messageStorage.getMessage(chatId_, messageId);
      if (message === null) {
        messages_ = [];
        shouldFetch = true;
        break;
      } else {
        messages_.push(message);
      }
    }
    if (shouldFetch) {
      if (canBeInputChannel(peer)) {
        messages_ = await this.#c.invoke({ _: "channels.getMessages", channel: toInputChannel(peer), id: messageIds.map((v) => ({ _: "inputMessageID", id: v })) }).then((v) => telegram_exports.as("messages.channelMessages", v).messages);
      } else {
        messages_ = await this.#c.invoke({
          _: "messages.getMessages",
          id: messageIds.map((v) => ({ _: "inputMessageID", id: v }))
        }).then((v) => telegram_exports.as("messages.messages", v).messages);
      }
    }
    const messages = new Array();
    for (const message_ of messages_) {
      if (telegram_exports.is("messageEmpty", message_)) {
        continue;
      }
      const message = await this.constructMessage(message_);
      if (message.chat.id === chatId_) {
        messages.push(message);
      }
    }
    return messages;
  }
  async getMessageWithReply(chatId, messageId) {
    const message = await this.getMessage(chatId, messageId);
    if (message !== null && message.replyToMessageId) {
      message.replyToMessage = await this.getMessage(chatId, message.replyToMessageId) ?? void 0;
    }
    return message;
  }
  async getMessage(chatId, messageId) {
    const messages = await this.getMessages(chatId, [messageId]);
    return messages[0] ?? null;
  }
  static parseText(text, entities, parseMode) {
    switch (parseMode) {
      case null:
        break;
      case "HTML": {
        const [newText, entitiesToPush] = parseHtml(text);
        text = newText;
        for (const entity of entitiesToPush) {
          entities.push(entity);
        }
        break;
      }
      case "Markdown": {
        const [newText, entitiesToPush] = parseMarkdown(text);
        text = newText;
        for (const entity of entitiesToPush) {
          entities.push(entity);
        }
        break;
      }
      default:
        unreachable();
    }
    text = text.trimEnd();
    for (const entity of entities) {
      while (text[entity.offset + (entity.length - 1)] === void 0) {
        --entity.length;
      }
    }
    if (!text.length) {
      throw new InputError("Text must not be empty.");
    }
    return [text, entities];
  }
  #checkParams(params) {
    if (params && "replyMarkup" in params && params.replyMarkup !== void 0) {
      this.#c.storage.assertBot("replyMarkup");
    }
    if (params && "businessConnectionId" in params && params.businessConnectionId !== void 0) {
      this.#c.storage.assertBot("businessConnectionId");
    }
    if (params && "sendAs" in params && params.sendAs !== void 0) {
      this.#c.storage.assertUser("sendAs");
    }
    if (params && "sendAt" in params && params.sendAt !== void 0) {
      this.#c.storage.assertUser("businessConsendAtnectionId");
    }
  }
  async parseText(text_, params) {
    const [text, entities_] = _MessageManager.parseText(text_, params?.entities ?? [], params?.parseMode ?? this.#c.parseMode);
    const entities = entities_?.length > 0 ? await Promise.all(entities_.map((v) => messageEntityToTlObject(v, this.#c.getPeer))) : void 0;
    return [text, entities];
  }
  async updatesToMessages(chatId, updates, businessConnectionId) {
    const messages = new Array();
    if (telegram_exports.is("updates", updates)) {
      for (const update of updates.updates) {
        if ("message" in update && telegram_exports.is("messageEmpty", update.message)) {
          continue;
        }
        if (telegram_exports.is("updateNewMessage", update) || telegram_exports.is("updateEditMessage", update) || telegram_exports.is("updateNewScheduledMessage", update)) {
          const message = await this.constructMessage(update.message);
          if (telegram_exports.is("updateNewScheduledMessage", update)) {
            message.scheduled = true;
          }
          messages.push(message);
        } else if (telegram_exports.is("updateNewChannelMessage", update) || telegram_exports.is("updateEditChannelMessage", update)) {
          messages.push(await this.constructMessage(update.message));
        } else if (telegram_exports.is("updateBotNewBusinessMessage", update)) {
          messages.push(await this.constructMessage(update.message, false, { connectionId: businessConnectionId ?? update.connection_id, replyToMessage: update.reply_to_message }));
        } else if (telegram_exports.is("updateBotEditBusinessMessage", update)) {
          messages.push(await this.constructMessage(update.message, false, { connectionId: businessConnectionId ?? update.connection_id, replyToMessage: update.reply_to_message }));
        }
      }
    } else if (telegram_exports.is("updateShortSentMessage", updates)) {
      const message = await this.getMessage(chatId, updates.id);
      if (message !== null) {
        messages.push(message);
      }
    }
    return messages;
  }
  async constructMessage(message_, r, business) {
    const mediaPoll = "media" in message_ && telegram_exports.is("messageMediaPoll", message_.media) ? message_.media : null;
    const pollId = mediaPoll?.poll.id;
    let poll = null;
    let pollResults = null;
    if (pollId) {
      [poll, pollResults] = await Promise.all([this.#c.messageStorage.getPoll(pollId), this.#c.messageStorage.getPollResults(pollId)]);
    }
    const message = await constructMessage(message_, this.#c.getPeer, this.getMessage.bind(this), this.#c.fileManager.getStickerSetName.bind(this.#c.fileManager), r, business, poll ?? void 0, pollResults ?? void 0);
    if (!poll && mediaPoll) {
      await this.#c.messageStorage.setPoll(mediaPoll.poll.id, mediaPoll.poll);
    }
    if (!pollResults && mediaPoll) {
      await this.#c.messageStorage.setPollResults(mediaPoll.poll.id, mediaPoll.results);
    }
    return message;
  }
  async forwardMessages(from, to, messageIds, params) {
    checkArray(messageIds, checkMessageId);
    const result = await this.#c.invoke({ _: "messages.forwardMessages", from_peer: await this.#c.getInputPeer(from), to_peer: await this.#c.getInputPeer(to), id: messageIds, random_id: messageIds.map(() => getRandomId()), silent: params?.disableNotification || void 0, top_msg_id: params?.messageThreadId, noforwards: params?.disableNotification || void 0, send_as: params?.sendAs ? await this.#c.getInputPeer(params.sendAs) : void 0, drop_author: params?.dropSenderName || void 0, drop_media_captions: params?.dropCaption || void 0 });
    return await this.updatesToMessages(to, result);
  }
  async getHistory(chatId, params) {
    this.#c.storage.assertUser("getHistory");
    const limit = getLimit(params?.limit);
    let offsetId = params?.offsetId ?? 0;
    if (offsetId < 0) {
      offsetId = 0;
    }
    let offsetDate = params?.offsetDate ?? 0;
    if (offsetDate < 0) {
      offsetDate = 0;
    }
    const peer = await this.#c.getInputPeer(chatId);
    const messages = new Array();
    if (messages.length > 0) {
      offsetId = messages[messages.length - 1].id;
    }
    const result = await this.#c.invoke({
      _: "messages.getHistory",
      peer,
      offset_id: offsetId,
      offset_date: offsetDate,
      add_offset: params?.addOffset ?? 0,
      limit,
      max_id: 0,
      min_id: 0,
      hash: 0n
    });
    if (!("messages" in result)) {
      unreachable();
    }
    for (const message_ of result.messages) {
      const message = await this.constructMessage(message_, false);
      messages.push(message);
    }
    return messages;
  }
  usernameResolver = async (v) => {
    const inputPeer = await this.#c.getInputPeer(v).then((v2) => telegram_exports.as("inputPeerUser", v2));
    return { ...inputPeer, _: "inputUser" };
  };
  async #constructReplyMarkup(params) {
    if (params?.replyMarkup) {
      this.#c.storage.assertBot("replyMarkup");
      return await replyMarkupToTlObject(params.replyMarkup, this.usernameResolver.bind(this));
    }
  }
  async #resolveSendAs(params) {
    const sendAs = params?.sendAs;
    if (sendAs !== void 0) {
      this.#c.storage.assertUser("sendAs");
      return sendAs ? await this.#c.getInputPeer(sendAs) : void 0;
    }
  }
  async sendMessage(chatId, text, params) {
    this.#checkParams(params);
    const [message, entities] = await this.parseText(text, params);
    const replyMarkup = await this.#constructReplyMarkup(params);
    const peer = await this.#c.getInputPeer(chatId);
    const randomId = getRandomId();
    const noWebpage = params?.linkPreview?.disable ? true : void 0;
    const invertMedia = params?.linkPreview?.isAboveText ? true : void 0;
    const silent = params?.disableNotification ? true : void 0;
    const noforwards = params?.protectContent ? true : void 0;
    const sendAs = await this.#resolveSendAs(params);
    const effect = params?.effectId ? BigInt(params.effectId) : void 0;
    const schedule_date = params?.sendAt;
    const allow_paid_floodskip = params?.paidBroadcast ? true : void 0;
    let result;
    if (!noWebpage && params?.linkPreview?.url) {
      result = await this.#c.invoke({
        _: "messages.sendMedia",
        peer,
        random_id: randomId,
        media: {
          _: "inputMediaWebPage",
          url: params.linkPreview.url,
          force_large_media: params.linkPreview.mediaSize === "large" ? true : void 0,
          force_small_media: params.linkPreview.mediaSize === "small" ? true : void 0,
          optional: message.length ? void 0 : true
        },
        message,
        invert_media: invertMedia,
        silent,
        noforwards,
        reply_to: await this.#constructReplyTo(params),
        send_as: sendAs,
        entities,
        reply_markup: replyMarkup,
        effect,
        schedule_date,
        allow_paid_floodskip
      }, { businessConnectionId: params?.businessConnectionId });
    } else {
      result = await this.#c.invoke(
        {
          _: "messages.sendMessage",
          peer,
          random_id: randomId,
          message,
          no_webpage: noWebpage,
          invert_media: invertMedia,
          silent,
          noforwards,
          reply_to: await this.#constructReplyTo(params),
          send_as: sendAs,
          entities,
          reply_markup: replyMarkup,
          effect,
          schedule_date,
          allow_paid_floodskip
        },
        { businessConnectionId: params?.businessConnectionId }
      );
    }
    const message_ = (await this.updatesToMessages(chatId, result, params?.businessConnectionId))[0];
    return assertMessageType(message_, "text");
  }
  async #constructReplyTo(params) {
    const topMsgId = params?.messageThreadId;
    if (!params?.replyTo) {
      if (topMsgId) {
        return { _: "inputReplyToMessage", reply_to_msg_id: topMsgId };
      } else {
        return void 0;
      }
    }
    if ("messageId" in params.replyTo) {
      return { _: "inputReplyToMessage", reply_to_msg_id: params.replyTo.messageId, top_msg_id: topMsgId, quote_text: params.replyTo.quote?.text, quote_entities: await Promise.all(params.replyTo.quote?.entities.map((v) => messageEntityToTlObject(v, this.#c.getPeer)) ?? []), quote_offset: params.replyTo.quote?.offset };
    } else {
      return { _: "inputReplyToStory", peer: await this.#c.getInputPeer(params.replyTo.chatId), story_id: params.replyTo.storyId };
    }
  }
  async sendVenue(chatId, latitude, longitude, title, address, params) {
    this.#checkParams(params);
    const peer = await this.#c.getInputPeer(chatId);
    const randomId = getRandomId();
    const silent = params?.disableNotification ? true : void 0;
    const noforwards = params?.protectContent ? true : void 0;
    const sendAs = params?.sendAs ? await this.#c.getInputPeer(params.sendAs) : void 0;
    const replyMarkup = await this.#constructReplyMarkup(params);
    const result = await this.#c.invoke({
      _: "messages.sendMedia",
      peer,
      random_id: randomId,
      silent,
      noforwards,
      reply_to: await this.#constructReplyTo(params),
      send_as: sendAs,
      reply_markup: replyMarkup,
      media: {
        _: "inputMediaVenue",
        geo_point: {
          _: "inputGeoPoint",
          lat: latitude,
          long: longitude
        },
        title,
        address,
        venue_id: params?.foursquareId ?? "",
        venue_type: params?.foursquareType ?? "",
        provider: "foursquare"
      },
      message: "",
      effect: params?.effectId ? BigInt(params.effectId) : void 0,
      schedule_date: params?.sendAt,
      allow_paid_floodskip: params?.paidBroadcast ? true : void 0
    }, { businessConnectionId: params?.businessConnectionId });
    const message = (await this.updatesToMessages(chatId, result, params?.businessConnectionId))[0];
    return assertMessageType(message, "venue");
  }
  async sendContact(chatId, firstName, number, params) {
    this.#checkParams(params);
    const peer = await this.#c.getInputPeer(chatId);
    const randomId = getRandomId();
    const silent = params?.disableNotification ? true : void 0;
    const noforwards = params?.protectContent ? true : void 0;
    const sendAs = params?.sendAs ? await this.#c.getInputPeer(params.sendAs) : void 0;
    const replyMarkup = await this.#constructReplyMarkup(params);
    const result = await this.#c.invoke(
      {
        _: "messages.sendMedia",
        peer,
        random_id: randomId,
        silent,
        noforwards,
        reply_to: await this.#constructReplyTo(params),
        send_as: sendAs,
        reply_markup: replyMarkup,
        media: {
          _: "inputMediaContact",
          phone_number: number,
          first_name: firstName,
          last_name: params?.lastName ?? "",
          vcard: params?.vcard ?? ""
        },
        message: "",
        effect: params?.effectId ? BigInt(params.effectId) : void 0,
        schedule_date: params?.sendAt,
        allow_paid_floodskip: params?.paidBroadcast ? true : void 0
      },
      { businessConnectionId: params?.businessConnectionId }
    );
    const message = (await this.updatesToMessages(chatId, result, params?.businessConnectionId))[0];
    return assertMessageType(message, "contact");
  }
  async sendDice(chatId, params) {
    this.#checkParams(params);
    const peer = await this.#c.getInputPeer(chatId);
    const randomId = getRandomId();
    const silent = params?.disableNotification ? true : void 0;
    const noforwards = params?.protectContent ? true : void 0;
    const sendAs = params?.sendAs ? await this.#c.getInputPeer(params.sendAs) : void 0;
    const replyMarkup = await this.#constructReplyMarkup(params);
    const result = await this.#c.invoke({
      _: "messages.sendMedia",
      peer,
      random_id: randomId,
      silent,
      noforwards,
      reply_to: await this.#constructReplyTo(params),
      send_as: sendAs,
      reply_markup: replyMarkup,
      media: {
        _: "inputMediaDice",
        emoticon: params?.emoji ?? "\u{1F3B2}"
      },
      message: "",
      effect: params?.effectId ? BigInt(params.effectId) : void 0,
      schedule_date: params?.sendAt,
      allow_paid_floodskip: params?.paidBroadcast ? true : void 0
    }, { businessConnectionId: params?.businessConnectionId });
    const message = (await this.updatesToMessages(chatId, result, params?.businessConnectionId))[0];
    return assertMessageType(message, "dice");
  }
  async sendLocation(chatId, latitude, longitude, params) {
    this.#checkParams(params);
    const peer = await this.#c.getInputPeer(chatId);
    const randomId = getRandomId();
    const silent = params?.disableNotification ? true : void 0;
    const noforwards = params?.protectContent ? true : void 0;
    const sendAs = params?.sendAs ? await this.#c.getInputPeer(params.sendAs) : void 0;
    const replyMarkup = await this.#constructReplyMarkup(params);
    const result = await this.#c.invoke(
      {
        _: "messages.sendMedia",
        peer,
        random_id: randomId,
        silent,
        noforwards,
        reply_to: await this.#constructReplyTo(params),
        send_as: sendAs,
        reply_markup: replyMarkup,
        media: params?.livePeriod !== void 0 ? {
          _: "inputMediaGeoLive",
          geo_point: {
            _: "inputGeoPoint",
            lat: latitude,
            long: longitude,
            accuracy_radius: params?.horizontalAccuracy
          },
          heading: params?.heading,
          period: params.livePeriod,
          proximity_notification_radius: params?.proximityAlertRadius
        } : {
          _: "inputMediaGeoPoint",
          geo_point: {
            _: "inputGeoPoint",
            lat: latitude,
            long: longitude,
            accuracy_radius: params?.horizontalAccuracy
          }
        },
        message: "",
        effect: params?.effectId ? BigInt(params.effectId) : void 0,
        schedule_date: params?.sendAt,
        allow_paid_floodskip: params?.paidBroadcast ? true : void 0
      },
      { businessConnectionId: params?.businessConnectionId }
    );
    const message = (await this.updatesToMessages(chatId, result, params?.businessConnectionId))[0];
    return assertMessageType(message, "location");
  }
  async sendVideoNote(chatId, audio, params) {
    this.#checkParams(params);
    const message = await this.#sendDocumentInner(chatId, audio, params, FileType.VideoNote, [
      { _: "documentAttributeVideo", round_message: true, w: params?.length ?? 0, h: params?.length ?? 0, duration: params?.duration ?? 0 }
    ], false);
    return assertMessageType(message, "videoNote");
  }
  async sendAudio(chatId, audio, params) {
    this.#checkParams(params);
    const message = await this.#sendDocumentInner(chatId, audio, params, FileType.Audio, [
      { _: "documentAttributeAudio", duration: params?.duration ?? 0, performer: params?.performer, title: params?.title }
    ]);
    return assertMessageType(message, "audio");
  }
  async sendVoice(chatId, voice, params) {
    this.#checkParams(params);
    const message = await this.#sendDocumentInner(chatId, voice, params, FileType.VoiceNote, [
      { _: "documentAttributeAudio", voice: true, duration: params?.duration ?? 0 }
    ]);
    return assertMessageType(message, "voice");
  }
  async sendAnimation(chatId, animation, params) {
    this.#checkParams(params);
    const message = await this.#sendDocumentInner(chatId, animation, params, FileType.Animation, [
      { _: "documentAttributeAnimated" },
      { _: "documentAttributeVideo", supports_streaming: true, w: params?.width ?? 0, h: params?.height ?? 0, duration: params?.duration ?? 0 }
    ]);
    return assertMessageType(message, "animation");
  }
  async sendVideo(chatId, video, params) {
    this.#checkParams(params);
    const message = await this.#sendDocumentInner(chatId, video, params, FileType.Video, [
      { _: "documentAttributeVideo", supports_streaming: params?.supportsStreaming ? true : void 0, w: params?.width ?? 0, h: params?.height ?? 0, duration: params?.duration ?? 0 }
    ]);
    return assertMessageType(message, "video");
  }
  async #sendDocumentInner(chatId, document, params, fileType, otherAttribs, urlSupported = true, expectedMimeTypes) {
    let media = null;
    const spoiler = params?.hasSpoiler ? true : void 0;
    const ttl_seconds = params && "selfDestruct" in params && typeof params.selfDestruct !== void 0 ? selfDestructOptionToInt(params.selfDestruct) : void 0;
    if (typeof document === "string") {
      const fileId = this.resolveFileId(document, fileType);
      if (fileId !== null) {
        media = { _: "inputMediaDocument", id: { ...fileId, _: "inputDocument" }, spoiler, query: otherAttribs.find((v) => telegram_exports.is("documentAttributeSticker", v))?.alt || void 0, ttl_seconds };
      }
    }
    if (media === null) {
      if (typeof document === "string" && isHttpUrl(document)) {
        if (!urlSupported) {
          throw new InputError("URL not supported.");
        }
        media = { _: "inputMediaDocumentExternal", url: document, spoiler, ttl_seconds };
      } else {
        let mimeType;
        const file = await this.#c.fileManager.upload(document, params, (name) => {
          mimeType = params?.mimeType ?? contentType(name.split(".").slice(-1)[0]) ?? FALLBACK_MIME_TYPE;
          if (expectedMimeTypes && !expectedMimeTypes.includes(mimeType)) {
            unreachable();
          }
          if (name.endsWith(".tgs") && fileType === FileType.Document) {
            name += "-";
          }
          return name;
        });
        if (telegram_exports.is("inputFileStoryDocument", file)) {
          unreachable();
        }
        let thumb = void 0;
        if (params?.thumbnail) {
          thumb = await this.#c.fileManager.upload(params.thumbnail, { chunkSize: params?.chunkSize, signal: params?.signal });
        }
        media = { _: "inputMediaUploadedDocument", file, thumb, spoiler, attributes: [{ _: "documentAttributeFilename", file_name: file.name }, ...otherAttribs], mime_type: mimeType, force_file: fileType === FileType.Document ? true : void 0, ttl_seconds };
      }
    }
    const message = await this.#sendMedia(chatId, media, params);
    return message;
  }
  async sendDocument(chatId, document, params) {
    this.#checkParams(params);
    const message = await this.#sendDocumentInner(chatId, document, params, FileType.Document, []);
    return assertMessageType(message, "document");
  }
  async sendSticker(chatId, sticker, params) {
    this.#checkParams(params);
    const message = await this.#sendDocumentInner(chatId, sticker, params, FileType.Sticker, [{ _: "documentAttributeSticker", alt: params?.emoji || "", stickerset: { _: "inputStickerSetEmpty" } }], void 0, STICKER_MIME_TYPES);
    return assertMessageType(message, "sticker");
  }
  async sendPhoto(chatId, photo, params) {
    this.#checkParams(params);
    let media = null;
    const spoiler = params?.hasSpoiler ? true : void 0;
    const ttl_seconds = params && "selfDestruct" in params && params.selfDestruct !== void 0 ? selfDestructOptionToInt(params.selfDestruct) : void 0;
    if (typeof photo === "string") {
      const fileId = this.resolveFileId(photo, [FileType.Photo, FileType.ProfilePhoto]);
      if (fileId !== null) {
        media = { _: "inputMediaPhoto", id: { ...fileId, _: "inputPhoto" }, spoiler, ttl_seconds };
      }
    }
    if (media === null) {
      if (typeof photo === "string" && isHttpUrl(photo)) {
        media = { _: "inputMediaPhotoExternal", url: photo, spoiler, ttl_seconds: params && "selfDestruct" in params && params.selfDestruct !== void 0 ? selfDestructOptionToInt(params.selfDestruct) : void 0 };
      } else {
        const file = await this.#c.fileManager.upload(photo, params, null, false);
        media = { _: "inputMediaUploadedPhoto", file, spoiler, ttl_seconds: params && "selfDestruct" in params && params.selfDestruct !== void 0 ? selfDestructOptionToInt(params.selfDestruct) : void 0 };
      }
    }
    const message = await this.#sendMedia(chatId, media, params);
    return assertMessageType(message, "photo");
  }
  async #sendMedia(chatId, media, params) {
    if (params?.starCount !== void 0) {
      if (params.starCount <= 0) {
        throw new InputError("starCount cannot be zero or negative");
      }
      media = { _: "inputMediaPaidMedia", stars_amount: BigInt(params.starCount), extended_media: [media] };
    }
    const peer = await this.#c.getInputPeer(chatId);
    const randomId = getRandomId();
    const silent = params?.disableNotification ? true : void 0;
    const noforwards = params?.protectContent ? true : void 0;
    const sendAs = params?.sendAs ? await this.#c.getInputPeer(params.sendAs) : void 0;
    const replyMarkup = await this.#constructReplyMarkup(params);
    const caption_ = params?.caption;
    const parseResult = caption_ !== void 0 ? await this.parseText(caption_, { parseMode: params?.parseMode, entities: params?.captionEntities }) : void 0;
    const caption = parseResult === void 0 ? void 0 : parseResult[0];
    const captionEntities = parseResult === void 0 ? void 0 : parseResult[1];
    const result = await this.#c.invoke(
      {
        _: "messages.sendMedia",
        peer,
        random_id: randomId,
        silent,
        noforwards,
        reply_markup: replyMarkup,
        reply_to: await this.#constructReplyTo(params),
        send_as: sendAs,
        media,
        message: caption ?? "",
        entities: captionEntities,
        effect: params?.effectId ? BigInt(params.effectId) : void 0,
        schedule_date: params?.sendAt,
        allow_paid_floodskip: params?.paidBroadcast ? true : void 0
      },
      { businessConnectionId: params?.businessConnectionId }
    );
    return (await this.updatesToMessages(chatId, result, params?.businessConnectionId))[0];
  }
  resolveFileId(maybeFileId, expectedFileType) {
    expectedFileType = Array.isArray(expectedFileType) ? expectedFileType : [expectedFileType];
    let fileId = null;
    try {
      fileId = deserializeFileId(maybeFileId);
    } catch (err) {
      this.#LresolveFileId.warning(err);
    }
    if (fileId !== null) {
      if (!expectedFileType.includes(fileId.type)) {
        unreachable();
      }
      return {
        id: "id" in fileId.location ? fileId.location.id : unreachable(),
        access_hash: fileId.location.accessHash,
        file_reference: fileId.fileReference ?? new Uint8Array()
      };
    }
    return null;
  }
  async sendPoll(chatId, question, options, params) {
    this.#checkParams(params);
    question = question?.trim();
    if (!question) {
      throw new Error("Question must not be empty.");
    }
    if (!Array.isArray(options) || options.length < 2) {
      throw new Error("There must be at least two options.");
    }
    const peer = await this.#c.getInputPeer(chatId);
    const randomId = getRandomId();
    const silent = params?.disableNotification ? true : void 0;
    const noforwards = params?.protectContent ? true : void 0;
    const sendAs = params?.sendAs ? await this.#c.getInputPeer(params.sendAs) : void 0;
    const replyMarkup = await this.#constructReplyMarkup(params);
    const explanation = params?.explanation;
    const parseResult = explanation !== void 0 ? await this.parseText(explanation, { parseMode: params?.explanationParseMode, entities: params?.explanationEntities }) : void 0;
    const solution = parseResult === void 0 ? void 0 : parseResult[0];
    const solutionEntities = parseResult === void 0 ? void 0 : parseResult[1];
    const answers = await Promise.all(options.map(async (v, i) => {
      const text = typeof v === "string" ? v : v.text;
      const entities = typeof v === "string" ? [] : v.entities;
      const parseResult2 = await this.parseText(text, { parseMode: params?.optionParseMode, entities });
      return { _: "pollAnswer", option: encodeText(String(i)), text: { _: "textWithEntities", text: parseResult2[0], entities: parseResult2[1] ?? [] } };
    }));
    const questionParseResult = await this.parseText(question, { parseMode: params?.questionParseMode, entities: params?.questionEntities });
    const poll = { _: "poll", id: getRandomId(), answers, question: { _: "textWithEntities", text: questionParseResult[0], entities: questionParseResult[1] ?? [] }, closed: params?.isClosed ? true : void 0, close_date: params?.closeDate, close_period: params?.openPeriod ? params.openPeriod : void 0, multiple_choice: params?.allowMultipleAnswers ? true : void 0, public_voters: params?.isAnonymous === false ? true : void 0, quiz: params?.type === "quiz" ? true : void 0 };
    const media = { _: "inputMediaPoll", poll, correct_answers: params?.correctOptionIndex !== void 0 ? [encodeText(String(params.correctOptionIndex))] : void 0, solution, solution_entities: solutionEntities };
    const result = await this.#c.invoke(
      {
        _: "messages.sendMedia",
        peer,
        random_id: randomId,
        silent,
        noforwards,
        reply_markup: replyMarkup,
        reply_to: await this.#constructReplyTo(params),
        send_as: sendAs,
        media,
        message: "",
        effect: params?.effectId ? BigInt(params.effectId) : void 0,
        schedule_date: params?.sendAt,
        allow_paid_floodskip: params?.paidBroadcast ? true : void 0
      },
      { businessConnectionId: params?.businessConnectionId }
    );
    const message = (await this.updatesToMessages(chatId, result, params?.businessConnectionId))[0];
    return assertMessageType(message, "poll");
  }
  async editMessageReplyMarkup(chatId, messageId, params) {
    this.#checkParams(params);
    const result = await this.#c.invoke({
      _: "messages.editMessage",
      id: checkMessageId(messageId),
      peer: await this.#c.getInputPeer(chatId),
      reply_markup: await this.#constructReplyMarkup(params)
    }, { businessConnectionId: params?.businessConnectionId });
    const message_ = (await this.updatesToMessages(chatId, result))[0];
    return message_;
  }
  async editInlineMessageReplyMarkup(inlineMessageId, params) {
    const id5 = await deserializeInlineMessageId(inlineMessageId);
    await this.#c.invoke({
      _: "messages.editInlineBotMessage",
      id: id5,
      reply_markup: await this.#constructReplyMarkup(params)
    }, { dc: getDc(id5.dc_id) });
  }
  async editMessageText(chatId, messageId, text, params) {
    this.#checkParams(params);
    {
      const message2 = await this.getMessage(chatId, messageId);
      if (!message2) {
        throw new InputError("Message not found.");
      }
      if (!isMessageType(message2, "link") && !isMessageType(message2, "text")) {
        throw new InputError("The referenced message is not a text message.");
      }
    }
    const [message, entities] = await this.parseText(text, params);
    if (!message) {
      throw new InputError("Message text cannot be empty.");
    }
    if (params?.linkPreview && params.linkPreview.type !== "input") {
      throw new InputError("Expected link preview of type input.");
    }
    const noWebpage = params?.linkPreview && params.linkPreview.type === "input" && params.linkPreview.disable ? true : void 0;
    const invertMedia = params?.linkPreview?.isAboveText ? true : void 0;
    let media = void 0;
    if (!noWebpage && params?.linkPreview?.url) {
      media = { _: "inputMediaWebPage", url: params.linkPreview.url, force_large_media: params.linkPreview.mediaSize === "large" ? true : void 0, force_small_media: params.linkPreview.mediaSize === "small" ? true : void 0, optional: message.length ? void 0 : true };
    }
    const result = await this.#c.invoke({
      _: "messages.editMessage",
      id: checkMessageId(messageId),
      peer: await this.#c.getInputPeer(chatId),
      entities,
      message,
      media,
      no_webpage: noWebpage,
      invert_media: invertMedia,
      reply_markup: await this.#constructReplyMarkup(params)
    }, { businessConnectionId: params?.businessConnectionId });
    const message_ = (await this.updatesToMessages(chatId, result))[0];
    return assertMessageType(message_, "text");
  }
  static #CAPTIONABLE_MESSAGE_TYPES = ["photo", "document", "video", "animation", "voice", "audio", "video"];
  async editMessageCaption(chatId, messageId, params) {
    let canHaveCaption = false;
    const message_ = await this.getMessage(chatId, messageId);
    if (!message_) {
      throw new InputError("Message not found.");
    }
    for (const type of _MessageManager.#CAPTIONABLE_MESSAGE_TYPES) {
      if (isMessageType(message_, type)) {
        canHaveCaption = true;
      }
    }
    if (!canHaveCaption) {
      throw new InputError("The referenced message cannot have a caption.");
    }
    const [message, entities] = await this.parseText(params?.caption ?? "", params);
    const result = await this.#c.invoke({
      _: "messages.editMessage",
      id: checkMessageId(messageId),
      peer: await this.#c.getInputPeer(chatId),
      entities: message ? entities : [],
      message,
      reply_markup: await this.#constructReplyMarkup(params)
    }, { businessConnectionId: params?.businessConnectionId });
    return (await this.updatesToMessages(chatId, result))[0];
  }
  async #editInlineMessageTextInner(inlineMessageId, text, params, allowEmpty = true) {
    this.#checkParams(params);
    const [message, entities] = await this.parseText(text, params);
    if (!allowEmpty && !message) {
      throw new InputError("Message text cannot be empty.");
    }
    const id5 = await deserializeInlineMessageId(inlineMessageId);
    if (params?.linkPreview && params.linkPreview.type !== "input") {
      throw new InputError("Expected link preview of type input.");
    }
    const noWebpage = params?.linkPreview && params.linkPreview.type === "input" && params.linkPreview.disable ? true : void 0;
    const invertMedia = params?.linkPreview?.isAboveText ? true : void 0;
    let media = void 0;
    if (!noWebpage && params?.linkPreview?.url) {
      media = { _: "inputMediaWebPage", url: params.linkPreview.url, force_large_media: params.linkPreview.mediaSize === "large" ? true : void 0, force_small_media: params.linkPreview.mediaSize === "small" ? true : void 0, optional: message.length ? void 0 : true };
    }
    await this.#c.invoke({
      _: "messages.editInlineBotMessage",
      id: id5,
      entities,
      message,
      media,
      no_webpage: noWebpage,
      invert_media: invertMedia,
      reply_markup: await this.#constructReplyMarkup(params)
    }, { dc: getDc(id5.dc_id) });
  }
  async editInlineMessageText(inlineMessageId, text, params) {
    await this.#editInlineMessageTextInner(inlineMessageId, text, params, false);
  }
  async editInlineMessageCaption(inlineMessageId, params) {
    await this.#editInlineMessageTextInner(inlineMessageId, params?.caption ?? "", params);
  }
  async #resolveInputMediaInner(document, media, fileType, otherAttribs) {
    let media_ = null;
    const spoiler = "hasSpoiler" in media && media.hasSpoiler ? true : void 0;
    if (typeof document === "string") {
      const fileId = this.resolveFileId(document, fileType);
      if (fileId !== null) {
        media_ = { _: "inputMediaDocument", id: { ...fileId, _: "inputDocument" }, spoiler, query: otherAttribs.find((v) => telegram_exports.is("documentAttributeSticker", v))?.alt || void 0 };
      }
    }
    if (media_ === null) {
      if (typeof document === "string" && isHttpUrl(document)) {
        media_ = { _: "inputMediaDocumentExternal", url: document, spoiler };
      } else {
        let mimeType;
        const file = await this.#c.fileManager.upload(document, media, (name) => {
          mimeType = media?.mimeType ?? contentType(name.split(".").slice(-1)[0]) ?? FALLBACK_MIME_TYPE;
          if (name.endsWith(".tgs") && fileType === FileType.Document) {
            name += "-";
          }
          return name;
        });
        if (telegram_exports.is("inputFileStoryDocument", file)) {
          unreachable();
        }
        let thumb = void 0;
        if ("thumbnail" in media && media.thumbnail) {
          thumb = await this.#c.fileManager.upload(media.thumbnail, { chunkSize: media?.chunkSize, signal: media?.signal });
        }
        media_ = { _: "inputMediaUploadedDocument", file, thumb, spoiler, attributes: [{ _: "documentAttributeFilename", file_name: file.name }, ...otherAttribs], mime_type: mimeType, force_file: fileType === FileType.Document ? true : void 0 };
      }
    }
    return media_;
  }
  async #resolveInputMedia(media) {
    if ("animation" in media) {
      return await this.#resolveInputMediaInner(media.animation, media, FileType.Animation, [
        { _: "documentAttributeAnimated" },
        { _: "documentAttributeVideo", supports_streaming: true, w: media?.width ?? 0, h: media?.height ?? 0, duration: media?.duration ?? 0 }
      ]);
    } else if ("audio" in media) {
      return await this.#resolveInputMediaInner(media.audio, media, FileType.Audio, [
        { _: "documentAttributeAudio", duration: media?.duration ?? 0, performer: media?.performer, title: media?.title }
      ]);
    } else if ("document" in media) {
      return await this.#resolveInputMediaInner(media.document, media, FileType.Document, []);
    } else if ("photo" in media) {
      let media_ = null;
      const spoiler = media.hasSpoiler ? true : void 0;
      const ttl_seconds = "selfDestruct" in media && media.selfDestruct !== void 0 ? selfDestructOptionToInt(media.selfDestruct) : void 0;
      if (typeof media.photo === "string") {
        const fileId = this.resolveFileId(media.photo, [FileType.Photo, FileType.ProfilePhoto]);
        if (fileId !== null) {
          media_ = { _: "inputMediaPhoto", id: { ...fileId, _: "inputPhoto" }, spoiler, ttl_seconds };
        }
      }
      if (media_ === null) {
        if (typeof media.photo === "string" && isHttpUrl(media.photo)) {
          media_ = { _: "inputMediaPhotoExternal", url: media.photo, spoiler };
        } else {
          const file = await this.#c.fileManager.upload(media.photo, media, null, false);
          media_ = { _: "inputMediaUploadedPhoto", file, spoiler, ttl_seconds };
        }
      }
      return media_;
    } else if ("video" in media) {
      const ttl_seconds = "selfDestruct" in media && media.selfDestruct !== void 0 ? selfDestructOptionToInt(media.selfDestruct) : void 0;
      const media_ = await this.#resolveInputMediaInner(media.video, media, FileType.Video, [
        { _: "documentAttributeVideo", supports_streaming: media?.supportsStreaming ? true : void 0, w: media?.width ?? 0, h: media?.height ?? 0, duration: media?.duration ?? 0 }
      ]);
      media_.ttl_seconds = ttl_seconds;
      return media_;
    } else {
      unreachable();
    }
  }
  async #resolveInputMediaUpload(media, businessConnectionId) {
    const inputMedia = await this.#resolveInputMedia(media);
    if (telegram_exports.is("inputMediaUploadedPhoto", inputMedia) || telegram_exports.is("inputMediaUploadedDocument", inputMedia)) {
      const messageMedia = await this.#c.invoke({
        _: "messages.uploadMedia",
        peer: { _: "inputPeerSelf" },
        media: inputMedia,
        business_connection_id: businessConnectionId
      });
      if ("photo" in messageMedia && telegram_exports.is("photo", messageMedia.photo)) {
        return {
          _: "inputMediaPhoto",
          id: {
            _: "inputPhoto",
            id: messageMedia.photo.id,
            access_hash: messageMedia.photo.access_hash,
            file_reference: messageMedia.photo.file_reference
          },
          spoiler: "hasSpoiler" in media && media.hasSpoiler ? true : void 0
        };
      } else if ("document" in messageMedia && telegram_exports.is("document", messageMedia.document)) {
        return {
          _: "inputMediaDocument",
          id: { _: "inputDocument", id: messageMedia.document.id, access_hash: messageMedia.document.access_hash, file_reference: messageMedia.document.file_reference },
          spoiler: "hasSpoiler" in media && media.hasSpoiler ? true : void 0
        };
      } else {
        unreachable();
      }
    }
    return inputMedia;
  }
  async editMessageMedia(chatId, messageId, media, params) {
    this.#checkParams(params);
    const message = await this.getMessage(chatId, messageId);
    if (!message) {
      throw new InputError("Message not found.");
    }
    if (!("animation" in message) && !("audio" in message) && !("document" in message) && !("photo" in message) && !("video" in message)) {
      throw new InputError("Unexpected message type.");
    }
    const [text, entities] = media.caption !== void 0 ? await this.parseText(media.caption, { entities: media.captionEntities, parseMode: media.parseMode }) : ["", []];
    const result = await this.#c.invoke({
      _: "messages.editMessage",
      peer: await this.#c.getInputPeer(chatId),
      id: messageId,
      media: await this.#resolveInputMedia(media),
      reply_markup: await this.#constructReplyMarkup(params),
      message: text,
      entities
    }, { businessConnectionId: params?.businessConnectionId });
    const message_ = (await this.updatesToMessages(chatId, result))[0];
    return message_;
  }
  async editInlineMessageMedia(inlineMessageId, media, params) {
    this.#checkParams(params);
    this.#c.storage.assertBot("editInlineMessageMedia");
    const id5 = await deserializeInlineMessageId(inlineMessageId);
    await this.#c.invoke({
      _: "messages.editInlineBotMessage",
      id: id5,
      media: await this.#resolveInputMediaUpload(media),
      reply_markup: await this.#constructReplyMarkup(params)
    }, { dc: getDc(id5.dc_id) });
  }
  async deleteMessages(chatId, messageIds, params) {
    checkArray(messageIds, checkMessageId);
    const peer = await this.#c.getInputPeer(chatId);
    if (canBeInputChannel(peer)) {
      await this.#c.invoke({ _: "channels.deleteMessages", channel: toInputChannel(peer), id: messageIds });
    } else {
      await this.#c.invoke({ _: "messages.deleteMessages", id: messageIds, revoke: params?.onlyForMe ? void 0 : true });
    }
  }
  async deleteScheduledMessages(chatId, messageIds) {
    this.#c.storage.assertUser("sendScheduledMessage");
    checkArray(messageIds, checkMessageId);
    const peer = await this.#c.getInputPeer(chatId);
    await this.#c.invoke({ _: "messages.deleteScheduledMessages", peer, id: messageIds });
  }
  async deleteScheduledMessage(chatId, messageId) {
    this.#c.storage.assertUser("deleteScheduledMessage");
    return await this.deleteScheduledMessages(chatId, [messageId]);
  }
  async sendScheduledMessages(chatId, messageIds) {
    this.#c.storage.assertUser("sendScheduledMessages");
    checkArray(messageIds, checkMessageId);
    const peer = await this.#c.getInputPeer(chatId);
    const result = await this.#c.invoke({ _: "messages.sendScheduledMessages", peer, id: messageIds });
    return await this.updatesToMessages(chatId, result);
  }
  async sendScheduledMessage(chatId, messageId) {
    this.#c.storage.assertUser("sendScheduledMessage");
    return (await this.sendScheduledMessages(chatId, [messageId]))[0];
  }
  async deleteChatMemberMessages(chatId, memberId) {
    this.#c.storage.assertUser("deleteChatMemberMessages");
    const channel = await this.#c.getInputChannel(chatId);
    const participant = await this.#c.getInputPeer(memberId);
    await this.#c.invoke({ _: "channels.deleteParticipantHistory", channel, participant });
  }
  async pinMessage(chatId, messageId, params) {
    this.#checkParams(params);
    await this.#c.invoke({ _: "messages.updatePinnedMessage", peer: await this.#c.getInputPeer(chatId), id: checkMessageId(messageId), silent: params?.disableNotification ? true : void 0, pm_oneside: params?.bothSides ? void 0 : true });
  }
  async unpinMessage(chatId, messageId, params) {
    this.#checkParams(params);
    await this.#c.invoke({ _: "messages.updatePinnedMessage", peer: await this.#c.getInputPeer(chatId), id: checkMessageId(messageId), unpin: true }, { businessConnectionId: params?.businessConnectionId });
  }
  async unpinMessages(chatId) {
    await this.#c.invoke({ _: "messages.unpinAllMessages", peer: await this.#c.getInputPeer(chatId) });
  }
  async #sendReaction(chatId, messageId, reactions, params) {
    await this.#c.invoke({ _: "messages.sendReaction", peer: await this.#c.getInputPeer(chatId), msg_id: checkMessageId(messageId), reaction: reactions.map((v) => reactionToTlObject(v)), big: params?.big ? true : void 0, add_to_recent: params?.addToRecents ? true : void 0 });
  }
  async setReactions(chatId, messageId, reactions, params) {
    await this.#sendReaction(chatId, messageId, reactions, params);
  }
  async addReaction(chatId, messageId, reaction, params) {
    const message = await this.getMessage(chatId, messageId);
    if (!message) {
      throw new InputError("Message not found.");
    }
    const chosenReactions = (message.reactions ?? []).filter((v) => v.chosen);
    for (const r of chosenReactions) {
      if (reactionEqual(r.reaction, reaction)) {
        return;
      }
    }
    const reactions = [reaction, ...chosenReactions.map((v) => v.reaction)];
    await this.setReactions(chatId, messageId, reactions, params);
  }
  async removeReaction(chatId, messageId, reaction) {
    const message = await this.getMessage(chatId, messageId);
    if (!message) {
      throw new InputError("Message not found.");
    }
    const chosenReactions = (message.reactions ?? []).filter((v) => v.chosen);
    for (const r of chosenReactions) {
      if (reactionEqual(r.reaction, reaction)) {
        const reactions = chosenReactions.filter((v) => v !== r).map((v) => v.reaction);
        await this.setReactions(chatId, messageId, reactions);
        break;
      }
    }
  }
  canHandleUpdate(update) {
    return telegram_exports.isOneOf(messageManagerUpdates, update);
  }
  async handleUpdate(update) {
    if (telegram_exports.is("updateNewMessage", update) || telegram_exports.is("updateNewChannelMessage", update) || telegram_exports.is("updateEditMessage", update) || telegram_exports.is("updateEditChannelMessage", update)) {
      if (telegram_exports.is("message", update.message) || telegram_exports.is("messageService", update.message)) {
        const chatId = telegram_exports.peerToChatId(update.message.peer_id);
        await this.#c.messageStorage.setMessage(chatId, update.message.id, update.message);
      }
    }
    if (telegram_exports.isOneOf([
      "updateNewMessage",
      "updateNewChannelMessage",
      "updateEditMessage",
      "updateEditChannelMessage",
      "updateBotNewBusinessMessage",
      "updateBotEditBusinessMessage",
      "updateNewScheduledMessage"
    ], update)) {
      if (!telegram_exports.is("messageEmpty", update.message)) {
        const isOutgoing = update.message.out;
        let shouldIgnore = false;
        if (isOutgoing) {
          if ("connection_id" in update && update.connection_id === "") {
            shouldIgnore = true;
          } else {
            shouldIgnore = !this.#c.outgoingMessages;
          }
        }
        if (!shouldIgnore) {
          const business = "connection_id" in update ? { connectionId: update.connection_id, replyToMessage: update.reply_to_message } : void 0;
          const message = await this.constructMessage(update.message, void 0, business);
          if (telegram_exports.is("updateNewMessage", update) || telegram_exports.is("updateNewChannelMessage", update) || telegram_exports.is("updateBotNewBusinessMessage", update)) {
            return { message };
          } else if (telegram_exports.is("updateNewScheduledMessage", update)) {
            message.scheduled = true;
            return { scheduledMessage: message };
          } else {
            return { editedMessage: message };
          }
        }
      }
    }
    if (telegram_exports.is("updateDeleteMessages", update)) {
      const deletedMessages = new Array();
      for (const messageId of update.messages) {
        const chatId = await this.#c.messageStorage.getMessageChat(messageId);
        if (chatId) {
          deletedMessages.push({ chatId, messageId });
        }
      }
      if (deletedMessages.length > 0) {
        return { deletedMessages };
      }
    } else if (telegram_exports.is("updateDeleteChannelMessages", update)) {
      const chatId = telegram_exports.getChannelChatId(update.channel_id);
      const deletedMessages = new Array();
      for (const messageId of update.messages) {
        const message = await this.#c.messageStorage.getMessage(chatId, messageId);
        if (message !== null) {
          deletedMessages.push({ chatId, messageId });
        }
      }
      return { deletedMessages };
    } else if (telegram_exports.is("updateDeleteScheduledMessages", update)) {
      const chatId = telegram_exports.peerToChatId(update.peer);
      const deletedMessages = update.messages.map((v) => ({ chatId, messageId: v }));
      return { deletedMessages, isScheduled: true };
    } else if (telegram_exports.is("updateBotDeleteBusinessMessage", update)) {
      const chatId = telegram_exports.peerToChatId(update.peer);
      const deletedMessages = update.messages.map((v) => ({ chatId, messageId: v }));
      return { deletedMessages, businessConnectionId: update.connection_id };
    }
    if (telegram_exports.is("updateTranscribedAudio", update)) {
      const voiceTranscription = constructVoiceTranscription(update);
      await this.#c.messageStorage.setVoiceTranscription(voiceTranscription);
      return { voiceTranscription };
    }
    return null;
  }
  async sendChatAction(chatId, action, params) {
    this.#checkParams(params);
    let action_;
    switch (action) {
      case "type":
        action_ = { _: "sendMessageTypingAction" };
        break;
      case "uploadPhoto":
        action_ = { _: "sendMessageUploadPhotoAction", progress: 0 };
        break;
      case "recordVideo":
        action_ = { _: "sendMessageRecordVideoAction" };
        break;
      case "uploadVideo":
        action_ = { _: "sendMessageRecordVideoAction" };
        break;
      case "recordVoice":
        action_ = { _: "sendMessageRecordAudioAction" };
        break;
      case "uploadAudio":
        action_ = { _: "sendMessageUploadAudioAction", progress: 0 };
        break;
      case "uploadDocument":
        action_ = { _: "sendMessageUploadDocumentAction", progress: 0 };
        break;
      case "chooseSticker":
        action_ = { _: "sendMessageChooseStickerAction" };
        break;
      case "findLocation":
        action_ = { _: "sendMessageGeoLocationAction" };
        break;
      case "recordVideoNote":
        action_ = { _: "sendMessageRecordRoundAction" };
        break;
      case "uploadVideoNote":
        action_ = { _: "sendMessageUploadRoundAction", progress: 0 };
        break;
      default:
        throw new InputError(`Invalid chat action: ${action}`);
    }
    await this.#c.invoke({ _: "messages.setTyping", peer: await this.#c.getInputPeer(chatId), action: action_, top_msg_id: params?.messageThreadId }, { businessConnectionId: params?.businessConnectionId });
  }
  async searchMessages(params) {
    this.#c.storage.assertUser("searchMessages");
    const peer = params?.chatId === void 0 ? { _: "inputPeerEmpty" } : await this.#c.getInputPeer(params.chatId);
    const query = params?.query ?? "";
    const result = await this.#c.invoke({
      _: "messages.search",
      peer,
      q: query,
      add_offset: params?.addOffset ?? 0,
      filter: messageSearchFilterToTlObject(params?.filter ?? "empty"),
      hash: 0n,
      limit: getLimit(params?.limit),
      max_date: 0,
      max_id: 0,
      min_date: 0,
      min_id: 0,
      offset_id: params?.offset ? params.offset : 0,
      from_id: params?.from ? await this.#c.getInputPeer(params.from) : void 0
    });
    if (!("messages" in result)) {
      unreachable();
    }
    const messages = new Array();
    for (const message_ of result.messages) {
      const message = await this.constructMessage(message_, false);
      messages.push(message);
    }
    return messages;
  }
  async blockUser(userId) {
    this.#c.storage.assertUser("blockUser");
    const id5 = await this.#c.getInputPeer(userId);
    await this.#c.invoke({ _: "contacts.block", id: id5 });
  }
  async unblockUser(userId) {
    this.#c.storage.assertUser("unblockUser");
    const id5 = await this.#c.getInputPeer(userId);
    await this.#c.invoke({ _: "contacts.unblock", id: id5 });
  }
  async setChatStickerSet(chatId, setName) {
    const channel = await this.#c.getInputChannel(chatId);
    await this.#c.invoke({ _: "channels.setStickers", channel, stickerset: { _: "inputStickerSetShortName", short_name: setName } });
  }
  async deleteChatStickerSet(chatId) {
    const channel = await this.#c.getInputChannel(chatId);
    await this.#c.invoke({ _: "channels.setStickers", channel, stickerset: { _: "inputStickerSetEmpty" } });
  }
  async stopPoll(chatId, messageId, params) {
    this.#checkParams(params);
    const message = await this.getMessage(chatId, messageId);
    if (!message) {
      throw new InputError("Message not found.");
    }
    if (!("poll" in message)) {
      throw new InputError("Message is not a poll.");
    }
    if (message.poll.isClosed) {
      throw new InputError("Poll is already stopped.");
    }
    const result = await this.#c.invoke({
      _: "messages.editMessage",
      peer: await this.#c.getInputPeer(chatId),
      id: messageId,
      media: { _: "inputMediaPoll", poll: { _: "poll", id: BigInt(message.poll.id), closed: true, question: { _: "textWithEntities", text: "", entities: [] }, answers: [] } },
      reply_markup: await this.#constructReplyMarkup(params)
    }, { businessConnectionId: params?.businessConnectionId });
    const message_ = (await this.updatesToMessages(chatId, result))[0];
    return assertMessageType(message_, "poll").poll;
  }
  async editMessageLiveLocation(chatId, messageId, latitude, longitude, params) {
    this.#checkParams(params);
    const message = await this.getMessage(chatId, messageId);
    if (message && "location" in message && message.location.livePeriod) {
      const result = await this.#c.invoke({
        _: "messages.editMessage",
        peer: await this.#c.getInputPeer(chatId),
        id: messageId,
        media: { _: "inputMediaGeoLive", geo_point: { _: "inputGeoPoint", lat: latitude, long: longitude, accuracy_radius: params?.horizontalAccuracy }, heading: params?.heading, proximity_notification_radius: params?.proximityAlertRadius },
        reply_markup: await this.#constructReplyMarkup(params)
      }, { businessConnectionId: params?.businessConnectionId });
      const message2 = (await this.updatesToMessages(chatId, result))[0];
      return assertMessageType(message2, "location");
    }
    unreachable();
  }
  async editInlineMessageLiveLocation(inlineMessageId, latitude, longitude, params) {
    this.#checkParams(params);
    this.#c.storage.assertBot("editInlineMessageLiveLocation");
    const id5 = await deserializeInlineMessageId(inlineMessageId);
    await this.#c.invoke({
      _: "messages.editInlineBotMessage",
      id: id5,
      media: { _: "inputMediaGeoLive", geo_point: { _: "inputGeoPoint", lat: latitude, long: longitude, accuracy_radius: params?.horizontalAccuracy }, heading: params?.heading, proximity_notification_radius: params?.proximityAlertRadius },
      reply_markup: await this.#constructReplyMarkup(params)
    }, { dc: getDc(id5.dc_id) });
  }
  async sendInvoice(chatId, title, description, payload, currency, prices, params) {
    this.#c.storage.assertBot("sendInvoice");
    this.#checkParams(params);
    if (title.length < 1) {
      throw new InputError("Invoice title cannot be empty.");
    }
    if (description.length < 1) {
      throw new InputError("Invoice description cannot be empty.");
    }
    if (title.length > 32) {
      throw new InputError("Invoice title is too long.");
    }
    if (description.length > 255) {
      throw new InputError("Invoice description is too long.");
    }
    const invoice = {
      _: "invoice",
      currency,
      prices: prices.map((v) => ({ _: "labeledPrice", label: v.label, amount: BigInt(v.amount) })),
      max_tip_amount: params?.maxTipAmount ? BigInt(params.maxTipAmount) : void 0,
      suggested_tip_amounts: params?.suggestedTipAmounts?.map(BigInt),
      name_requested: params?.needName || void 0,
      phone_requested: params?.needPhoneNumber || void 0,
      email_requested: params?.needEmail || void 0,
      shipping_address_requested: params?.needShippingAddress || void 0,
      email_to_provider: params?.sendEmailToProvider || void 0,
      phone_to_provider: params?.sendPhoneNumberToProvider || void 0,
      flexible: params?.flexible || void 0
    };
    const message = await this.#sendMedia(
      chatId,
      {
        _: "inputMediaInvoice",
        title,
        description,
        invoice,
        start_param: params?.startParameter,
        payload: encodeText(payload),
        provider_data: { _: "dataJSON", data: params?.providerData ?? "null" },
        provider: params?.providerToken ?? "",
        photo: params?.photoUrl ? {
          _: "inputWebDocument",
          url: params.photoUrl,
          size: params.photoSize ?? 0,
          mime_type: "image/jpeg",
          attributes: [{
            _: "documentAttributeImageSize",
            w: params?.photoWidth ?? 0,
            h: params?.photoHeight ?? 0
          }]
        } : void 0
      },
      params
    );
    return assertMessageType(message, "invoice");
  }
  async sendMediaGroup(chatId, media, params) {
    this.#checkParams(params);
    {
      if (!Array.isArray(media) || !media.length) {
        throw new InputError("Media group must not be empty.");
      }
      const firstMedia = media?.[0];
      const firstMediaType = firstMedia?.animation !== void 0 ? "animation" : firstMedia?.audio !== void 0 ? "audio" : firstMedia?.photo !== void 0 ? "photo" : firstMedia?.video !== void 0 ? "video" : "document";
      for (const media_ of media) {
        const thisMediaType = media_?.animation !== void 0 ? "animation" : media_?.audio !== void 0 ? "audio" : media_?.photo !== void 0 ? "photo" : media_?.video !== void 0 ? "video" : "document";
        if (thisMediaType === "animation") {
          throw new InputError("Media groups cannot consist of animations.");
        }
        if ((firstMediaType === "video" || firstMediaType === "photo") && (thisMediaType !== "video" && thisMediaType !== "photo")) {
          throw new InputError(`Media of the type ${firstMediaType} cannot be mixed with those of the type ${thisMediaType}.`);
        }
        if (firstMediaType !== "video" && firstMediaType !== "photo" && firstMediaType !== thisMediaType) {
          throw new InputError(`Media of the type ${firstMediaType} cannot be mixed with other types.`);
        }
      }
    }
    const multiMedia = new Array();
    for (const v of media) {
      const randomId = getRandomId();
      const [message, entities] = v.caption !== void 0 ? await this.parseText(v.caption, { entities: v.captionEntities, parseMode: v.parseMode }) : ["", []];
      multiMedia.push({ _: "inputSingleMedia", message, entities, random_id: randomId, media: await this.#resolveInputMedia(v) });
    }
    const peer = await this.#c.getInputPeer(chatId);
    for (const [i, media_] of multiMedia.entries()) {
      if (telegram_exports.is("inputMediaUploadedPhoto", media_.media)) {
        const result2 = telegram_exports.as("messageMediaPhoto", await this.#c.invoke({ _: "messages.uploadMedia", media: media_.media, peer }));
        const photo = telegram_exports.as("photo", result2.photo);
        multiMedia[i] = { ...media_, media: { _: "inputMediaPhoto", id: { ...photo, _: "inputPhoto" } } };
      } else if (telegram_exports.is("inputMediaUploadedDocument", media_.media)) {
        const result2 = telegram_exports.as("messageMediaDocument", await this.#c.invoke({ _: "messages.uploadMedia", media: media_.media, peer }));
        const document = telegram_exports.as("document", result2.document);
        multiMedia[i] = { ...media_, media: { _: "inputMediaDocument", id: { ...document, _: "inputDocument" } } };
      }
    }
    const silent = params?.disableNotification ? true : void 0;
    const noforwards = params?.protectContent ? true : void 0;
    const sendAs = params?.sendAs ? await this.#c.getInputPeer(params.sendAs) : void 0;
    const result = await this.#c.invoke({
      _: "messages.sendMultiMedia",
      peer,
      multi_media: multiMedia,
      effect: params?.effectId ? BigInt(params.effectId) : void 0,
      noforwards,
      silent,
      send_as: sendAs,
      reply_to: await this.#constructReplyTo(params),
      allow_paid_floodskip: params?.paidBroadcast ? true : void 0
    });
    return await this.updatesToMessages(chatId, result);
  }
  async readMessages(chatId, untilMessageId) {
    this.#c.storage.assertUser("readMessages");
    const peer = await this.#c.getInputPeer(chatId);
    const max_id = untilMessageId;
    await this.#c.invoke({ _: "messages.readHistory", peer, max_id });
  }
  async startBot(botId, params) {
    this.#c.storage.assertUser("startBot");
    const start_param = params?.deeplink?.trim() || "";
    if (params?.chatId !== void 0 && !start_param) {
      throw new InputError("deeplink cannot be unspecified while chatId is specified.");
    }
    if (!params?.deeplink) {
      return await this.sendMessage(botId, "/start");
    }
    const bot = await this.#c.getInputUser(botId);
    const peer = await this.#c.getInputPeer(params?.chatId || botId);
    const result = await this.#c.invoke({ _: "messages.startBot", bot, peer, random_id: getRandomId(), start_param });
    return (await this.updatesToMessages(botId, result))[0];
  }
  async transcribeVoice(chatId, messageId) {
    this.#c.storage.assertUser("transcribeVoice");
    const message = await this.getMessage(chatId, messageId);
    if (message === null) {
      throw new InputError("Message not found.");
    }
    if (!isMessageType(message, "voice")) {
      throw new InputError("Message not voice.");
    }
    const cachedTranscription = await this.#getCachedVoiceTranscription(message);
    if (cachedTranscription) {
      return cachedTranscription;
    }
    const peer = await this.#c.getInputPeer(chatId);
    const result = await this.#c.invoke({ _: "messages.transcribeAudio", peer, msg_id: messageId });
    return await this.#cacheVoiceTranscription(message, constructVoiceTranscription(result));
  }
  async #getCachedVoiceTranscription(message) {
    const reference = await this.#c.messageStorage.getVoiceTranscriptionReference(message.chat.id, message.id, fromUnixTimestamp(message.editDate ?? message.date));
    if (!reference) {
      return null;
    }
    const voiceTranscription = await this.#c.messageStorage.getVoiceTranscription(reference);
    if (!voiceTranscription || !voiceTranscription.done) {
      return null;
    }
    return voiceTranscription;
  }
  async #cacheVoiceTranscription(message, voiceTranscription) {
    await this.#c.messageStorage.setVoiceTranscriptionReference(message.chat.id, message.id, fromUnixTimestamp(message.editDate ?? message.date), BigInt(voiceTranscription.id));
    await this.#c.messageStorage.setVoiceTranscription(voiceTranscription);
    return voiceTranscription;
  }
  async resolveMessageLink(link) {
    const parseResult = _MessageManager.parseMessageLink(link);
    if (parseResult === null) {
      throw new InputError("Invalid messsage link.");
    }
    const [chatId, messageId] = parseResult;
    return await this.getMessage(chatId, messageId);
  }
  static parseMessageLink(link) {
    let url;
    try {
      url = new URL(link);
    } catch (err) {
      if (err instanceof TypeError) {
        try {
          url = new URL("https://t.me/" + link);
        } catch (err2) {
          if (err2 instanceof TypeError) {
            return null;
          } else {
            throw err2;
          }
        }
      } else {
        throw err;
      }
    }
    if (url.protocol !== "http:" && url.protocol !== "https:") {
      return null;
    }
    if (url.host !== "t.me") {
      return null;
    }
    const parts = url.pathname.split("/").filter((v) => v);
    if (parts.length < 2) {
      return null;
    }
    if (!isNaN(Number(parts[0]))) {
      return null;
    }
    let peer, id5;
    if (parts[0] === "c") {
      if (parts.length < 3 || parts.length > 4) {
        return null;
      }
      [peer, id5] = [Number(parts[1]), Number(parts[parts.length - 1])];
      if (isNaN(peer)) {
        return null;
      }
      if (isNaN(Number(parts[2]))) {
        return null;
      }
      peer = telegram_exports.getChannelChatId(BigInt(peer));
    } else {
      if (parts.length > 3) {
        return null;
      }
      [peer, id5] = [parts[0], Number(parts[parts.length - 1])];
      if (isNaN(Number(parts[1]))) {
        return null;
      }
    }
    if (isNaN(id5)) {
      return null;
    }
    if (typeof peer === "string") {
      try {
        if (getUsername(peer) !== peer) {
          return null;
        }
      } catch (err) {
        if (err instanceof InputError) {
          return null;
        } else {
          throw err;
        }
      }
    }
    return [peer, id5];
  }
  async getStickerSet(name) {
    if (name.includes("/")) {
      let valid = false;
      try {
        const url = new URL(name);
        const pathname = "/addstickers/";
        valid = (url.protocol === "http:" || url.protocol === "https:") && url.hostname === "t.me" && url.pathname.startsWith(pathname) && url.pathname.length > PackShortNameInvalid.length;
        if (valid) {
          name = url.pathname.slice(pathname.length);
          if (name.endsWith("/")) {
            name = name.slice(0, -1);
            if (name === "") {
              valid = false;
            }
          }
        }
      } catch (err) {
        if (err instanceof TypeError) {
          valid = false;
        } else {
          throw err;
        }
      }
      if (!valid) {
        throw new InputError("Invalid sticker set name or link.");
      }
    }
    const result = await this.#c.invoke({ _: "messages.getStickerSet", hash: 0, stickerset: { _: "inputStickerSetShortName", short_name: name } });
    return constructStickerSet(result);
  }
  async openMiniApp(botId, chatId, params) {
    this.#c.storage.assertUser("openMiniApp");
    const from_bot_menu = params?.fromMenu ? true : void 0;
    const silent = params?.disableNotification ? true : void 0;
    const compact = params?.mode === "compact" ? true : void 0;
    const fullscreen = params?.mode === "fullscreen" ? true : void 0;
    const peer = await this.#c.getInputPeer(chatId);
    const bot = await this.#c.getInputUser(botId);
    const url = params?.url;
    const start_param = params?.startParameter;
    const theme_params = params?.themeParameters ? { _: "dataJSON", data: params.themeParameters } : void 0;
    const platform = this.#c.langPack ?? "";
    const reply_to = await this.#constructReplyTo(params);
    const send_as = params?.sendAs ? await this.#c.getInputPeer(params.sendAs) : void 0;
    const result = await this.#c.invoke({
      _: "messages.requestWebView",
      from_bot_menu,
      silent,
      compact,
      fullscreen,
      peer,
      bot,
      url,
      start_param,
      theme_params,
      platform,
      reply_to,
      send_as
    });
    return constructMiniAppInfo(result);
  }
  async getSavedMessages(chatId, params) {
    this.#c.storage.assertUser("getSavedMessages");
    const peer = await this.#c.getInputPeer(chatId);
    const limit = getLimit(params?.limit);
    let offsetId = params?.offsetId ?? 0;
    if (offsetId < 0) {
      offsetId = 0;
    }
    let offsetDate = params?.offsetDate ?? 0;
    if (offsetDate < 0) {
      offsetDate = 0;
    }
    const result = await this.#c.invoke({
      _: "messages.getSavedHistory",
      peer,
      limit,
      offset_id: offsetId,
      offset_date: offsetDate,
      add_offset: params?.addOffset ?? 0,
      hash: 0n,
      max_id: 0,
      min_id: 0
    });
    if (!("messages" in result)) {
      unreachable();
    }
    const messages = new Array();
    for (const message_ of result.messages) {
      const message = await this.constructMessage(message_, false);
      messages.push(message);
    }
    return messages;
  }
  async getSavedChats(params) {
    const limit = getLimit(params?.limit);
    let offsetId = params?.offsetId ?? 0;
    if (offsetId < 0) {
      offsetId = 0;
    }
    let offsetDate = params?.offsetDate ?? 0;
    if (offsetDate < 0) {
      offsetDate = 0;
    }
    let offsetPeer = { _: "inputPeerEmpty" };
    if (params?.offsetChatId !== void 0) {
      offsetPeer = await this.#c.getInputPeer(params.offsetChatId);
    }
    const result = await this.#c.invoke({
      _: "messages.getSavedDialogs",
      hash: 0n,
      limit,
      offset_date: offsetDate,
      offset_id: offsetId,
      offset_peer: offsetPeer,
      exclude_pinned: params?.excludePinned || void 0
    });
    return constructSavedChats(result, this.#c.getPeer, this.getMessage.bind(this), this.#c.fileManager.getStickerSetName.bind(this.#c.fileManager));
  }
  async getMessageReactions(chatId, messageId, params) {
    this.#c.storage.assertUser("getMessageReactions");
    const peer = await this.#c.getInputPeer(chatId);
    const id5 = messageId;
    const reactions = params?.reaction ? reactionToTlObject(params.reaction) : void 0;
    const offset = params?.offset;
    const limit = getLimit(params?.limit);
    const messageReactionsList = await this.#c.invoke({
      _: "messages.getMessageReactionsList",
      peer,
      id: id5,
      reactions,
      offset,
      limit
    });
    return constructMessageReactionList(messageReactionsList);
  }
};

// client/3_video_chat_manager.ts
var videoChatManagerUpdates = [
  "updateGroupCall"
];
var VideoChatManager = class {
  #c;
  constructor(c) {
    this.#c = c;
  }
  async #createGroupCall(chatId, title, liveStream, scheduleDate) {
    const peer = await this.#c.getInputPeer(chatId);
    if (canBeInputUser(peer)) {
      throw new InputError("Video chats are only available for groups and channels.");
    }
    const { updates } = await this.#c.invoke({ _: "phone.createGroupCall", peer, random_id: getRandomId(true), title, rtmp_stream: liveStream, schedule_date: scheduleDate }).then((v) => telegram_exports.as("updates", v));
    const updateGroupCall = updates.find((v) => telegram_exports.is("updateGroupCall", v));
    if (!updateGroupCall) {
      unreachable();
    }
    return constructVideoChat(updateGroupCall.call);
  }
  async startVideoChat(chatId, params) {
    this.#c.storage.assertUser("startVideoChat");
    return await this.#createGroupCall(chatId, params?.title, params?.liveStream || void 0);
  }
  async scheduleVideoChat(chatId, startAt, params) {
    this.#c.storage.assertUser("scheduleVideoChat");
    return await this.#createGroupCall(chatId, params?.title, params?.liveStream || void 0, startAt);
  }
  async #getInputGroupCall(id_) {
    const id5 = BigInt(id_);
    const accessHash = await this.#c.messageStorage.getGroupCallAccessHash(id5);
    if (accessHash === null) {
      throw new InputError("Video chat not found.");
    }
    return { _: "inputGroupCall", id: id5, access_hash: accessHash };
  }
  async joinVideoChat(id5, params, params_) {
    this.#c.storage.assertUser("joinVideoChat");
    const call = await this.#getInputGroupCall(id5);
    const { updates } = await this.#c.invoke({ _: "phone.joinGroupCall", call, join_as: params_?.joinAs ? await this.#c.getInputPeer(params_.joinAs) : { _: "inputPeerSelf" }, params: { _: "dataJSON", data: params }, invite_hash: params_?.inviteHash, muted: params_?.audio ? void 0 : true, video_stopped: params_?.video ? void 0 : true }).then((v) => telegram_exports.as("updates", v));
    const updateGroupCall = updates.find((v) => telegram_exports.is("updateGroupCallConnection", v));
    if (!updateGroupCall)
      unreachable();
    return updateGroupCall.params.data;
  }
  async leaveVideoChat(id5) {
    this.#c.storage.assertUser("leaveVideoChat");
    await this.#c.invoke({ _: "phone.leaveGroupCall", call: await this.#getInputGroupCall(id5), source: 0 });
  }
  async joinLiveStream(id5) {
    this.#c.storage.assertUser("joinLiveStream");
    const call = await this.#getInputGroupCall(id5);
    const { updates } = await this.#c.invoke({
      _: "phone.joinGroupCall",
      call,
      join_as: { _: "inputPeerSelf" },
      params: {
        _: "dataJSON",
        data: JSON.stringify({
          fingerprints: [],
          pwd: "",
          ssrc: getRandomId(true),
          "ssrc-groups": [],
          ufrag: ""
        })
      }
    }).then((v) => telegram_exports.as("updates", v));
    const updateGroupCall = updates.find((v) => telegram_exports.is("updateGroupCallConnection", v));
    if (!updateGroupCall)
      unreachable();
  }
  async #getCall(id5) {
    let groupCall = await this.#c.messageStorage.getGroupCall(BigInt(id5));
    if (groupCall === null) {
      const call = await this.#getInputGroupCall(id5);
      groupCall = (await this.#c.invoke({ _: "phone.getGroupCall", call, limit: 1 })).call;
    }
    return groupCall;
  }
  async getVideoChat(id5) {
    this.#c.storage.assertUser("getVideoChat");
    return constructVideoChat(await this.#getCall(id5));
  }
  canHandleUpdate(update) {
    return telegram_exports.isOneOf(videoChatManagerUpdates, update);
  }
  async handleUpdate(update) {
    if (!update.peer) {
      return null;
    }
    const chatId = peerToChatId(update.peer);
    const fullChat = await this.#c.messageStorage.getFullChat(chatId).then((v) => v === null ? this.#c.messageStorage.getFullChat(chatId) : v);
    let updateFullChat = false;
    if (telegram_exports.is("groupCallDiscarded", update.call)) {
      await this.#c.messageStorage.setGroupCall(update.call.id, null);
      await this.#c.messageStorage.setGroupCallAccessHash(update.call.id, null);
      if (fullChat !== null) {
        fullChat.call = void 0;
        updateFullChat = true;
      }
    } else {
      await this.#c.messageStorage.setGroupCall(update.call.id, update.call);
      await this.#c.messageStorage.setGroupCallAccessHash(update.call.id, update.call.access_hash);
      if (fullChat !== null) {
        if (!("call" in fullChat) || !fullChat.call || !telegram_exports.is("inputGroupCall", fullChat.call) || fullChat.call.id !== update.call.id) {
          fullChat.call = { ...update.call, _: "inputGroupCall" };
          updateFullChat = true;
        }
      }
    }
    if (updateFullChat) {
      await this.#c.messageStorage.setFullChat(chatId, fullChat);
    }
    return { videoChat: constructVideoChat(update.call) };
  }
  async getLiveStreamChannels(id5) {
    this.#c.storage.assertUser("getLiveStreamChannels");
    const call = await this.#getCall(id5);
    if (!telegram_exports.is("groupCall", call) || !call.rtmp_stream) {
      throw new InputError("Not a live stream.");
    }
    const dc = call.stream_dc_id ? getDc(call.stream_dc_id) : void 0;
    const streams = await this.#c.invoke({ _: "phone.getGroupCallStreamChannels", call: await this.#getInputGroupCall(id5) }, { dc, type: "download" });
    return streams.channels.map(constructLiveStreamChannel);
  }
  async downloadLiveStreamSegment(id5, channel, scale, timestamp, params) {
    this.#c.storage.assertUser("downloadLiveStreamSegment");
    const call = await this.#getCall(id5);
    if (!telegram_exports.is("groupCall", call) || !call.rtmp_stream) {
      throw new InputError("Not a live stream.");
    }
    const quality = params?.quality ?? "low";
    const location2 = {
      _: "inputGroupCallStream",
      call: { ...call, _: "inputGroupCall" },
      scale,
      time_ms: BigInt(timestamp),
      video_channel: channel,
      video_quality: quality === "low" ? 0 : quality === "medium" ? 1 : quality === "high" ? 2 : (() => {
        throw new InputError("Got invalid quality.");
      })()
    };
    const chunks = new Array();
    for await (const chunk of this.#c.fileManager.downloadInner(location2, call.stream_dc_id ?? unreachable(), params)) {
      chunks.push(chunk);
    }
    return concat(chunks);
  }
};

// client/4_callback_query_manager.ts
var callbackQueryManagerUpdates = [
  "updateBotCallbackQuery",
  "updateInlineBotCallbackQuery"
];
var CallbackQueryManager = class _CallbackQueryManager {
  #c;
  constructor(c) {
    this.#c = c;
  }
  async answerCallbackQuery(id5, params) {
    this.#c.storage.assertBot("answerCallbackQuery");
    checkCallbackQueryId(id5);
    await this.#c.invoke({ _: "messages.setBotCallbackAnswer", query_id: BigInt(id5), cache_time: params?.cacheTime ?? 0, message: params?.text, alert: params?.alert ? true : void 0 });
  }
  async sendCallbackQuery(botId, messageId, question) {
    this.#c.storage.assertUser("sendCallbackQuery");
    checkMessageId(messageId);
    validateCallbackQueryQuestion(question);
    const peer = await this.#c.getInputPeer(botId), peerId = await this.#c.getInputPeerChatId(peer), questionKey = JSON.stringify(question);
    const maybeAnswer = await this.#c.messageStorage.getCallbackQueryAnswer(peerId, messageId, questionKey);
    if (maybeAnswer !== null && !_CallbackQueryManager.#isExpired(maybeAnswer[1], maybeAnswer[0].cache_time)) {
      return constructCallbackQueryAnswer(maybeAnswer[0]);
    }
    const answer = await this.#c.invoke({ _: "messages.getBotCallbackAnswer", peer, msg_id: messageId, data: "data" in question ? encodeText(question.data) : void 0, game: question.type === "game" ? true : void 0, password: question.type === "password" ? await this.#getPasswordCheck(question.password) : void 0 });
    if (answer.cache_time >= 0) {
      await this.#c.messageStorage.setCallbackQueryAnswer(peerId, messageId, questionKey, answer);
    }
    return constructCallbackQueryAnswer(answer);
  }
  static #isExpired(date, cacheTime) {
    return (Date.now() - date.getTime()) / SECOND > cacheTime;
  }
  async #getPasswordCheck(password) {
    const ap = await this.#c.invoke({ _: "account.getPassword" });
    return await checkPassword(password, ap);
  }
  canHandleUpdate(update) {
    return telegram_exports.isOneOf(callbackQueryManagerUpdates, update);
  }
  async handleUpdate(update) {
    return { callbackQuery: await constructCallbackQuery(update, this.#c.getPeer, this.#c.messageManager.getMessageWithReply.bind(this.#c.messageManager)) };
  }
};

// client/4_chat_list_manager.ts
var chatListManagerUpdates = [
  "updateChannel",
  "updateChat",
  "updateUser",
  "updateUserName"
];
var ChatListManager = class {
  #c;
  constructor(c) {
    this.#c = c;
  }
  async #handleUpdateChannel(update) {
    const peer = { ...update, _: "peerChannel" };
    const chatId = telegram_exports.peerToChatId(peer);
    await this.#c.messageStorage.setFullChat(chatId, null);
  }
  async #handleUpdateChat(update) {
    const peer = { ...update, _: "peerChat" };
    const chatId = telegram_exports.peerToChatId(peer);
    await this.#c.messageStorage.setFullChat(chatId, null);
  }
  async #handleUpdateUser(update) {
    const peer = { ...update, _: "peerUser" };
    const chatId = telegram_exports.peerToChatId(peer);
    await this.#c.messageStorage.setFullChat(chatId, null);
  }
  async getChats(from = "main", after, limit = 100) {
    this.#c.storage.assertUser("getChats");
    if (limit <= 0 || limit > 100) {
      limit = 100;
    }
    const listId = getChatListId(from);
    const dialogs = await this.#c.invoke({ _: "messages.getDialogs", limit, offset_id: after?.lastMessage?.id ?? 0, offset_date: after?.lastMessage?.date ?? 0, offset_peer: after ? await this.#c.getInputPeer(after.chat.id) : { _: "inputPeerEmpty" }, hash: 0n, folder_id: listId });
    if (!telegram_exports.is("messages.dialogs", dialogs) && !telegram_exports.is("messages.dialogsSlice", dialogs)) {
      unreachable();
    }
    const chats = new Array();
    for (const dialog of dialogs.dialogs) {
      const chat = await constructChatListItem4(dialog, dialogs, [], this.#c.getPeer, this.#c.messageManager.getMessage.bind(this.#c.messageManager), this.#c.fileManager.getStickerSetName.bind(this.#c.fileManager));
      chats.push(chat);
    }
    return chats;
  }
  canHandleUpdate(update) {
    return telegram_exports.isOneOf(chatListManagerUpdates, update);
  }
  async handleUpdate(update) {
    if (telegram_exports.is("updateChannel", update)) {
      await this.#handleUpdateChannel(update);
    } else if (telegram_exports.is("updateChat", update)) {
      await this.#handleUpdateChat(update);
    } else if (telegram_exports.is("updateUser", update) || telegram_exports.is("updateUserName", update)) {
      await this.#handleUpdateUser(update);
    } else {
      unreachable();
    }
    return null;
  }
  async #getFullChat(chatId) {
    const inputPeer = await this.#c.getInputPeer(chatId);
    const chatId_ = await this.#c.getInputPeerChatId(inputPeer);
    let fullChat = await this.#c.messageStorage.getFullChat(chatId_);
    if (fullChat !== null) {
      return fullChat;
    }
    if (canBeInputUser(inputPeer)) {
      fullChat = (await this.#c.invoke({ _: "users.getFullUser", id: toInputUser(inputPeer) })).full_user;
    } else if (telegram_exports.is("inputPeerChat", inputPeer)) {
      fullChat = (await this.#c.invoke({ ...inputPeer, _: "messages.getFullChat" })).full_chat;
    } else if (canBeInputChannel(inputPeer)) {
      fullChat = (await this.#c.invoke({ _: "channels.getFullChannel", channel: toInputChannel(inputPeer) })).full_chat;
    }
    await this.#c.messageStorage.setFullChat(chatId_, fullChat);
    if (fullChat !== null && "call" in fullChat && telegram_exports.is("inputGroupCall", fullChat.call)) {
      await this.#c.messageStorage.setGroupCallAccessHash(fullChat.call.id, fullChat.call.access_hash);
    }
    return fullChat;
  }
  async getChat(chatId) {
    const fullChat = await this.#getFullChat(chatId);
    if (fullChat === null) {
      throw new InputError("Chat not found.");
    }
    return constructChat(fullChat, this.#c.getPeer);
  }
  async getChatAdministrators(chatId) {
    const peer = await this.#c.getInputPeer(chatId);
    if (canBeInputChannel(peer)) {
      const channel = toInputChannel(peer);
      const participants = await this.#c.invoke({ _: "channels.getParticipants", channel, filter: { _: "channelParticipantsAdmins" }, offset: 0, limit: 100, hash: 0n });
      if (telegram_exports.is("channels.channelParticipantsNotModified", participants)) {
        unreachable();
      }
      const chatMembers = new Array();
      for (const p of participants.participants) {
        const peer2 = this.#c.getPeer("peer" in p ? p.peer : { _: "peerUser", user_id: p.user_id });
        if (!peer2) {
          unreachable();
        }
        chatMembers.push(constructChatMember(peer2[0], p, this.#c.getPeer));
      }
      return chatMembers;
    } else if (telegram_exports.is("inputPeerChat", peer)) {
      const fullChat = await this.#getFullChat(chatId);
      if (!fullChat || !("participants" in fullChat) || !telegram_exports.is("chatParticipants", fullChat.participants)) {
        unreachable();
      }
      const chatMembers = new Array();
      for (const p of fullChat.participants.participants) {
        const peer2 = this.#c.getPeer({ _: "peerUser", user_id: p.user_id });
        if (!peer2) {
          unreachable();
        }
        chatMembers.push(constructChatMember(peer2[0], p, this.#c.getPeer));
      }
      return chatMembers;
    } else {
      unreachable();
    }
  }
  async getChatMember(chatId, userId) {
    const peer = await this.#c.getInputPeer(chatId);
    if (canBeInputChannel(peer)) {
      const { participant } = await this.#c.invoke({ _: "channels.getParticipant", channel: toInputChannel(peer), participant: await this.#c.getInputPeer(userId) });
      const memberPeer = this.#c.getPeer("peer" in participant ? participant.peer : { _: "peerUser", user_id: participant.user_id });
      if (!memberPeer) {
        unreachable();
      }
      return constructChatMember(memberPeer[0], participant, this.#c.getPeer);
    } else if (telegram_exports.is("inputPeerChat", peer)) {
      const user = await this.#c.getInputUser(userId);
      const userId_ = BigInt(await this.#c.getInputPeerChatId(user));
      const fullChat = await this.#c.invoke({ ...peer, _: "messages.getFullChat" }).then((v) => telegram_exports.as("chatFull", v.full_chat));
      const participant = telegram_exports.as("chatParticipants", fullChat.participants).participants.find((v) => v.user_id === userId_);
      const memberPeer = this.#c.getPeer({ _: "peerUser", user_id: participant.user_id });
      if (!memberPeer) {
        unreachable();
      }
      return constructChatMember(memberPeer[0], participant, this.#c.getPeer);
    } else {
      throw new InputError("Expected a channel, supergroup, or group ID. Got a user ID instead.");
    }
  }
  async getChatMembers(chatId, params) {
    const peer = await this.#c.getInputPeer(chatId);
    if (canBeInputChannel(peer)) {
      const channel = toInputChannel(peer);
      const participants = await this.#c.invoke({ _: "channels.getParticipants", channel, filter: { _: "channelParticipantsRecent" }, offset: params?.offset ?? 0, limit: getLimit(params?.limit), hash: 0n });
      if (telegram_exports.is("channels.channelParticipantsNotModified", participants)) {
        unreachable();
      }
      const chatMembers = new Array();
      for (const p of participants.participants) {
        const peer2 = this.#c.getPeer("peer" in p ? p.peer : { _: "peerUser", user_id: p.user_id });
        if (!peer2) {
          unreachable();
        }
        chatMembers.push(constructChatMember(peer2[0], p, this.#c.getPeer));
      }
      return chatMembers;
    } else if (telegram_exports.is("inputPeerChat", peer)) {
      const fullChat = await this.#getFullChat(chatId);
      if (!fullChat || !("participants" in fullChat) || !telegram_exports.is("chatParticipants", fullChat.participants)) {
        unreachable();
      }
      const chatMembers = new Array();
      for (const p of fullChat.participants.participants) {
        const peer2 = this.#c.getPeer({ _: "peerUser", user_id: p.user_id });
        if (!peer2) {
          unreachable();
        }
        chatMembers.push(constructChatMember(peer2[0], p, this.#c.getPeer));
      }
      return chatMembers;
    } else {
      unreachable();
    }
  }
  #checkChatTitle(title) {
    title = title.trim();
    if (!title) {
      throw new InputError("Title cannot be empty.");
    }
    return title;
  }
  async createGroup(title, params) {
    this.#c.storage.assertUser("createGroup");
    title = this.#checkChatTitle(title);
    const { updates } = await this.#c.invoke({
      _: "messages.createChat",
      title,
      users: await Promise.all((params?.users ?? []).map((v) => this.#c.getInputUser(v))),
      ttl_period: params?.messageTtl || void 0
    });
    if (!("chats" in updates) || updates.chats.length < 1) {
      unreachable();
    }
    const chat = updates.chats[0];
    if (chat._ !== "chat") {
      unreachable();
    }
    return constructChatP(chat);
  }
  async #createChannel(type, title, params) {
    title = this.#checkChatTitle(title);
    const updates = await this.#c.invoke({
      _: "channels.createChannel",
      broadcast: type === "channel" ? true : void 0,
      megagroup: type === "supergroup" ? true : void 0,
      forum: params && "forum" in params && params.forum ? true : void 0,
      title,
      about: params?.description || "",
      ttl_period: params?.messageTtl || void 0
    });
    if (!("chats" in updates) || updates.chats.length < 1) {
      unreachable();
    }
    const chat = updates.chats[0];
    if (chat._ !== "channel") {
      unreachable();
    }
    return constructChatP(chat);
  }
  async createSupergroup(title, params) {
    this.#c.storage.assertUser("createSupergroup");
    return await this.#createChannel("supergroup", title, params);
  }
  async createChannel(title, params) {
    this.#c.storage.assertUser("createChannel");
    return await this.#createChannel("channel", title, params);
  }
  async setMessageTtl(chatId, messageTtl) {
    this.#c.storage.assertUser("setMessageTtl");
    const peer = await this.#c.getInputPeer(chatId);
    const period = messageTtl;
    await this.#c.invoke({ _: "messages.setHistoryTTL", peer, period });
  }
  async #moveChatsToFolder(chatIds, folderId) {
    const peers = await Promise.all(chatIds.map((v) => this.#c.getInputPeer(v)));
    const inputFolderPeers = peers.map((v) => ({ _: "inputFolderPeer", peer: v, folder_id: folderId }));
    await this.#c.invoke({ _: "folders.editPeerFolders", folder_peers: inputFolderPeers });
  }
  async archiveChats(chatIds) {
    this.#c.storage.assertUser("archiveChats");
    await this.#moveChatsToFolder(chatIds, 1);
  }
  async archiveChat(chatId) {
    this.#c.storage.assertUser("archiveChat");
    await this.archiveChats([chatId]);
  }
  async unarchiveChats(chatIds) {
    this.#c.storage.assertUser("unarchiveChats");
    await this.#moveChatsToFolder(chatIds, 0);
  }
  async unarchiveChat(chatId) {
    this.#c.storage.assertUser("unarchiveChat");
    await this.unarchiveChats([chatId]);
  }
  async getCommonChats(userId, params) {
    this.#c.storage.assertUser("getCommonChats");
    const max_id = params?.fromChatId ? await this.#c.getInputPeerChatId(await this.#c.getInputPeer(params.fromChatId)) : 0;
    if (max_id < 0) {
      throw new InputError("fromChatId must be a chat identifier.");
    }
    const user_id = await this.#c.getInputUser(userId);
    const limit = getLimit(params?.limit);
    const result = await this.#c.invoke({ _: "messages.getCommonChats", user_id, max_id: telegram_exports.chatIdToPeerId(max_id), limit });
    const chats = new Array();
    for (const chat of result.chats) {
      if (!telegram_exports.is("chatEmpty", chat)) {
        chats.push(constructChatP(chat));
      }
    }
    return chats;
  }
  async getChatSettings(chatId) {
    this.#c.storage.assertUser("getChatSettings");
    const peer = await this.#c.getInputPeer(chatId);
    const settings = await this.#c.invoke({ _: "messages.getPeerSettings", peer });
    return constructChatSettings(settings);
  }
  async #toggleBusinessBotsPaused(chatId, paused) {
    const peer = await this.#c.getInputPeer(chatId);
    if (!canBeInputUser(peer)) {
      throw new InputError("A private chat was expected.");
    }
    await this.#c.invoke({ _: "account.toggleConnectedBotPaused", peer, paused });
  }
  async disableBusinessBots(chatId) {
    this.#c.storage.assertUser("disableBusinessBots");
    await this.#toggleBusinessBotsPaused(chatId, true);
  }
  async enableBusinessBots(chatId) {
    this.#c.storage.assertUser("enableBusinessBots");
    await this.#toggleBusinessBotsPaused(chatId, false);
  }
};

// client/4_chat_manager.ts
var chatManagerUpdates = [
  "updateChannelParticipant",
  "updateChatParticipant",
  "updateBotChatInviteRequester"
];
var ChatManager = class {
  #c;
  constructor(c) {
    this.#c = c;
  }
  canHandleUpdate(update) {
    return telegram_exports.isOneOf(chatManagerUpdates, update);
  }
  async handleUpdate(update) {
    if (telegram_exports.is("updateChannelParticipant", update) || telegram_exports.is("updateChatParticipant", update)) {
      const chatMember = constructChatMemberUpdated(update, this.#c.getPeer);
      const selfId = await this.#c.getSelfId();
      if (chatMember.oldChatMember.member.id === selfId) {
        return { myChatMember: chatMember };
      } else {
        return { chatMember };
      }
    }
    if (telegram_exports.is("updateBotChatInviteRequester", update)) {
      const joinRequest = constructJoinRequest(update, this.#c.getPeer);
      return { joinRequest };
    }
    return null;
  }
  async #toggleJoinRequests(chatId, enabled) {
    const channel = await this.#c.getInputChannel(chatId);
    await this.#c.invoke({ _: "channels.toggleJoinRequest", channel, enabled });
  }
  async approveJoinRequest(chatId, userId) {
    await this.#c.invoke({
      _: "messages.hideChatJoinRequest",
      peer: await this.#c.getInputPeer(chatId),
      user_id: await this.#c.getInputUser(userId),
      approved: true
    });
  }
  async declineJoinRequest(chatId, userId) {
    await this.#c.invoke({
      _: "messages.hideChatJoinRequest",
      peer: await this.#c.getInputPeer(chatId),
      user_id: await this.#c.getInputUser(userId)
    });
  }
  async approveJoinRequests(chatId, params) {
    this.#c.storage.assertUser("approveJoinRequests");
    await this.#c.invoke({
      _: "messages.hideAllChatJoinRequests",
      peer: await this.#c.getInputPeer(chatId),
      approved: true,
      link: params?.inviteLink
    });
  }
  async declineJoinRequests(chatId, params) {
    this.#c.storage.assertUser("declineJoinRequests");
    await this.#c.invoke({
      _: "messages.hideAllChatJoinRequests",
      peer: await this.#c.getInputPeer(chatId),
      link: params?.inviteLink
    });
  }
  async getJoinRequests(chatId, params) {
    this.#c.storage.assertUser("getJoinRequests");
    if (typeof params?.inviteLink === "string" && typeof params?.search === "string") {
      throw new InputError("inviteLink and search cannot be specified together.");
    }
    const peer = await this.#c.getInputPeer(chatId);
    const offset_user = params?.fromUserId ? await this.#c.getInputUser(params.fromUserId) : { _: "inputUserEmpty" };
    const { importers } = await this.#c.invoke({
      _: "messages.getChatInviteImporters",
      requested: true,
      peer,
      link: params?.inviteLink,
      q: params?.search,
      offset_date: params?.fromDate ?? 0,
      offset_user,
      limit: getLimit(params?.limit)
    });
    const peer_ = inputPeerToPeer(peer);
    return await Promise.all(importers.map((v) => constructJoinRequest2(peer_, v, this.#c.getPeer)));
  }
  async createInviteLink(chatId, params) {
    if (params?.requireApproval && params?.limit) {
      throw new InputError("requireApproval cannot be true while limit is specified.");
    }
    const result = await this.#c.invoke({ _: "messages.exportChatInvite", peer: await this.#c.getInputPeer(chatId), title: params?.title, expire_date: params?.expireAt, request_needed: params?.requireApproval ? true : void 0, usage_limit: params?.limit });
    return constructInviteLink(telegram_exports.as("chatInviteExported", result), this.#c.getPeer);
  }
  async getCreatedInviteLinks(chatId, params) {
    this.#c.storage.assertUser("getCreatedInviteLinks");
    const { invites } = await this.#c.invoke({ _: "messages.getExportedChatInvites", peer: await this.#c.getInputPeer(chatId), revoked: params?.revoked ? true : void 0, admin_id: params?.by ? await this.#c.getInputUser(params.by) : { _: "inputUserEmpty" }, limit: getLimit(params?.limit), offset_date: params?.afterDate, offset_link: params?.afterInviteLink });
    return await Promise.all(invites.map((v) => telegram_exports.as("chatInviteExported", v)).map((v) => constructInviteLink(v, this.#c.getPeer)));
  }
  async joinChat(chatId) {
    this.#c.storage.assertUser("joinChat");
    const peer = await this.#c.getInputPeer(chatId);
    if (canBeInputUser(peer)) {
      throw new InputError("Cannot join private chats.");
    } else if (canBeInputChannel(peer)) {
      await this.#c.invoke({ _: "channels.joinChannel", channel: toInputChannel(peer) });
    } else if (telegram_exports.is("inputPeerChat", peer)) {
      await this.#c.invoke({ _: "messages.addChatUser", chat_id: peer.chat_id, user_id: { _: "inputUserSelf" }, fwd_limit: 0 });
    } else {
      unreachable();
    }
  }
  async leaveChat(chatId) {
    const peer = await this.#c.getInputPeer(chatId);
    if (canBeInputUser(peer)) {
      throw new InputError("Cannot leave private chats.");
    } else if (canBeInputChannel(peer)) {
      await this.#c.invoke({ _: "channels.leaveChannel", channel: toInputChannel(peer) });
    } else if (telegram_exports.is("inputPeerChat", peer)) {
      await this.#c.invoke({ _: "messages.deleteChatUser", chat_id: peer.chat_id, user_id: { _: "inputUserSelf" } });
    } else {
      unreachable();
    }
  }
  async banChatMember(chatId, memberId, params) {
    const chat = await this.#c.getInputPeer(chatId);
    if (!telegram_exports.is("inputPeerChannel", chat) && !telegram_exports.is("inputPeerChat", chat)) {
      throw new InputError("Expected a channel, supergroup, or group ID.");
    }
    const member = await this.#c.getInputPeer(memberId);
    if (telegram_exports.is("inputPeerChannel", chat)) {
      if (params?.deleteMessages) {
        try {
          await this.#c.messageManager.deleteChatMemberMessages(chatId, memberId);
        } catch {
        }
      }
      await this.#c.invoke({
        _: "channels.editBanned",
        channel: { ...chat, _: "inputChannel" },
        participant: member,
        banned_rights: {
          _: "chatBannedRights",
          until_date: params?.until ?? 0,
          view_messages: true,
          send_messages: true,
          send_media: true,
          send_stickers: true,
          send_gifs: true,
          send_games: true,
          send_inline: true,
          embed_links: true
        }
      });
    } else if (telegram_exports.is("inputPeerChat", chat)) {
      if (!canBeInputUser(member)) {
        throw new InputError(`Invalid user ID: ${memberId}`);
      }
      await this.#c.invoke({ _: "messages.deleteChatUser", chat_id: chat.chat_id, user_id: toInputUser(member), revoke_history: params?.deleteMessages ? true : void 0 });
    }
  }
  async unbanChatMember(chatId, memberId) {
    const channel = await this.#c.getInputChannel(chatId);
    const member = await this.#c.getInputPeer(memberId);
    await this.#c.invoke({ _: "channels.editBanned", channel, participant: member, banned_rights: { _: "chatBannedRights", until_date: 0 } });
  }
  async setChatMemberRights(chatId, memberId, params) {
    const channel = await this.#c.getInputChannel(chatId);
    const member = await this.#c.getInputPeer(memberId);
    await this.#c.invoke({ _: "channels.editBanned", channel, participant: member, banned_rights: chatMemberRightsToTlObject(params?.rights, params?.until) });
  }
  async setAvailableReactions(chatId, availableReactions) {
    await this.#c.invoke({ _: "messages.setChatAvailableReactions", peer: await this.#c.getInputPeer(chatId), available_reactions: availableReactions === "none" ? { _: "chatReactionsNone" } : availableReactions === "all" ? { _: "chatReactionsAll" } : Array.isArray(availableReactions) ? { _: "chatReactionsSome", reactions: availableReactions.map((v) => reactionToTlObject(v)) } : unreachable() });
  }
  async setBoostsRequiredToCircumventRestrictions(chatId, boosts) {
    this.#c.storage.assertUser("setBoostsRequiredToCircumventRestrictions");
    const channel = await this.#c.getInputChannel(chatId);
    await this.#c.invoke({ _: "channels.setBoostsToUnblockRestrictions", channel, boosts });
  }
  async enableJoinRequests(chatId) {
    this.#c.storage.assertUser("enableJoinRequests");
    await this.#toggleJoinRequests(chatId, true);
  }
  async disableJoinRequests(chatId) {
    this.#c.storage.assertUser("disableJoinRequests");
    await this.#toggleJoinRequests(chatId, false);
  }
  async setChatStickerSet(chatId, setName) {
    const channel = await this.#c.getInputChannel(chatId);
    await this.#c.invoke({ _: "channels.setStickers", channel, stickerset: { _: "inputStickerSetShortName", short_name: setName } });
  }
  async deleteChatStickerSet(chatId) {
    const channel = await this.#c.getInputChannel(chatId);
    await this.#c.invoke({ _: "channels.setStickers", channel, stickerset: { _: "inputStickerSetEmpty" } });
  }
  async deleteChatPhoto(chatId) {
    const peer = await this.#c.getInputPeer(chatId);
    if (!canBeInputChannel(peer) && !telegram_exports.is("inputPeerChat", peer)) {
      unreachable();
    }
    if (canBeInputChannel(peer)) {
      await this.#c.invoke({ _: "channels.editPhoto", channel: toInputChannel(peer), photo: { _: "inputChatPhotoEmpty" } });
    } else if (telegram_exports.is("inputPeerChat", peer)) {
      await this.#c.invoke({ _: "messages.editChatPhoto", chat_id: peer.chat_id, photo: { _: "inputChatPhotoEmpty" } });
    }
  }
  async setChatPhoto(chatId, photo, params) {
    const peer = await this.#c.getInputPeer(chatId);
    if (!canBeInputChannel(peer) && !telegram_exports.is("inputPeerChat", peer)) {
      unreachable();
    }
    const file = await this.#c.fileManager.upload(photo, params);
    const photo_ = { _: "inputChatUploadedPhoto", file };
    if (canBeInputChannel(peer)) {
      await this.#c.invoke({ _: "channels.editPhoto", channel: toInputChannel(peer), photo: photo_ });
    } else if (telegram_exports.is("inputPeerChat", peer)) {
      await this.#c.invoke({ _: "messages.editChatPhoto", chat_id: peer.chat_id, photo: photo_ });
    }
  }
  async addChatMember(chatId, userId, params) {
    this.#c.storage.assertUser("addChatMember");
    const chat = await this.#c.getInputPeer(chatId);
    if (telegram_exports.isOneOf(["inputPeerEmpty", "inputPeerSelf", "inputPeerUser", "inputPeerUserFromMessage"], chat)) {
      throw new InputError("Cannot add members to private chats");
    }
    const user = await this.#c.getInputUser(userId);
    if (telegram_exports.is("inputPeerChat", chat)) {
      const result = await this.#c.invoke({ _: "messages.addChatUser", chat_id: chat.chat_id, user_id: user, fwd_limit: params?.historyLimit ?? 0 });
      return result.missing_invitees.map(constructFailedInvitation);
    } else if (telegram_exports.is("inputPeerChannel", chat)) {
      const result = await this.#c.invoke({ _: "channels.inviteToChannel", channel: { ...chat, _: "inputChannel" }, users: [user] });
      return result.missing_invitees.map(constructFailedInvitation);
    }
    unreachable();
  }
  async addChatMembers(chatId, userIds) {
    this.#c.storage.assertUser("addChatMembers");
    const chat = await this.#c.getInputPeer(chatId);
    if (telegram_exports.isOneOf(["inputPeerEmpty", "inputPeerSelf", "inputPeerUser", "inputPeerUserFromMessage"], chat)) {
      throw new InputError("Cannot add members to private chats");
    }
    const users = new Array();
    for (const userId of userIds) {
      users.push(await this.#c.getInputUser(userId));
    }
    if (telegram_exports.is("inputPeerChat", chat)) {
      throw new InputError("addChatMembers cannot be used with basic groups");
    } else if (canBeInputChannel(chat)) {
      const result = await this.#c.invoke({ _: "channels.inviteToChannel", channel: toInputChannel(chat), users });
      return result.missing_invitees.map(constructFailedInvitation);
    }
    unreachable();
  }
  async #toggleSlowMode(chatId, seconds) {
    const channel = await this.#c.getInputChannel(chatId);
    await this.#c.invoke({ _: "channels.toggleSlowMode", channel, seconds });
  }
  async disableSlowMode(chatId) {
    this.#c.storage.assertUser("disableSlowMode");
    await this.#toggleSlowMode(chatId, 0);
  }
  async setSlowMode(chatId, duration) {
    this.#c.storage.assertUser("setSlowMode");
    const seconds = slowModeDurationToSeconds(duration);
    if (seconds > 1) {
      throw new InputError("Invalid slow mode duration.");
    }
    await this.#toggleSlowMode(chatId, seconds);
  }
  async setChatTitle(chatId, title) {
    const peer = await this.#c.getInputPeer(chatId);
    if (telegram_exports.is("inputPeerChat", peer)) {
      await this.#c.invoke({ _: "messages.editChatTitle", chat_id: peer.chat_id, title });
    } else if (canBeInputChannel(peer)) {
      const channel = toInputChannel(peer);
      await this.#c.invoke({ _: "channels.editTitle", channel, title });
    } else {
      throw new InputError("A chat or channel identifier was expected.");
    }
  }
  async setChatDescription(chatId, description) {
    const peer = await this.#c.getInputPeer(chatId);
    if (canBeInputUser(peer)) {
      throw new InputError("A chat or channel identifier was expected.");
    }
    await this.#c.invoke({ _: "messages.editChatAbout", peer, about: description });
  }
  async setMemberListVisibility(chatId, visible) {
    this.#c.storage.assertUser("setMemberListVisible");
    const channel = await this.#c.getInputChannel(chatId);
    const enabled = !visible;
    await this.#c.invoke({ _: "channels.toggleParticipantsHidden", channel, enabled });
  }
  async setTopicsEnabled(chatId, enabled, tabs) {
    this.#c.storage.assertUser("setTopicsEnabled");
    const channel = await this.#c.getInputChannel(chatId);
    await this.#c.invoke({ _: "channels.toggleForum", channel, enabled, tabs });
  }
  async setAntispamEnabled(chatId, enabled) {
    this.#c.storage.assertUser("setTopicsEnabled");
    const channel = await this.#c.getInputChannel(chatId);
    await this.#c.invoke({ _: "channels.toggleAntiSpam", channel, enabled });
  }
  async setSignaturesEnabled(chatId, enabled, params) {
    this.#c.storage.assertUser("setSignaturesEnabled");
    const channel = await this.#c.getInputChannel(chatId);
    await this.#c.invoke({ _: "channels.toggleSignatures", channel, signatures_enabled: enabled ? true : void 0, profiles_enabled: params?.showAuthorProfile ? true : void 0 });
  }
  async deleteChat(chatId) {
    this.#c.storage.assertUser("deleteChat");
    const peer = await this.#c.getInputPeer(chatId);
    if (telegram_exports.is("inputPeerChat", peer)) {
      await this.#c.invoke({ _: "messages.deleteChat", chat_id: peer.chat_id });
    } else if (canBeInputChannel(peer)) {
      const channel = toInputChannel(peer);
      await this.#c.invoke({ _: "channels.deleteChannel", channel });
    } else {
      throw new InputError("A chat or channel identifier was expected.");
    }
  }
  async getDiscussionChatSuggestions() {
    this.#c.storage.assertUser("getDiscussionChatSuggestions");
    const { chats } = await this.#c.invoke({ _: "channels.getGroupsForDiscussion" });
    return chats.map((v) => {
      if (!telegram_exports.isOneOf(["chat", "channel"], v)) {
        return v;
      } else {
        return constructChatP(v);
      }
    }).filter((v) => v !== null);
  }
  async setDiscussionChat(chatId, discussionChatId) {
    this.#c.storage.assertUser("setDiscussionChat");
    const [broadcast, group] = await Promise.all([this.#c.getInputChannel(chatId), this.#c.getInputChannel(discussionChatId)]);
    await this.#c.invoke({ _: "channels.setDiscussionGroup", broadcast, group });
  }
  async transferChatOwnership(chatId, userId, password) {
    this.#c.storage.assertUser("transferChat");
    const user_id = await this.#c.getInputUser(userId);
    const isSelf = telegram_exports.is("inputUserSelf", user_id);
    if (isSelf || telegram_exports.peerToChatId(user_id) === await this.#c.getSelfId()) {
      throw new InputError("A user ID except that of the current one was expected.");
    }
    const channel = await this.#c.getInputChannel(chatId);
    const ap = await this.#c.invoke({ _: "account.getPassword" });
    const password_ = await checkPassword(password, ap);
    await this.#c.invoke({ _: "channels.editCreator", channel, user_id, password: password_ });
  }
  async promoteChatMember(chatId, userId, params) {
    const channel = await this.#c.getInputChannel(chatId);
    const user_id = await this.#c.getInputUser(userId);
    const admin_rights = chatAdministratorRightsToTlObject(params ?? {});
    const rank = params?.title ?? "";
    await this.#c.invoke({
      _: "channels.editAdmin",
      channel,
      user_id,
      admin_rights,
      rank
    });
  }
};

// client/4_forum_manager.ts
var ForumManager = class _ForumManager {
  #c;
  constructor(c) {
    this.#c = c;
  }
  static #validateTopicTitle(title) {
    title = title.trim();
    if (!title) {
      throw new InputEvent("Invalid topic title.");
    }
    return title;
  }
  async createTopic(chatId, title, params) {
    title = _ForumManager.#validateTopicTitle(title);
    let send_as;
    if (params?.sendAs) {
      this.#c.storage.assertUser("sendAs");
      send_as = await this.#c.getInputPeer(params.sendAs);
    }
    const peer = await this.#c.getInputPeer(chatId);
    const updates = await this.#c.invoke({
      _: "messages.createForumTopic",
      peer,
      title,
      icon_color: params?.color,
      icon_emoji_id: params?.customEmojiId ? BigInt(params.customEmojiId) : void 0,
      send_as,
      random_id: getRandomId()
    });
    const message = (await this.#c.messageManager.updatesToMessages(chatId, updates))[0];
    return constructTopic(assertMessageType(message, "forumTopicCreated"));
  }
  static #assertNongenralTopicIdValid(topicId) {
    if (!topicId || topicId < 2) {
      throw new InputError("Invalid topic ID.");
    }
  }
  static #assertAnyTopicIdValid(topicId) {
    if (!topicId || topicId < 1) {
      throw new InputError("Invalid topic ID.");
    }
  }
  async editTopic(chatId, topicId, title, params) {
    _ForumManager.#assertNongenralTopicIdValid(topicId);
    title = _ForumManager.#validateTopicTitle(title);
    const peer = await this.#c.getInputPeer(chatId);
    const updates = await this.#c.invoke({
      _: "messages.editForumTopic",
      peer,
      topic_id: topicId,
      title,
      icon_emoji_id: params?.customEmojiId ? BigInt(params.customEmojiId) : void 0
    });
    const message = (await this.#c.messageManager.updatesToMessages(chatId, updates))[0];
    return constructTopic(assertMessageType(message, "forumTopicEdited"));
  }
  async #toggleGeneralTopicHidden(chatId, hidden) {
    const peer = await this.#c.getInputPeer(chatId);
    await this.#c.invoke({
      _: "messages.editForumTopic",
      peer,
      topic_id: 1,
      hidden
    });
  }
  async hideGeneralTopic(chatId) {
    await this.#toggleGeneralTopicHidden(chatId, true);
  }
  async showGeneralTopic(chatId) {
    await this.#toggleGeneralTopicHidden(chatId, false);
  }
  async #toggleNongeneralTopicClosed(chatId, topicId, closed) {
    _ForumManager.#assertNongenralTopicIdValid(topicId);
    const peer = await this.#c.getInputPeer(chatId);
    await this.#c.invoke({
      _: "messages.editForumTopic",
      peer,
      topic_id: 1,
      closed
    });
  }
  async closeTopic(chatId, topicId) {
    await this.#toggleNongeneralTopicClosed(chatId, topicId, true);
  }
  async reopenTopic(chatId, topicId) {
    await this.#toggleNongeneralTopicClosed(chatId, topicId, false);
  }
  async #setTopicPinned(chatId, topicId, pinned) {
    _ForumManager.#assertAnyTopicIdValid(topicId);
    const peer = await this.#c.getInputPeer(chatId);
    await this.#c.invoke({
      _: "messages.updatePinnedForumTopic",
      peer,
      topic_id: 1,
      pinned
    });
  }
  async pinTopic(chatId, topicId) {
    await this.#setTopicPinned(chatId, topicId, true);
  }
  async unpinTopic(chatId, topicId) {
    await this.#setTopicPinned(chatId, topicId, false);
  }
};

// client/4_gift_manager.ts
var GiftManager = class {
  #c;
  constructor(c) {
    this.#c = c;
  }
  async getGifts() {
    const gifts = await this.#c.invoke({ _: "payments.getStarGifts", hash: 0 });
    if (!telegram_exports.is("payments.starGifts", gifts)) {
      unreachable();
    }
    return await Promise.all(gifts.gifts.map((v) => constructGift(v, this.#c.getPeer)));
  }
  async getClaimedGifts(chatId, params) {
    this.#c.storage.assertUser("getClaimedGifts");
    const offset = params?.offset ?? "";
    const limit = getLimit(params?.limit);
    const peer = await this.#c.getInputPeer(chatId);
    const result = await this.#c.invoke({ _: "payments.getSavedStarGifts", peer, offset, limit });
    return constructClaimedGifts(result, this.#c.getPeer);
  }
  async sendGift(chatId, giftId, params) {
    const hide_name = params?.private ? true : void 0;
    const include_upgrade = params?.upgrade ? true : void 0;
    const peer = await this.#c.getInputPeer(chatId);
    const gift_id = BigInt(giftId);
    let message;
    if (params?.message) {
      const parsedText = await this.#c.messageManager.parseText(params.message, params);
      message = { _: "textWithEntities", text: parsedText[0], entities: parsedText[1] ?? [] };
    }
    const invoice = { _: "inputInvoiceStarGift", hide_name, include_upgrade, peer, gift_id, message };
    const paymentForm = await this.#c.invoke({ _: "payments.getPaymentForm", invoice });
    await this.#c.invoke({ _: "payments.sendStarsForm", form_id: paymentForm.form_id, invoice });
  }
  async sellGift(userId, messageId) {
    const message = await this.#c.messageManager.getMessage(userId, messageId);
    if (message === null) {
      throw new InputError("Message not found.");
    }
    await this.#c.invoke({ _: "payments.convertStarGift", stargift: { _: "inputSavedStarGiftUser", msg_id: message.id } });
  }
  async getGift(slug) {
    if (slug.length > 100) {
      throw new InputError("Slug too long.");
    }
    slug = slug.toLowerCase();
    if (!/^[a-z]+-[1-9][0-9]*$/.test(slug)) {
      throw new InputError("Invalid slug.");
    }
    const result = await this.#c.invoke({ _: "payments.getUniqueStarGift", slug });
    return constructGift(result.gift, this.#c.getPeer.bind(this));
  }
};

// client/4_inline_query_manager.ts
var inlineQueryManagerUpdates = [
  "updateBotInlineQuery",
  "updateBotInlineSend"
];
var InlineQueryManager = class _InlineQueryManager {
  #c;
  constructor(c) {
    this.#c = c;
  }
  async answerInlineQuery(id5, results, params) {
    this.#c.storage.assertBot("answerInlineQuery");
    checkInlineQueryId(id5);
    await this.#c.invoke({ _: "messages.setInlineBotResults", query_id: BigInt(id5), results: await Promise.all(results.map((v) => inlineQueryResultToTlObject(v, this.#c.messageManager.parseText.bind(this.#c.messageManager), this.#c.messageManager.usernameResolver.bind(this.#c.messageManager)))), cache_time: params?.cacheTime ?? 300, private: params?.isPersonal ? true : void 0, switch_webview: params?.button && params.button.miniApp ? { _: "inlineBotWebView", text: params.button.text, url: params.button.miniApp.url } : void 0, switch_pm: params?.button && params.button.startParameter ? { _: "inlineBotSwitchPM", text: params.button.text, start_param: params.button.startParameter } : void 0, gallery: params?.isGallery ? true : void 0, next_offset: params?.nextOffset });
  }
  canHandleUpdate(update) {
    return telegram_exports.isOneOf(inlineQueryManagerUpdates, update);
  }
  handleUpdate(update) {
    if (telegram_exports.is("updateBotInlineQuery", update)) {
      return { inlineQuery: constructInlineQuery(update, this.#c.getPeer) };
    } else if (telegram_exports.is("updateBotInlineSend", update)) {
      return { chosenInlineResult: constructChosenInlineResult(update, this.#c.getPeer) };
    } else {
      unreachable();
    }
  }
  async sendInlineQuery(botId_, chatId, params) {
    this.#c.storage.assertUser("sendInlineQuery");
    const bot = await this.#c.getInputUser(botId_), peer = await this.#c.getInputPeer(chatId), query = params?.query ?? "", offset = params?.offset ?? "";
    const botId = await this.#c.getInputPeerChatId(bot), peerId = await this.#c.getInputPeerChatId(peer);
    const maybeResults = await this.#c.messageStorage.getInlineQueryAnswer(botId, peerId, query, offset);
    if (maybeResults !== null && !_InlineQueryManager.#isExpired(maybeResults[1], maybeResults[0].cache_time)) {
      return constructInlineQueryAnswer(maybeResults[0]);
    }
    const then = /* @__PURE__ */ new Date();
    const results = await this.#c.invoke({ _: "messages.getInlineBotResults", bot, peer, query, offset });
    if (results.cache_time > 0) {
      await this.#c.messageStorage.setInlineQueryAnswer(botId, peerId, query, offset, results, then);
    }
    return constructInlineQueryAnswer(results);
  }
  static #isExpired(date, cacheTime) {
    return (Date.now() - date.getTime()) / SECOND > cacheTime;
  }
};

// client/4_link_preview_manager.ts
var linkPreviewManagerUpdates = [
  "updateWebPage"
];
var LinkPreviewManager = class {
  #c;
  constructor(c) {
    this.#c = c;
  }
  async getLinkPreview(text, params) {
    const [text_, entities_] = await this.#c.messageManager.parseText(text, params);
    const result = await this.#c.invoke({
      _: "messages.getWebPagePreview",
      message: text_,
      entities: entities_
    });
    if (telegram_exports.is("messageMediaWebPage", result.media)) {
      return constructLinkPreview(result.media, void 0, this.#c.getPeer);
    } else {
      return null;
    }
  }
  canHandleUpdate(update) {
    return telegram_exports.isOneOf(linkPreviewManagerUpdates, update);
  }
  handleUpdate(update) {
    const linkPreview = constructLinkPreview({ _: "messageMediaWebPage", webpage: update.webpage }, void 0, this.#c.getPeer);
    return { linkPreview };
  }
};

// client/4_poll_manager.ts
var pollManagerUpdates = [
  "updateMessagePoll",
  "updateMessagePollVote"
];
var PollManager = class {
  #c;
  constructor(c) {
    this.#c = c;
  }
  async vote(chatId, messageId, optionIndexes) {
    this.#c.storage.assertUser("vote");
    if (!optionIndexes.length) {
      throw new InputError("No options provided.");
    }
    await this.#voteInner(chatId, messageId, optionIndexes);
  }
  async retractVote(chatId, messageId) {
    this.#c.storage.assertUser("retractVote");
    await this.#voteInner(chatId, messageId, []);
  }
  async #voteInner(chatId, messageId, optionIndexes) {
    const message = await this.#c.messageManager.getMessage(chatId, messageId);
    if (!("poll" in message)) {
      throw new InputError("Message not a poll.");
    }
    if (message.poll.options.filter((v) => v.isChosen).length === 0 && optionIndexes.length === 0) {
      throw new InputError("No vote has been casted.");
    }
    if (!message.poll.allowMultipleAnswers && optionIndexes.length > 1) {
      throw new InputError("Cannot cast multiple options for this vote.");
    }
    for (const optionIndex of optionIndexes) {
      if (optionIndex + 1 > message.poll.options.length) {
        throw new InputError("Got invalid option index.");
      }
    }
    if (optionIndexes.length > 0 && message.poll.options.map((v, i) => [i, v.isChosen]).filter((v) => v[1]).every(([v]) => optionIndexes.includes(v))) {
      throw new InputError("The same options are already casted.");
    }
    const peer = await this.#c.getInputPeer(chatId);
    const chatId_ = telegram_exports.peerToChatId(peer);
    const message_ = await this.#c.messageStorage.getMessage(chatId_, messageId);
    if (!telegram_exports.is("message", message_)) {
      unreachable();
    }
    const media = message_.media;
    if (!telegram_exports.is("messageMediaPoll", media)) {
      unreachable();
    }
    const poll = media.poll;
    optionIndexes = Array.from(new Set(optionIndexes));
    const options = optionIndexes.map((i) => poll.answers[i].option);
    await this.#c.invoke({ _: "messages.sendVote", peer, msg_id: messageId, options });
  }
  canHandleUpdate(update) {
    return telegram_exports.isOneOf(pollManagerUpdates, update);
  }
  async handleUpdate(update) {
    if (telegram_exports.is("updateMessagePoll", update)) {
      await this.#c.messageStorage.setPollResults(update.poll_id, update.results);
      let poll = null;
      if (update.poll) {
        poll = update.poll;
        await this.#c.messageStorage.setPoll(poll.id, poll);
      } else {
        poll = await this.#c.messageStorage.getPoll(update.poll_id);
      }
      if (poll) {
        const messageMediaPoll = { _: "messageMediaPoll", poll, results: update.results };
        return { poll: constructPoll(messageMediaPoll) };
      } else {
        return null;
      }
    } else {
      const pollAnswer = constructPollAnswer(update, this.#c.getPeer);
      return { pollAnswer };
    }
  }
};

// client/4_story_manager.ts
var storyManagerUpdates = [
  "updateStory"
];
var StoryManager = class {
  #c;
  constructor(c) {
    this.#c = c;
  }
  #updatesToStory(updates) {
    if (telegram_exports.is("updates", updates)) {
      const updateStory = updates.updates.find((v) => telegram_exports.is("updateStory", v));
      if (updateStory && telegram_exports.is("storyItem", updateStory.story)) {
        return constructStory(updateStory.story, updateStory.peer, this.#c.getPeer);
      }
    }
    unreachable();
  }
  async createStory(chatId, content, params) {
    this.#c.storage.assertUser("createStory");
    let media = null;
    const source = "video" in content ? content.video : "photo" in content ? content.photo : unreachable();
    if (typeof source === "string") {
      const fileId = this.#c.messageManager.resolveFileId(source, FileType.Photo);
      if (fileId !== null) {
        media = { _: "inputMediaPhoto", id: { ...fileId, _: "inputPhoto" } };
      }
    }
    if (media === null) {
      if (typeof source === "string" && isHttpUrl(source)) {
        throw new InputError("URL not supported.");
      } else {
        const file = await this.#c.fileManager.upload(source, params, null, "video" in content);
        if (telegram_exports.is("inputFileStoryDocument", file)) {
          unreachable();
        }
        const mimeType = contentType(file.name.split(".").slice(-1)[0]) ?? "application/octet-stream";
        if ("video" in content) {
          media = { _: "inputMediaUploadedDocument", file, attributes: [{ _: "documentAttributeFilename", file_name: file.name }, { _: "documentAttributeVideo", w: 720, h: 1280, duration: content.duration }], mime_type: mimeType };
        } else {
          media = { _: "inputMediaUploadedPhoto", file };
        }
      }
    }
    const caption_ = params?.caption;
    const parseResult = caption_ !== void 0 ? await this.#c.messageManager.parseText(caption_, { parseMode: params?.parseMode, entities: params?.captionEntities }) : void 0;
    const caption = parseResult === void 0 ? void 0 : parseResult[0];
    const entities = parseResult === void 0 ? void 0 : parseResult[1];
    const peer = await this.#c.getInputPeer(chatId);
    const randomId = getRandomId();
    const privacyRules = await storyPrivacyToTlObject(params?.privacy ?? { everyoneExcept: [] }, this.#c.getPeer);
    const mediaAreas = new Array();
    if (params?.interactiveAreas?.length) {
      for (const area of params.interactiveAreas) {
        mediaAreas.push(await storyInteractiveAreaToTlObject(area, this.#c.getPeer));
      }
    }
    const updates = await this.#c.invoke({ _: "stories.sendStory", peer, random_id: randomId, media, privacy_rules: privacyRules, caption, entities, noforwards: params?.protectContent ? true : void 0, period: params?.activeFor, pinned: params?.highlight ? true : void 0, media_areas: mediaAreas });
    return await this.#updatesToStory(updates);
  }
  async getStories(chatId, storyIds) {
    this.#c.storage.assertUser("getStories");
    checkArray(storyIds, checkStoryId);
    const peer = await this.#c.getInputPeer(chatId);
    const stories_ = await this.#c.invoke({ _: "stories.getStoriesByID", peer, id: storyIds });
    const stories = new Array();
    for (const story of stories_.stories) {
      stories.push(constructStory(telegram_exports.as("storyItem", story), telegram_exports.inputPeerToPeer(peer), this.#c.getPeer));
    }
    return stories;
  }
  async getStory(chatId, storyId) {
    this.#c.storage.assertUser("getStory");
    return (await this.getStories(chatId, [storyId]))[0] ?? null;
  }
  async deleteStories(chatId, storyIds) {
    this.#c.storage.assertUser("deleteStories");
    const peer = await this.#c.getInputPeer(chatId);
    await this.#c.invoke({ _: "stories.deleteStories", peer, id: storyIds });
  }
  async deleteStory(chatId, storyId) {
    this.#c.storage.assertUser("deleteStory");
    await this.deleteStories(chatId, [storyId]);
  }
  async #togglePinned(chatId, storyIds, pinned) {
    checkArray(storyIds, checkStoryId);
    const peer = await this.#c.getInputPeer(chatId);
    await this.#c.invoke({ _: "stories.togglePinned", peer, id: storyIds, pinned });
  }
  async addStoriesToHighlights(chatId, storyIds) {
    this.#c.storage.assertUser("addStoriesToHighlights");
    await this.#togglePinned(chatId, storyIds, true);
  }
  async addStoryToHighlights(chatId, storyId) {
    this.#c.storage.assertUser("addStoryToHighlights");
    await this.addStoriesToHighlights(chatId, [storyId]);
  }
  async removeStoriesFromHighlights(chatId, storyIds) {
    this.#c.storage.assertUser("removeStoriesFromHighlights");
    await this.#togglePinned(chatId, storyIds, false);
  }
  async removeStoryFromHighlights(chatId, storyId) {
    this.#c.storage.assertUser("removeStoryFromHighlights");
    await this.removeStoriesFromHighlights(chatId, [storyId]);
  }
  canHandleUpdate(update) {
    return telegram_exports.isOneOf(storyManagerUpdates, update);
  }
  handleUpdate(update) {
    if (telegram_exports.is("storyItemDeleted", update.story)) {
      const chatId = telegram_exports.peerToChatId(update.peer);
      const storyId = update.story.id;
      return { deletedStory: { chatId, storyId } };
    } else if (telegram_exports.is("storyItem", update.story)) {
      const story = constructStory(update.story, update.peer, this.#c.getPeer);
      return { story };
    } else {
      return null;
    }
  }
};

// client/5_client.ts
var handleMigrationError = Symbol("handleMigrationError");
var id4 = 0;
var getPeer = Symbol();
var mustGetPeer = Symbol();
var Client = class extends Composer {
  #clients = new Array();
  #downloadPools = {};
  #uploadPools = {};
  #guaranteeUpdateDelivery;
  #accountManager;
  #botInfoManager;
  #businessConnectionManager;
  #fileManager;
  #networkStatisticsManager;
  #paymentManager;
  #reactionManager;
  #translationsManager;
  #updateManager;
  #messageManager;
  #videoChatManager;
  #callbackQueryManager;
  #chatListManager;
  #chatManager;
  #forumManager;
  #giftManager;
  #inlineQueryManager;
  #linkPreviewManager;
  #pollManager;
  #storyManager;
  #managers;
  get managers() {
    return this.#managers ?? (this.#managers ??= {
      accountManager: this.#accountManager,
      botInfoManager: this.#botInfoManager,
      businessConnectionManager: this.#businessConnectionManager,
      fileManager: this.#fileManager,
      networkStatisticsManager: this.#networkStatisticsManager,
      paymentManager: this.#paymentManager,
      reactionManager: this.#reactionManager,
      translationsManager: this.#translationsManager,
      updateManager: this.#updateManager,
      messageManager: this.#messageManager,
      videoChatManager: this.#videoChatManager,
      callbackQueryManager: this.#callbackQueryManager,
      chatListManager: this.#chatListManager,
      chatManager: this.#chatManager,
      forumManager: this.#forumManager,
      giftManager: this.#giftManager,
      inlineQueryManager: this.#inlineQueryManager,
      linkPreviewManager: this.#linkPreviewManager,
      pollManager: this.#pollManager,
      storyManager: this.#storyManager
    });
  }
  #storage_;
  #messageStorage_;
  storage;
  messageStorage;
  #parseMode;
  #apiId;
  #apiHash;
  #transportProvider;
  appVersion;
  deviceModel;
  language;
  platform;
  systemLangCode;
  systemVersion;
  #publicKeys;
  #outgoingMessages;
  #persistCache;
  #disableUpdates;
  #authString;
  #initialDc;
  #L;
  #LsignIn;
  #LupdateGapRecoveryLoop;
  #LstorageWriteLoop;
  #LhandleMigrationError;
  #Lmin;
  constructor(params) {
    super();
    this.#apiId = params?.apiId ?? 0;
    this.#apiHash = params?.apiHash ?? "";
    this.#transportProvider = params?.transportProvider;
    this.#initialDc = params?.initialDc ?? INITIAL_DC;
    this.#storage_ = params?.storage || new StorageMemory();
    this.#persistCache = params?.persistCache ?? false;
    if (!this.#persistCache) {
      this.#messageStorage_ = new StorageMemory();
    } else {
      this.#messageStorage_ = this.#storage_;
    }
    this.storage = new StorageOperations(this.#storage_);
    this.messageStorage = new StorageOperations(this.#messageStorage_);
    this.#parseMode = params?.parseMode ?? null;
    this.#disableUpdates = params?.disableUpdates ?? false;
    this.#authString = params?.authString;
    this.appVersion = params?.appVersion ?? APP_VERSION;
    this.deviceModel = params?.deviceModel ?? DEVICE_MODEL;
    this.language = params?.language ?? LANG_CODE;
    this.platform = params?.platform ?? LANG_PACK;
    this.systemLangCode = params?.systemLangCode ?? SYSTEM_LANG_CODE;
    this.systemVersion = params?.systemVersion ?? SYSTEM_VERSION;
    this.#publicKeys = params?.publicKeys;
    this.#outgoingMessages = params?.outgoingMessages ?? false;
    this.#guaranteeUpdateDelivery = params?.guaranteeUpdateDelivery ?? false;
    const L5 = this.#L = getLogger("Client").client(id4++);
    this.#LsignIn = L5.branch("signIn");
    this.#LupdateGapRecoveryLoop = L5.branch("updateGapRecoveryLoop");
    this.#LstorageWriteLoop = L5.branch("storageWriteLoop");
    this.#LhandleMigrationError = L5.branch("[handleMigrationError]");
    this.#Lmin = L5.branch("min");
    const c = {
      id: id4,
      getUploadPoolSize: this.#getUploadPoolSize.bind(this),
      invoke: async (function_, params2) => {
        if (params2?.businessConnectionId) {
          if (mtproto_exports.is("ping", function_)) {
            unreachable();
          }
          return await this.invoke({ _: "invokeWithBusinessConnection", connection_id: params2.businessConnectionId, query: function_ }, params2);
        } else {
          return await this.invoke(function_, params2);
        }
      },
      storage: this.storage,
      messageStorage: this.messageStorage,
      guaranteeUpdateDelivery: this.#guaranteeUpdateDelivery,
      setConnectionState: this.#propagateConnectionState.bind(this),
      resetConnectionState: () => this.#stateChangeHandler(this.connected),
      getSelfId: this.#getSelfId.bind(this),
      getIsPremium: this.#getIsPremium.bind(this),
      getInputPeer: this.getInputPeer.bind(this),
      getInputChannel: this.getInputChannel.bind(this),
      getInputUser: this.getInputUser.bind(this),
      getInputPeerChatId: this.#getInputPeerChatId.bind(this),
      getPeer: this[mustGetPeer].bind(this),
      handleUpdate: this.#queueHandleCtxUpdate.bind(this),
      parseMode: this.#parseMode,
      outgoingMessages: this.#outgoingMessages,
      dropPendingUpdates: params?.dropPendingUpdates,
      disconnected: () => this.disconnected,
      langPack: this.platform,
      langCode: this.language
    };
    this.#accountManager = new AccountManager(c);
    this.#botInfoManager = new BotInfoManager(c);
    this.#businessConnectionManager = new BusinessConnectionManager(c);
    const fileManager = this.#fileManager = new FileManager(c);
    this.#networkStatisticsManager = new NetworkStatisticsManager(c);
    this.#paymentManager = new PaymentManager(c);
    this.#reactionManager = new ReactionManager(c);
    this.#translationsManager = new TranslationsManager(c);
    this.#updateManager = new UpdateManager(c);
    const messageManager = this.#messageManager = new MessageManager({ ...c, fileManager });
    this.#videoChatManager = new VideoChatManager({ ...c, fileManager });
    this.#callbackQueryManager = new CallbackQueryManager({ ...c, messageManager });
    this.#chatListManager = new ChatListManager({ ...c, fileManager, messageManager });
    this.#chatManager = new ChatManager({ ...c, fileManager, messageManager });
    this.#forumManager = new ForumManager({ ...c, messageManager });
    this.#giftManager = new GiftManager({ ...c, messageManager });
    this.#inlineQueryManager = new InlineQueryManager({ ...c, messageManager });
    this.#linkPreviewManager = new LinkPreviewManager({ ...c, messageManager });
    this.#pollManager = new PollManager({ ...c, messageManager });
    this.#storyManager = new StoryManager({ ...c, fileManager, messageManager });
    this.#updateManager.setUpdateHandler(this.#handleUpdate.bind(this));
    if (params?.defaultHandlers ?? true) {
      this.invoke.use(async ({ error }, next) => {
        if (error instanceof FloodWait && error.seconds <= 10) {
          L5.warning("sleeping for", error.seconds, "because of:", error);
          await delay(error.seconds * SECOND);
          return true;
        } else {
          return next();
        }
      });
    }
  }
  #setMainClient(client) {
    this.#disconnectAllClients();
    this.#clients = [client];
    client.handlers.onUpdate = (updates) => {
      this.#updateManager.processUpdates(updates, true, null);
      this.#lastUpdates = /* @__PURE__ */ new Date();
    };
    client.handlers.onDeserializationError = async () => {
      await this.#updateManager.recoverUpdateGap("deserialization error");
    };
    client.handlers.onNewServerSalt = async (serverSalt) => {
      await this.storage.setServerSalt(serverSalt);
    };
    client.onConnectionStateChange = this.#onConnectionStateChange.bind(this);
  }
  #newClient(dc, main, cdn) {
    const client = new ClientEncrypted(dc, this.#apiId, {
      appVersion: this.appVersion,
      deviceModel: this.deviceModel,
      langCode: this.language,
      langPack: this.platform,
      systemLangCode: this.systemLangCode,
      systemVersion: this.systemVersion,
      transportProvider: this.#transportProvider,
      cdn,
      disableUpdates: !main || cdn,
      publicKeys: this.#publicKeys
    });
    client.connectionCallback = this.#networkStatisticsManager.getTransportReadWriteCallback(cdn);
    return client;
  }
  #disconnectAllClients() {
    for (const client of this.#clients) {
      client.disconnect();
    }
    for (const pool of Object.values(this.#downloadPools)) {
      pool.disconnect();
    }
    for (const pool of Object.values(this.#uploadPools)) {
      pool.disconnect();
    }
  }
  get #client() {
    return this.#clients[0];
  }
  get connected() {
    return this.#client?.connected ?? false;
  }
  get disconnected() {
    return this.#client?.disconnected ?? true;
  }
  #propagateConnectionState(connectionState) {
    this.#queueHandleCtxUpdate({ connectionState });
    this.#lastPropagatedConnectionState = connectionState;
  }
  #lastPropagatedConnectionState = null;
  #stateChangeHandler = ((connected) => {
    const connectionState = connected ? "ready" : "notConnected";
    if (this.#lastPropagatedConnectionState !== connectionState) {
      this.#propagateConnectionState(connectionState);
    }
  }).bind(this);
  #storageInited = false;
  async #initStorage() {
    if (!this.#storageInited) {
      await this.storage.initialize();
      if (!this.#guaranteeUpdateDelivery) {
        await this.storage.deleteUpdates();
        await this.storage.commit(true);
      }
      this.#storageInited = true;
    }
  }
  #connectMutex = new Mutex();
  async connect() {
    const unlock = await this.#connectMutex.lock();
    try {
      if (this.connected) {
        return;
      }
      await this.#initStorage();
      if (this.#authString && !this.#authStringImported) {
        await this.importAuthString(this.#authString);
      }
      const auth = this.storage.auth.mustGet();
      if (auth.authKey !== null && auth.dc !== null) {
        if (!this.#client || this.#client.dc !== auth.dc) {
          this.#client?.disconnect();
          this.#setMainClient(this.#newClient(auth.dc, true, false));
        }
        await this.#client.setAuthKey(auth.authKey);
        if (this.#client.serverSalt === 0n) {
          this.#client.serverSalt = await this.storage.getServerSalt() ?? 0n;
        }
      } else {
        const dc = auth.dc ?? this.#initialDc;
        if (!this.#client || this.#client.dc !== dc) {
          this.#client?.disconnect();
          this.#setMainClient(this.#newClient(dc, true, false));
        }
      }
      await this.#client.connect();
      await this.storage.auth.update((v) => {
        v.authKey = this.#client.authKey;
        v.dc = this.#client.dc;
      });
      await this.storage.setServerSalt(this.#client.serverSalt);
      this.#updateGapRecoveryLoop.start();
      this.#clientDisconnectionLoop.start();
      if (!this.#messageStorage_.isMemory) {
        this.#storageWriteLoop.start();
      } else {
        this.#L.debug("not starting storageWriteLoop");
      }
      await this.storage.commit(true);
    } finally {
      unlock();
    }
  }
  async [handleMigrationError](err) {
    let newDc = String(err.dc);
    if (Math.abs(getDcId(this.#client.dc, this.#client.cdn)) >= 1e4) {
      newDc += "-test";
    }
    this.disconnect();
    await this.storage.auth.update((v) => {
      v.authKey = null;
      v.dc = newDc;
    });
    await this.connect();
    this.#LhandleMigrationError.debug(`migrated to DC${newDc}`);
  }
  async disconnect() {
    this.#disconnectAllClients();
    this.#clientDisconnectionLoop.abort();
    this.#updateGapRecoveryLoop.abort();
    this.#storageWriteLoop.abort();
    this.#updateManager.closeAllChats();
    await this.messageStorage.commit(true);
  }
  #lastPropagatedAuthorizationState = null;
  async #propagateAuthorizationState(authorized) {
    if (this.#lastPropagatedAuthorizationState !== authorized) {
      await this.#handleCtxUpdate({ authorizationState: { isAuthorized: authorized } });
      this.#lastPropagatedAuthorizationState = authorized;
    }
  }
  async #getSelfId() {
    const id5 = await this.storage.getAccountId();
    if (id5 === null) {
      throw new Error("Unauthorized");
    }
    return id5;
  }
  async #getIsPremium() {
    const maybeIsPremium = await this.storage.getIsPremium();
    if (maybeIsPremium !== null) {
      return maybeIsPremium;
    }
    return this.#lastGetMe?.isPremium ?? false;
  }
  #lastUpdates = /* @__PURE__ */ new Date();
  #updateGapRecoveryLoop = new AbortableLoop(async (loop, signal) => {
    await delay(60 * SECOND, { signal });
    if (!this.connected) {
      loop.abort();
      return;
    }
    if (Date.now() - this.#lastUpdates.getTime() >= 15 * MINUTE) {
      drop(
        this.#updateManager.recoverUpdateGap("lastUpdates").then(() => {
          this.#lastUpdates = /* @__PURE__ */ new Date();
        })
      );
    }
  }, (loop, err) => {
    if (!this.connected) {
      loop.abort();
    } else {
      this.#LupdateGapRecoveryLoop.error(err);
    }
  });
  #clientDisconnectionLoop = new AbortableLoop(async (loop, signal) => {
    await delay(60 * SECOND, { signal });
    if (!this.connected) {
      loop.abort();
      return;
    }
    const now = Date.now();
    const disconnectAfter = 5 * MINUTE;
    for (const [i, client] of this.#clients.entries()) {
      if (i > 0 && !client.disconnected && client.lastRequest && now - client.lastRequest.getTime() >= disconnectAfter) {
        client?.disconnect();
      }
    }
  }, (loop) => {
    if (!this.connected) {
      loop.abort();
    }
  });
  #storageWriteLoop = new AbortableLoop(async (_loop, signal) => {
    await delay(60 * SECOND, { signal });
    await this.messageStorage.commit();
    await this.storage.commit();
  }, (err) => {
    this.#LstorageWriteLoop.error(err);
  });
  async #checkAuthorization() {
    if (this.#lastGetMe) {
      return this.#lastGetMe;
    }
    try {
      await this.#updateManager.fetchState("#checkAuthorization");
      const me = await this.#getMe();
      await this.#propagateAuthorizationState(true);
      drop(this.#updateManager.recoverUpdateGap("#checkAuthorization"));
      return me;
    } catch (err) {
      if (!(err instanceof AuthKeyUnregistered) && !(err instanceof SessionRevoked)) {
        throw err;
      }
    }
  }
  async sendCode(phoneNumber) {
    const me = await this.#checkAuthorization();
    if (me) {
      return;
    }
    try {
      await this.#accountManager.sendCode(phoneNumber, this.#apiId, this.#apiHash);
    } catch (err) {
      if (err instanceof Migrate) {
        await this[handleMigrationError](err);
        await this.#accountManager.sendCode(phoneNumber, this.#apiId, this.#apiHash);
      } else {
        throw err;
      }
    }
  }
  async checkCode(code) {
    const result = await this.#accountManager.checkCode(code);
    if (result.type === "signed_in") {
      await this.storage.auth.update((v) => {
        v.userId = result.userId;
        v.isBot = false;
      });
      this.#LsignIn.debug("signed in as user");
      await this.#propagateAuthorizationState(true);
      await this.#updateManager.fetchState("checkCode");
    }
    return result;
  }
  async getPasswordHint() {
    return await this.#accountManager.getPasswordHint();
  }
  async checkPassword(password) {
    const result = await this.#accountManager.checkPassword(password);
    if (result.type === "signed_in") {
      await this.storage.auth.update((v) => {
        v.userId = result.userId;
        v.isBot = false;
      });
      await this.storage.commit(true);
      this.#LsignIn.debug("signed in as user");
      await this.#propagateAuthorizationState(true);
      await this.#updateManager.fetchState("checkPassword");
    }
    return result;
  }
  async checkBotToken(botToken) {
    const me = await this.#checkAuthorization();
    if (me) {
      return {
        type: "signed_in",
        userId: me.id
      };
    }
    while (true) {
      try {
        const result = await this.#accountManager.checkBotToken(botToken, this.#apiId, this.#apiHash);
        if (result.type === "signed_in") {
          await this.storage.auth.update((v) => {
            v.userId = result.userId;
            v.isBot = true;
          });
          await this.storage.commit(true);
          this.#LsignIn.debug("signed in as bot");
          await this.#propagateAuthorizationState(true);
          await this.#updateManager.fetchState("checkBotToken");
        }
        return result;
      } catch (err) {
        if (err instanceof Migrate) {
          await this[handleMigrationError](err);
          continue;
        } else {
          throw err;
        }
      }
    }
  }
  async signIn(params) {
    await signIn(this, this.#LsignIn, params);
  }
  async signOut() {
    try {
      await Promise.all([
        this.storage.reset(),
        this.invoke({ _: "auth.logOut" }).then(() => {
          this.#propagateAuthorizationState(false);
        })
      ]);
    } finally {
      this.#lastGetMe = null;
      this.disconnect();
      await this.connect();
    }
  }
  async start(params) {
    await this.connect();
    await this.signIn(params);
  }
  async #getClient(params) {
    let client;
    switch (params.type) {
      case void 0:
        client = await this.#getMainClient(params.dc);
        break;
      case "download":
        client = await this.#getDownloadClient(params.dc);
        break;
      case "upload":
        client = await this.#getUploadClient();
        break;
    }
    if (client !== this.#client && !this.disconnected && client.disconnected) {
      await client.connect();
    }
    return client;
  }
  #getMainClientMutex = new Mutex();
  async #getMainClient(dc) {
    if (dc === void 0 || dc === this.#client?.dc) {
      return this.#client;
    }
    let client = this.#clients.find((v) => v.dc === dc);
    if (client) {
      return client;
    }
    const unlock = await this.#getMainClientMutex.lock();
    client = this.#clients.find((v) => v.dc === dc);
    if (client) {
      return client;
    }
    try {
      client = this.#newClient(dc, false, false);
      await this.#setupClient(client);
      this.#clients.push(client);
      return client;
    } finally {
      unlock();
    }
  }
  async #getDownloadClient(dc) {
    dc ??= this.#client.dc;
    const pool = this.#downloadPools[dc] ??= new ClientEncryptedPool();
    if (!pool.size) {
      if (!pool.size) {
        for (let i = 0; i < DOWNLOAD_POOL_SIZE; ++i) {
          pool.add(this.#newClient(dc, false, true));
        }
      }
    }
    const client = pool.nextClient();
    if (client.authKey.length) {
      return client;
    }
    await this.#setupClient(client);
    return client;
  }
  async #getUploadPoolSize() {
    const dc = this.#client.dc;
    return dc !== "2" && dc !== "4" || await this.#getIsPremium() ? 8 : 4;
  }
  async #getUploadClient() {
    const dc = this.#client.dc;
    const poolSize = await this.#getUploadPoolSize();
    const pool = this.#uploadPools[dc] ??= new ClientEncryptedPool();
    if (!pool.size) {
      for (let i = 0; i < poolSize; ++i) {
        pool.add(await this.#newClient(dc, false, true));
      }
    }
    const client = pool.nextClient();
    if (client.authKey.length) {
      return client;
    }
    await this.#setupClient(client);
    return client;
  }
  async #setupClient(client) {
    const storage = client.dc === this.#client.dc ? this.storage : new StorageOperations(this.storage.provider.branch(client.dc + (client.cdn ? "_cdn" : "")));
    await storage.initialize();
    const auth = storage.auth.mustGet();
    const serverSalt = await storage.getServerSalt();
    if (auth.authKey !== null) {
      await client.setAuthKey(auth.authKey);
      if (serverSalt) {
        client.serverSalt = serverSalt;
      }
    }
    await client.connect();
    if (auth.authKey === null) {
      await this.#importAuthorization(client);
    }
    await storage.auth.update((v) => v.authKey = client.authKey);
    if (client.dc !== this.#client.dc) {
      await storage.setServerSalt(client.serverSalt);
      client.handlers.onNewServerSalt = async (serverSalt2) => {
        await storage.setServerSalt(serverSalt2);
      };
    }
  }
  async #importAuthorization(client) {
    if (this.#client.dc === client.dc && this.#client.cdn === client.cdn) {
      const auth = this.storage.auth.mustGet();
      const serverSalt = await this.storage.getServerSalt();
      if (auth.authKey !== null) {
        await client.setAuthKey(auth.authKey);
        if (serverSalt) {
          client.serverSalt = serverSalt;
        }
      }
      return;
    }
    const exportedAuthorization = await this.#client.invoke({ _: "auth.exportAuthorization", dc_id: getDcId(client.dc, client.cdn) });
    await client.invoke({ ...exportedAuthorization, _: "auth.importAuthorization" });
  }
  async #invoke(function_, params) {
    if (!this.#client) {
      throw new ConnectionError("The connection is not open.");
    }
    let n = 1;
    let client;
    while (true) {
      client = params ? await this.#getClient(params) : this.#client;
      const main = client === this.#client;
      try {
        const result = await client.invoke(function_);
        if (main) {
          try {
            await this.#updateManager.processResult(result);
          } catch (err) {
            this.#L.error("failed to process result:", err);
          }
          if (telegram_exports.isOfEnum("Update", result) || telegram_exports.isOfEnum("Updates", result)) {
            return new Promise((resolve) => {
              this.#updateManager.processUpdates(result, true, mtproto_exports.is("ping", function_) ? null : function_, () => resolve(result));
            });
          }
        }
        return result;
      } catch (err) {
        if (err instanceof AuthKeyUnregistered && !main) {
          await this.#importAuthorization(client);
          continue;
        } else if (err instanceof ConnectionError && !main && !this.disconnected) {
          continue;
        } else if (await this.#handleInvokeError(Object.freeze({ client: this, error: err, function: function_, n: n++ }), () => Promise.resolve(false))) {
          continue;
        } else {
          throw err;
        }
      }
    }
  }
  #handleInvokeError = skipInvoke();
  invoke = Object.assign(
    this.#invoke,
    {
      use: (handler) => {
        const handle = this.#handleInvokeError;
        this.#handleInvokeError = async (ctx, next) => {
          let result = null;
          return await handle(ctx, async () => {
            if (result !== null)
              return result;
            result = await handler(ctx, next);
            return result;
          });
        };
      }
    }
  );
  exportAuthString() {
    return this.storage.exportAuthString(this.#apiId);
  }
  #authStringImported = false;
  async importAuthString(authString) {
    if (this.connected) {
      throw new Error("Cannot import auth string while the client is connected");
    }
    await this.#initStorage();
    await this.storage.importAuthString(authString);
    this.#authStringImported = true;
    if (!this.#apiId) {
      this.#apiId = this.storage.auth.mustGet().apiId;
    }
  }
  async #getUserAccessHash(userId) {
    const users = await this.invoke({ _: "users.getUsers", id: [{ _: "inputUser", user_id: userId, access_hash: 0n }] });
    const user = telegram_exports.is("user", users[0]) ? users[0] : void 0;
    return user?.access_hash ?? 0n;
  }
  async #getChannelAccessHash(channelId) {
    const channels = await this.invoke({ _: "channels.getChannels", id: [{ _: "inputChannel", channel_id: channelId, access_hash: 0n }] });
    const channel = telegram_exports.is("channel", channels.chats[0]) ? channels.chats[0] : void 0;
    return channel?.access_hash ?? 0n;
  }
  async getInputPeer(id5) {
    if (id5 === "me" || id5 === await this.#getSelfId()) {
      return { _: "inputPeerSelf" };
    }
    const inputPeer = await this.#getInputPeerInner(id5);
    if ((telegram_exports.is("inputPeerUser", inputPeer) || telegram_exports.is("inputPeerChannel", inputPeer)) && inputPeer.access_hash === 0n && this.storage.isBot) {
      if ("channel_id" in inputPeer) {
        inputPeer.access_hash = await this.#getChannelAccessHash(inputPeer.channel_id);
      } else {
        inputPeer.access_hash = await this.#getUserAccessHash(inputPeer.user_id);
      }
    }
    if ((telegram_exports.is("inputPeerUser", inputPeer) || telegram_exports.is("inputPeerChannel", inputPeer)) && inputPeer.access_hash === 0n) {
      throw new AccessError(`The chat ${id5} cannot be accessed.`);
    }
    return inputPeer;
  }
  async #getInputPeerChatId(inputPeer) {
    if (telegram_exports.isOneOf(["inputPeerSelf", "inputUserSelf"], inputPeer)) {
      return await this.#getSelfId();
    } else if (telegram_exports.isOneOf(["inputPeerEmpty", "inputUserEmpty", "inputChannelEmpty"], inputPeer)) {
      unreachable();
    } else {
      return telegram_exports.peerToChatId(inputPeer);
    }
  }
  async getInputChannel(id5) {
    const inputPeer = await this.getInputPeer(id5);
    if (!canBeInputChannel(inputPeer)) {
      throw new TypeError(`The chat ${id5} is not a channel neither a supergroup.`);
    }
    return toInputChannel(inputPeer);
  }
  async getInputUser(id5) {
    const inputPeer = await this.getInputPeer(id5);
    if (!canBeInputUser(inputPeer)) {
      throw new TypeError(`The chat ${id5} is not a private chat.`);
    }
    return toInputUser(inputPeer);
  }
  async #getInputPeerInner(id5) {
    const idn = Number(id5);
    if (!isNaN(idn)) {
      id5 = idn;
    }
    let peer;
    if (typeof id5 === "string") {
      id5 = getUsername(id5);
      let resolvedId = 0;
      const maybeUsername = await this.messageStorage.usernames.get([id5]);
      if (maybeUsername !== null && Date.now() - maybeUsername[1].getTime() < USERNAME_TTL) {
        const [id6] = maybeUsername;
        resolvedId = id6;
      } else {
        const resolved = await this.invoke({ _: "contacts.resolveUsername", username: id5 });
        this.#updateManager.processChats(resolved.chats, resolved);
        this.#updateManager.processUsers(resolved.users, resolved);
        if (telegram_exports.is("peerUser", resolved.peer)) {
          resolvedId = telegram_exports.peerToChatId(resolved.peer);
        } else if (telegram_exports.is("peerChannel", resolved.peer)) {
          resolvedId = telegram_exports.peerToChatId(resolved.peer);
        } else {
          unreachable();
        }
      }
      const resolvedIdType = telegram_exports.getChatIdPeerType(resolvedId);
      if (resolvedIdType === "user") {
        const accessHash = await this.messageStorage.getUserAccessHash(resolvedId);
        peer = { _: "inputPeerUser", user_id: telegram_exports.chatIdToPeerId(resolvedId), access_hash: accessHash ?? 0n };
      } else if (resolvedIdType === "channel") {
        const accessHash = await this.messageStorage.getChannelAccessHash(resolvedId);
        peer = { _: "inputPeerChannel", channel_id: telegram_exports.chatIdToPeerId(resolvedId), access_hash: accessHash ?? 0n };
      } else {
        unreachable();
      }
    } else if (id5 > 0) {
      const accessHash = await this.messageStorage.getUserAccessHash(id5);
      peer = { _: "inputPeerUser", user_id: telegram_exports.chatIdToPeerId(id5), access_hash: accessHash ?? 0n };
    } else if (-MAX_CHAT_ID <= id5) {
      peer = { _: "inputPeerChat", chat_id: BigInt(Math.abs(id5)) };
    } else if (ZERO_CHANNEL_ID - MAX_CHANNEL_ID <= id5 && id5 !== ZERO_CHANNEL_ID) {
      const accessHash = await this.messageStorage.getChannelAccessHash(id5);
      peer = { _: "inputPeerChannel", channel_id: telegram_exports.chatIdToPeerId(id5), access_hash: accessHash ?? 0n };
    } else {
      throw new InputError("The ID is of an format unknown.");
    }
    if (!telegram_exports.is("inputPeerChat", peer) && !peer.access_hash) {
    }
    return peer;
  }
  async #getMinInputPeer(type, reference) {
    const peer_ = await this.messageStorage.peers.get([reference.chatId]);
    if (peer_ !== null && (peer_[0].type === "channel" || peer_[0].type === "supergroup")) {
      const peer = { _: "inputPeerChannel", channel_id: BigInt(peer_[0].id), access_hash: peer_[1] };
      if (type === "user") {
        return { _: "inputPeerUserFromMessage", peer, msg_id: reference.messageId, user_id: telegram_exports.chatIdToPeerId(reference.senderId) };
      } else {
        return { _: "inputPeerChannelFromMessage", peer, msg_id: reference.messageId, channel_id: telegram_exports.chatIdToPeerId(reference.senderId) };
      }
    } else {
      return null;
    }
  }
  async [getPeer](peer) {
    const id5 = telegram_exports.peerToChatId(peer);
    const entity = await this.messageStorage.peers.get([id5]);
    if (entity === null) {
      if (entity === null && this.storage.isBot && telegram_exports.is("peerUser", peer) || telegram_exports.is("peerChannel", peer)) {
        await this.getInputPeer(id5);
      } else {
        return entity;
      }
    }
    return await this.messageStorage.peers.get([id5]);
  }
  [mustGetPeer](peer) {
    return this.messageStorage.peers.mustGet([peerToChatId(peer)]);
  }
  async #handleCtxUpdate(update) {
    if (this.#disableUpdates && !("authorizationState" in update) && !("connectionState" in update)) {
      return;
    }
    try {
      await this.handleUpdate(this, update);
    } catch (err) {
      this.#L.error("Failed to handle update:", err);
      throw err;
    }
  }
  #queueHandleCtxUpdate(update) {
    this.#updateManager.getHandleUpdateQueue(UpdateManager.MAIN_BOX_ID).add(async () => {
      await this.#handleCtxUpdate(update);
    });
  }
  async #handleUpdate(update) {
    const maybePromises = new Array();
    if (telegram_exports.is("updateUserName", update)) {
      const value = [Number(update.user_id), /* @__PURE__ */ new Date()];
      for (const username_ of update.usernames) {
        const username = username_.username.toLowerCase();
        this.messageStorage.usernames.set([username], value);
      }
      const peer = { ...update, _: "peerUser" };
      const peer_ = await this[getPeer](peer);
      if (peer_ !== null) {
        const username = update.usernames[0];
        if (username !== void 0) {
          peer_[0].username = username.username;
          const also = update.usernames.filter((v) => v !== username);
          if (also.length) {
            peer_[0].also = also.map((v) => v.username);
          } else {
            delete peer_[0].also;
          }
        } else {
          delete peer_[0].username;
        }
        this.messageStorage.setPeer2(peer_[0], peer_[1]);
      }
    }
    if (this.#messageManager.canHandleUpdate(update)) {
      maybePromises.push(() => this.#messageManager.handleUpdate(update));
    }
    if (this.#chatManager.canHandleUpdate(update)) {
      maybePromises.push(() => this.#chatManager.handleUpdate(update));
    }
    if (this.#pollManager.canHandleUpdate(update)) {
      maybePromises.push(() => this.#pollManager.handleUpdate(update));
    }
    if (this.#videoChatManager.canHandleUpdate(update)) {
      maybePromises.push(() => this.#videoChatManager.handleUpdate(update));
    }
    if (this.#callbackQueryManager.canHandleUpdate(update)) {
      maybePromises.push(() => this.#callbackQueryManager.handleUpdate(update));
    }
    if (this.#inlineQueryManager.canHandleUpdate(update)) {
      maybePromises.push(() => this.#inlineQueryManager.handleUpdate(update));
    }
    if (this.#linkPreviewManager.canHandleUpdate(update)) {
      maybePromises.push(() => this.#linkPreviewManager.handleUpdate(update));
    }
    if (this.#reactionManager.canHandleUpdate(update)) {
      maybePromises.push(() => this.#reactionManager.handleUpdate(update));
    }
    if (this.#chatListManager.canHandleUpdate(update)) {
      maybePromises.push(() => this.#chatListManager.handleUpdate(update));
    }
    if (this.#storyManager.canHandleUpdate(update)) {
      maybePromises.push(() => this.#storyManager.handleUpdate(update));
    }
    if (this.#businessConnectionManager.canHandleUpdate(update)) {
      maybePromises.push(() => this.#businessConnectionManager.handleUpdate(update));
    }
    if (this.#storyManager.canHandleUpdate(update)) {
      maybePromises.push(() => this.#storyManager.handleUpdate(update));
    }
    if (this.#paymentManager.canHandleUpdate(update)) {
      maybePromises.push(() => this.#paymentManager.handleUpdate(update));
    }
    if (this.#translationsManager.canHandleUpdate(update)) {
      maybePromises.push(() => this.#translationsManager.handleUpdate(update));
    }
    return () => Promise.resolve().then(async () => {
      const updates = [{ update }];
      for (const maybePromise of maybePromises) {
        try {
          const value = maybePromise();
          const update2 = value instanceof Promise ? await value : value;
          if (update2) {
            updates.push(update2);
          }
        } catch (err) {
          this.#L.error("failed to construct update:", err);
        }
      }
      for (const update2 of updates) {
        try {
          await this.#handleCtxUpdate(update2);
        } finally {
          if ("deletedMessages" in update2) {
            for (const { chatId, messageId } of update2.deletedMessages) {
              await this.messageStorage.setMessage(chatId, messageId, null);
            }
          }
        }
      }
    });
  }
  #lastGetMe = null;
  async #getMe() {
    if (this.#lastGetMe !== null) {
      return this.#lastGetMe;
    } else {
      const user = await this.#getMeInner();
      this.#lastGetMe = user;
      return user;
    }
  }
  async #getMeInner() {
    let chatP = (await this[getPeer]({ _: "peerUser", user_id: BigInt(await this.#getSelfId()) }))?.[0] ?? null;
    if (chatP === null) {
      const users = await this.invoke({ _: "users.getUsers", id: [{ _: "inputUserSelf" }] });
      chatP = constructChatP(telegram_exports.as("user", users[0]));
      await this.storage.setIsPremium(chatP.isPremium);
    }
    const user = constructUser2(chatP);
    this.#lastGetMe = user;
    return user;
  }
  #previouslyConnected = false;
  #lastConnectionState = false;
  #onConnectionStateChange(connected) {
    if (this.#lastConnectionState !== connected) {
      if (connected) {
        if (this.#previouslyConnected) {
          drop(this.#updateManager.recoverUpdateGap("reconnect"));
        }
        this.#previouslyConnected = true;
      }
      const connectionState = connected ? "ready" : "notConnected";
      this.#queueHandleCtxUpdate({ connectionState });
    }
  }
  async getMe() {
    if (this.#lastGetMe === null) {
      const me = await this.#checkAuthorization();
      if (!me) {
        throw new InputError("Not signed in.");
      } else {
        return me;
      }
    }
    return await this.#getMeInner();
  }
  async showUsername(id5, username) {
    await this.#accountManager.showUsername(id5, username);
  }
  async hideUsername(id5, username) {
    await this.#accountManager.hideUsername(id5, username);
  }
  async reorderUsernames(id5, order) {
    return await this.#accountManager.reorderUsernames(id5, order);
  }
  async hideUsernames(id5) {
    return await this.#accountManager.hideUsernames(id5);
  }
  async getBusinessConnection(id5) {
    return await this.#businessConnectionManager.getBusinessConnection(id5);
  }
  async setOnline(online) {
    await this.#accountManager.setOnline(online);
  }
  async setEmojiStatus(id5, params) {
    await this.#accountManager.setEmojiStatus(id5, params);
  }
  async setUserEmojiStatus(userId, id5, params) {
    await this.#accountManager.setUserEmojiStatus(userId, id5, params);
  }
  async updateProfile(params) {
    await this.#accountManager.updateProfile(params);
  }
  async setBirthday(params) {
    await this.#accountManager.setBirthday(params);
  }
  async setPersonalChannel(params) {
    await this.#accountManager.setPersonalChannel(params);
  }
  async setNameColor(color, params) {
    await this.#accountManager.setNameColor(color, params);
  }
  async setProfileColor(color, params) {
    await this.#accountManager.setProfileColor(color, params);
  }
  async setLocation(params) {
    await this.#accountManager.setLocation(params);
  }
  async sendMessage(chatId, text, params) {
    return await this.#messageManager.sendMessage(chatId, text, params);
  }
  async sendPhoto(chatId, photo, params) {
    return await this.#messageManager.sendPhoto(chatId, photo, params);
  }
  async sendDocument(chatId, document, params) {
    return await this.#messageManager.sendDocument(chatId, document, params);
  }
  async sendSticker(chatId, sticker, params) {
    return await this.#messageManager.sendSticker(chatId, sticker, params);
  }
  async sendVideo(chatId, video, params) {
    return await this.#messageManager.sendVideo(chatId, video, params);
  }
  async sendAnimation(chatId, animation, params) {
    return await this.#messageManager.sendAnimation(chatId, animation, params);
  }
  async sendVoice(chatId, voice, params) {
    return await this.#messageManager.sendVoice(chatId, voice, params);
  }
  async sendAudio(chatId, audio, params) {
    return await this.#messageManager.sendAudio(chatId, audio, params);
  }
  async sendMediaGroup(chatId, media, params) {
    return await this.#messageManager.sendMediaGroup(chatId, media, params);
  }
  async sendVideoNote(chatId, videoNote, params) {
    return await this.#messageManager.sendVideoNote(chatId, videoNote, params);
  }
  async sendLocation(chatId, latitude, longitude, params) {
    return await this.#messageManager.sendLocation(chatId, latitude, longitude, params);
  }
  async sendContact(chatId, firstName, number, params) {
    return await this.#messageManager.sendContact(chatId, firstName, number, params);
  }
  async sendDice(chatId, params) {
    return await this.#messageManager.sendDice(chatId, params);
  }
  async sendVenue(chatId, latitude, longitude, title, address, params) {
    return await this.#messageManager.sendVenue(chatId, latitude, longitude, title, address, params);
  }
  async sendPoll(chatId, question, options, params) {
    return await this.#messageManager.sendPoll(chatId, question, options, params);
  }
  async sendInvoice(chatId, title, description, payload, currency, prices, params) {
    return await this.#messageManager.sendInvoice(chatId, title, description, payload, currency, prices, params);
  }
  async editMessageText(chatId, messageId, text, params) {
    return await this.#messageManager.editMessageText(chatId, messageId, text, params);
  }
  async editMessageCaption(chatId, messageId, params) {
    return await this.#messageManager.editMessageCaption(chatId, messageId, params);
  }
  async editMessageMedia(chatId, messageId, media, params) {
    return await this.#messageManager.editMessageMedia(chatId, messageId, media, params);
  }
  async editInlineMessageMedia(inlineMessageId, media, params) {
    await this.#messageManager.editInlineMessageMedia(inlineMessageId, media, params);
  }
  async editInlineMessageText(inlineMessageId, text, params) {
    await this.#messageManager.editInlineMessageText(inlineMessageId, text, params);
  }
  async editInlineMessageCaption(inlineMessageId, params) {
    await this.#messageManager.editInlineMessageCaption(inlineMessageId, params);
  }
  async editMessageReplyMarkup(chatId, messageId, params) {
    return await this.#messageManager.editMessageReplyMarkup(chatId, messageId, params);
  }
  async editInlineMessageReplyMarkup(inlineMessageId, params) {
    await this.#messageManager.editInlineMessageReplyMarkup(inlineMessageId, params);
  }
  async editMessageLiveLocation(chatId, messageId, latitude, longitude, params) {
    return await this.#messageManager.editMessageLiveLocation(chatId, messageId, latitude, longitude, params);
  }
  async editInlineMessageLiveLocation(inlineMessageId, latitude, longitude, params) {
    await this.#messageManager.editInlineMessageLiveLocation(inlineMessageId, latitude, longitude, params);
  }
  async getMessages(chatId, messageIds) {
    return await this.#messageManager.getMessages(chatId, messageIds);
  }
  async getMessage(chatId, messageId) {
    return await this.#messageManager.getMessage(chatId, messageId);
  }
  async resolveMessageLink(link) {
    return await this.#messageManager.resolveMessageLink(link);
  }
  async deleteMessages(chatId, messageIds, params) {
    await this.#messageManager.deleteMessages(chatId, messageIds, params);
  }
  async deleteMessage(chatId, messageId, params) {
    await this.#messageManager.deleteMessages(chatId, [messageId], params);
  }
  async deleteChatMemberMessages(chatId, memberId) {
    await this.#messageManager.deleteChatMemberMessages(chatId, memberId);
  }
  async deleteScheduledMessages(chatId, messageIds) {
    await this.#messageManager.deleteScheduledMessages(chatId, messageIds);
  }
  async deleteScheduledMessage(chatId, messageId) {
    await this.#messageManager.deleteScheduledMessage(chatId, messageId);
  }
  async sendScheduledMessages(chatId, messageIds) {
    return await this.#messageManager.sendScheduledMessages(chatId, messageIds);
  }
  async sendScheduledMessage(chatId, messageId) {
    return await this.#messageManager.sendScheduledMessage(chatId, messageId);
  }
  async pinMessage(chatId, messageId, params) {
    await this.#messageManager.pinMessage(chatId, messageId, params);
  }
  async unpinMessage(chatId, messageId, params) {
    await this.#messageManager.unpinMessage(chatId, messageId, params);
  }
  async unpinMessages(chatId) {
    await this.#messageManager.unpinMessages(chatId);
  }
  async forwardMessages(from, to, messageIds, params) {
    return await this.#messageManager.forwardMessages(from, to, messageIds, params);
  }
  async forwardMessage(from, to, messageId, params) {
    return (await this.forwardMessages(from, to, [messageId], params))[0];
  }
  async stopPoll(chatId, messageId, params) {
    return await this.#messageManager.stopPoll(chatId, messageId, params);
  }
  async sendChatAction(chatId, action, params) {
    await this.#messageManager.sendChatAction(chatId, action, params);
  }
  async searchMessages(params) {
    return await this.#messageManager.searchMessages(params);
  }
  async readMessages(chatId, untilMessageId) {
    await this.#messageManager.readMessages(chatId, untilMessageId);
  }
  async startBot(botId, params) {
    return await this.#messageManager.startBot(botId, params);
  }
  async transcribeVoice(chatId, messageId) {
    return await this.#messageManager.transcribeVoice(chatId, messageId);
  }
  async getStickerSet(name) {
    return await this.#messageManager.getStickerSet(name);
  }
  async getLinkPreview(text, params) {
    return await this.#linkPreviewManager.getLinkPreview(text, params);
  }
  async openMiniApp(botId, chatId, params) {
    return await this.#messageManager.openMiniApp(botId, chatId, params);
  }
  async getProgressId() {
    return await this.#fileManager.getProgressId();
  }
  async getSavedMessages(chatId, params) {
    return await this.#messageManager.getSavedMessages(chatId, params);
  }
  async getSavedChats(params) {
    return await this.#messageManager.getSavedChats(params);
  }
  async getMessageReactions(chatId, messageId, params) {
    return await this.#messageManager.getMessageReactions(chatId, messageId, params);
  }
  async vote(chatId, messageId, optionIndexes) {
    await this.#pollManager.vote(chatId, messageId, optionIndexes);
  }
  async retractVote(chatId, messageId) {
    await this.#pollManager.retractVote(chatId, messageId);
  }
  async downloadChunk(fileId, params) {
    const controller = new AbortController();
    for await (const chunk of this.#fileManager.download(fileId, { ...params, signal: controller.signal })) {
      controller.abort();
      return chunk;
    }
    unreachable();
  }
  async *download(fileId, params) {
    for await (const chunk of this.#fileManager.download(fileId, params)) {
      yield chunk;
    }
  }
  async getCustomEmojiStickers(id5) {
    return await this.#fileManager.getCustomEmojiStickers(id5);
  }
  async getChats(params) {
    return await this.#chatListManager.getChats(params?.from, params?.after, params?.limit);
  }
  async getChat(chatId) {
    return await this.#chatListManager.getChat(chatId);
  }
  async getHistory(chatId, params) {
    return await this.#messageManager.getHistory(chatId, params);
  }
  async setAvailableReactions(chatId, availableReactions) {
    await this.#chatManager.setAvailableReactions(chatId, availableReactions);
  }
  async setChatPhoto(chatId, photo, params) {
    await this.#chatManager.setChatPhoto(chatId, photo, params);
  }
  async deleteChatPhoto(chatId) {
    await this.#chatManager.deleteChatPhoto(chatId);
  }
  async banChatMember(chatId, memberId, params) {
    await this.#chatManager.banChatMember(chatId, memberId, params);
  }
  async unbanChatMember(chatId, memberId) {
    await this.#chatManager.unbanChatMember(chatId, memberId);
  }
  async kickChatMember(chatId, memberId) {
    await this.#chatManager.banChatMember(chatId, memberId);
    await this.#chatManager.unbanChatMember(chatId, memberId);
  }
  async setChatMemberRights(chatId, memberId, params) {
    await this.#chatManager.setChatMemberRights(chatId, memberId, params);
  }
  async getChatAdministrators(chatId) {
    return await this.#chatListManager.getChatAdministrators(chatId);
  }
  async enableJoinRequests(chatId) {
    await this.#chatManager.enableJoinRequests(chatId);
  }
  async disableJoinRequests(chatId) {
    await this.#chatManager.disableJoinRequests(chatId);
  }
  async getInactiveChats() {
    return await this.#accountManager.getInactiveChats();
  }
  async getCreatedInviteLinks(chatId, params) {
    return await this.#chatManager.getCreatedInviteLinks(chatId, params);
  }
  async joinChat(chatId) {
    await this.#chatManager.joinChat(chatId);
  }
  async leaveChat(chatId) {
    await this.#chatManager.leaveChat(chatId);
  }
  async getChatMember(chatId, userId) {
    return await this.#chatListManager.getChatMember(chatId, userId);
  }
  async getChatMembers(chatId, params) {
    return await this.#chatListManager.getChatMembers(chatId, params);
  }
  async setChatStickerSet(chatId, setName) {
    await this.#messageManager.setChatStickerSet(chatId, setName);
  }
  async deleteChatStickerSet(chatId) {
    await this.#messageManager.deleteChatStickerSet(chatId);
  }
  async setBoostsRequiredToCircumventRestrictions(chatId, boosts) {
    await this.#chatManager.setBoostsRequiredToCircumventRestrictions(chatId, boosts);
  }
  async createInviteLink(chatId, params) {
    return await this.#chatManager.createInviteLink(chatId, params);
  }
  async approveJoinRequest(chatId, userId) {
    await this.#chatManager.approveJoinRequest(chatId, userId);
  }
  async declineJoinRequest(chatId, userId) {
    await this.#chatManager.declineJoinRequest(chatId, userId);
  }
  async approveJoinRequests(chatId, params) {
    await this.#chatManager.approveJoinRequests(chatId, params);
  }
  async declineJoinRequests(chatId, params) {
    await this.#chatManager.declineJoinRequests(chatId, params);
  }
  async getJoinRequests(chatId, params) {
    return await this.#chatManager.getJoinRequests(chatId, params);
  }
  async addChatMember(chatId, userId, params) {
    return await this.#chatManager.addChatMember(chatId, userId, params);
  }
  async addChatMembers(chatId, userIds) {
    return await this.#chatManager.addChatMembers(chatId, userIds);
  }
  async openChat(chatId, params) {
    await this.#updateManager.openChat(chatId, params);
  }
  async closeChat(chatId) {
    await this.#updateManager.closeChat(chatId);
  }
  async createGroup(title, params) {
    return await this.#chatListManager.createGroup(title, params);
  }
  async createSupergroup(title, params) {
    return await this.#chatListManager.createSupergroup(title, params);
  }
  async createChannel(title, params) {
    return await this.#chatListManager.createChannel(title, params);
  }
  async setMessageTtl(chatId, messageTtl) {
    await this.#chatListManager.setMessageTtl(chatId, messageTtl);
  }
  async archiveChats(chatIds) {
    await this.#chatListManager.archiveChats(chatIds);
  }
  async archiveChat(chatId) {
    await this.#chatListManager.archiveChat(chatId);
  }
  async unarchiveChats(chatIds) {
    await this.#chatListManager.unarchiveChats(chatIds);
  }
  async unarchiveChat(chatId) {
    await this.#chatListManager.unarchiveChat(chatId);
  }
  async getCommonChats(userId, params) {
    return await this.#chatListManager.getCommonChats(userId, params);
  }
  async getChatSettings(chatId) {
    return await this.#chatListManager.getChatSettings(chatId);
  }
  async disableBusinessBots(chatId) {
    await this.#chatListManager.disableBusinessBots(chatId);
  }
  async enableBusinessBots(chatId) {
    await this.#chatListManager.enableBusinessBots(chatId);
  }
  async disableSlowMode(chatId) {
    await this.#chatManager.disableSlowMode(chatId);
  }
  async setSlowMode(chatId, duration) {
    await this.#chatManager.setSlowMode(chatId, duration);
  }
  async setChatTitle(chatId, title) {
    await this.#chatManager.setChatTitle(chatId, title);
  }
  async setChatDescription(chatId, description) {
    await this.#chatManager.setChatDescription(chatId, description);
  }
  async setMemberListVisibility(chatId, visible) {
    await this.#chatManager.setMemberListVisibility(chatId, visible);
  }
  async setTopicsEnabled(chatId, enabled, tabs) {
    await this.#chatManager.setTopicsEnabled(chatId, enabled, tabs);
  }
  async setAntispamEnabled(chatId, enabled) {
    await this.#chatManager.setAntispamEnabled(chatId, enabled);
  }
  async setSignaturesEnabled(chatId, enabled, params) {
    await this.#chatManager.setSignaturesEnabled(chatId, enabled, params);
  }
  async deleteChat(chatId) {
    await this.#chatManager.deleteChat(chatId);
  }
  async getDiscussionChatSuggestions() {
    return await this.#chatManager.getDiscussionChatSuggestions();
  }
  async setDiscussionChat(chatId, discussionChatId) {
    await this.#chatManager.setDiscussionChat(chatId, discussionChatId);
  }
  async transferChatOwnership(chatId, userId, password) {
    await this.#chatManager.transferChatOwnership(chatId, userId, password);
  }
  async createTopic(chatId, title, params) {
    return await this.#forumManager.createTopic(chatId, title, params);
  }
  async editTopic(chatId, topicId, title, params) {
    return await this.#forumManager.editTopic(chatId, topicId, title, params);
  }
  async hideGeneralTopic(chatId) {
    await this.#forumManager.hideGeneralTopic(chatId);
  }
  async showGeneralTopic(chatId) {
    await this.#forumManager.showGeneralTopic(chatId);
  }
  async closeTopic(chatId, topicId) {
    await this.#forumManager.closeTopic(chatId, topicId);
  }
  async reopenTopic(chatId, topicId) {
    await this.#forumManager.reopenTopic(chatId, topicId);
  }
  async pinTopic(chatId, topicId) {
    await this.#forumManager.pinTopic(chatId, topicId);
  }
  async unpinTopic(chatId, topicId) {
    await this.#forumManager.unpinTopic(chatId, topicId);
  }
  async promoteChatMember(chatId, userId, params) {
    await this.#chatManager.promoteChatMember(chatId, userId, params);
  }
  async sendCallbackQuery(botId, messageId, question) {
    return await this.#callbackQueryManager.sendCallbackQuery(botId, messageId, question);
  }
  async answerCallbackQuery(id5, params) {
    await this.#callbackQueryManager.answerCallbackQuery(id5, params);
  }
  async sendInlineQuery(botId, chatId, params) {
    return await this.#inlineQueryManager.sendInlineQuery(botId, chatId, params);
  }
  async answerInlineQuery(id5, results, params) {
    await this.#inlineQueryManager.answerInlineQuery(id5, results, params);
  }
  async setMyDescription(params) {
    await this.#botInfoManager.setMyDescription(params);
  }
  async setMyName(params) {
    await this.#botInfoManager.setMyName(params);
  }
  async setMyShortDescription(params) {
    await this.#botInfoManager.setMyShortDescription(params);
  }
  async getMyDescription(params) {
    return await this.#botInfoManager.getMyDescription(params);
  }
  async getMyName(params) {
    return await this.#botInfoManager.getMyName(params);
  }
  async getMyShortDescription(params) {
    return await this.#botInfoManager.getMyShortDescription(params);
  }
  async setMyCommands(commands, params) {
    await this.#botInfoManager.setMyCommands(commands, params);
  }
  async getMyCommands(params) {
    return await this.#botInfoManager.getMyCommands(params);
  }
  async setReactions(chatId, messageId, reactions, params) {
    await this.#messageManager.setReactions(chatId, messageId, reactions, params);
  }
  async addReaction(chatId, messageId, reaction, params) {
    await this.#messageManager.addReaction(chatId, messageId, reaction, params);
  }
  async removeReaction(chatId, messageId, reaction) {
    await this.#messageManager.removeReaction(chatId, messageId, reaction);
  }
  async createStory(chatId, content, params) {
    return await this.#storyManager.createStory(chatId, content, params);
  }
  async getStories(chatId, storyIds) {
    if (!storyIds.length) {
      return [];
    }
    return await this.#storyManager.getStories(chatId, storyIds);
  }
  async getStory(chatId, storyId) {
    return await this.#storyManager.getStory(chatId, storyId);
  }
  async deleteStories(chatId, storyIds) {
    await this.#storyManager.deleteStories(chatId, storyIds);
  }
  async deleteStory(chatId, storyId) {
    await this.#storyManager.deleteStory(chatId, storyId);
  }
  async addStoriesToHighlights(chatId, storyIds) {
    await this.#storyManager.addStoriesToHighlights(chatId, storyIds);
  }
  async addStoryToHighlights(chatId, storyId) {
    await this.#storyManager.addStoryToHighlights(chatId, storyId);
  }
  async removeStoriesFromHighlights(chatId, storyIds) {
    await this.#storyManager.removeStoriesFromHighlights(chatId, storyIds);
  }
  async removeStoryFromHighlights(chatId, storyId) {
    await this.#storyManager.removeStoryFromHighlights(chatId, storyId);
  }
  async getNetworkStatistics() {
    return await this.#networkStatisticsManager.getNetworkStatistics();
  }
  async blockUser(userId) {
    await this.#messageManager.blockUser(userId);
  }
  async unblockUser(userId) {
    await this.#messageManager.unblockUser(userId);
  }
  async startVideoChat(chatId, params) {
    return await this.#videoChatManager.startVideoChat(chatId, params);
  }
  async scheduleVideoChat(chatId, startAt, params) {
    return await this.#videoChatManager.scheduleVideoChat(chatId, startAt, params);
  }
  async joinVideoChat(id5, params_, params) {
    return await this.#videoChatManager.joinVideoChat(id5, params_, params);
  }
  async leaveVideoChat(id5) {
    await this.#videoChatManager.leaveVideoChat(id5);
  }
  async joinLiveStream(id5) {
    await this.#videoChatManager.joinLiveStream(id5);
  }
  async getVideoChat(id5) {
    return await this.#videoChatManager.getVideoChat(id5);
  }
  async getLiveStreamChannels(id5) {
    return await this.#videoChatManager.getLiveStreamChannels(id5);
  }
  async downloadLiveStreamSegment(id5, channelId, scale, timestamp, params) {
    return await this.#videoChatManager.downloadLiveStreamSegment(id5, channelId, scale, timestamp, params);
  }
  async answerPreCheckoutQuery(preCheckoutQueryId, ok, params) {
    await this.#paymentManager.answerPreCheckoutQuery(preCheckoutQueryId, ok, params);
  }
  async refundStarPayment(userId, telegramPaymentChargeId) {
    await this.#paymentManager.refundStarPayment(userId, telegramPaymentChargeId);
  }
  async getContacts() {
    return await this.#accountManager.getContacts();
  }
  async deleteContacts(userIds) {
    await this.#accountManager.deleteContacts(userIds);
  }
  async deleteContact(userId) {
    await this.#accountManager.deleteContact(userId);
  }
  async addContact(userId, params) {
    await this.#accountManager.addContact(userId, params);
  }
  async getTranslations(params) {
    return await this.#translationsManager.getTranslations(params);
  }
  async getGifts() {
    return await this.#giftManager.getGifts();
  }
  async getClaimedGifts(chatId, params) {
    return await this.#giftManager.getClaimedGifts(chatId, params);
  }
  async sendGift(chatId, giftId, params) {
    await this.#giftManager.sendGift(chatId, giftId, params);
  }
  async sellGift(userId, messageId) {
    await this.#giftManager.sellGift(userId, messageId);
  }
  async getGift(slug) {
    return await this.#giftManager.getGift(slug);
  }
};

// client/0_worker_error.ts
function deserializeWorkerError(error) {
  switch (error.name) {
    case "TelegramError":
      return constructTelegramError({
        _: "rpc_error",
        error_code: error.args[0].error_code,
        error_message: error.args[0].error_message
      }, error.args.call);
    case "ConnectionError":
      return new ConnectionError(error.args[0]);
    case "AccessError":
      return new AccessError(error.args[0]);
    case "InputError":
      return new InputError(error.args[0]);
    case "TransportError":
      return new TransportError(error.args[0]);
    case "TLError":
      return new TLError(error.args[0], error.args[1]);
    default:
      return new TypeError("Unknown error");
  }
}

// client/5_client_dispatcher.ts
var ClientDispatcher = class extends Composer {
  #worker;
  #id;
  #L;
  #LsignIn;
  #pendingRequests = /* @__PURE__ */ new Map();
  constructor(worker, id5) {
    super();
    this.#worker = worker;
    this.#id = id5;
    this.#L = getLogger("ClientDispatcher").branch(this.#id);
    this.#LsignIn = this.#L.branch("signIn");
  }
  async handleResponse(response) {
    if (response.clientId !== this.#id) {
      return;
    }
    this.#L.debug("handling response message", response);
    if (response.isError) {
      this.#pendingRequests.get(response.id)?.reject(deserializeWorkerError(response.data));
      this.#pendingRequests.delete(response.id);
    } else {
      if (response.id === "") {
        try {
          await this.handleUpdate(this, response.data);
        } catch (err) {
          this.#L.error("Error handling update:", err);
        }
      } else {
        this.#pendingRequests.get(response.id)?.resolve(response.data);
        this.#pendingRequests.delete(response.id);
      }
    }
  }
  get id() {
    return this.#id;
  }
  async #dispatch(method, ...args) {
    const promiseWithResolvers = Promise.withResolvers();
    const id5 = crypto.randomUUID();
    this.#pendingRequests.set(id5, promiseWithResolvers);
    const request = {
      type: "request",
      clientId: this.#id,
      id: id5,
      method,
      args
    };
    this.#L.debug("posted message to worker", request);
    this.#worker.postMessage(request);
    return await promiseWithResolvers.promise;
  }
  #isInited = false;
  async init(params) {
    if (this.#isInited) {
      return;
    }
    this.#isInited = true;
    return await this.#dispatch("initClient", params);
  }
  async connect() {
    return await this.#dispatch("connect");
  }
  async disconnect() {
    return await this.#dispatch("disconnect");
  }
  async start(params) {
    await this.connect();
    await this.signIn(params);
  }
  async #invoke(function_, params) {
    let n = 1;
    while (true) {
      try {
        return await this.#dispatch("invoke", function_, params);
      } catch (err) {
        if (await this.#handleInvokeError(Object.freeze({ client: this, error: err, function: function_, n: n++ }), () => Promise.resolve(false))) {
          continue;
        } else {
          throw err;
        }
      }
    }
  }
  #handleInvokeError = skipInvoke();
  async handleInvokeError(request) {
    const args = request.args[0];
    return await this.#handleInvokeError({
      client: this,
      error: deserializeWorkerError(args.error),
      function: args.function,
      n: args.n
    }, () => Promise.resolve(false));
  }
  invoke = Object.assign(
    this.#invoke,
    {
      use: (handler) => {
        const handle = this.#handleInvokeError;
        this.#handleInvokeError = async (ctx, next) => {
          let result = null;
          return await handle(ctx, async () => {
            if (result !== null)
              return result;
            result = await handler(ctx, next);
            return result;
          });
        };
      }
    }
  );
  async sendCode(phoneNumber) {
    return await this.#dispatch("sendCode", phoneNumber);
  }
  async checkCode(code) {
    return await this.#dispatch("checkCode", code);
  }
  async getPasswordHint() {
    return await this.#dispatch("getPasswordHint");
  }
  async checkPassword(password) {
    return await this.#dispatch("checkPassword", password);
  }
  async checkBotToken(botToken) {
    return await this.#dispatch("checkBotToken", botToken);
  }
  async signIn(params) {
    await signIn(this, this.#LsignIn, params);
  }
  async signOut() {
    return await this.#dispatch("signOut");
  }
  async exportAuthString() {
    return await this.#dispatch("exportAuthString");
  }
  async importAuthString(authString) {
    return await this.#dispatch("importAuthString", authString);
  }
  async getInputPeer(id5) {
    return await this.#dispatch("getInputPeer", id5);
  }
  async getInputChannel(id5) {
    return await this.#dispatch("getInputChannel", id5);
  }
  async getInputUser(id5) {
    return await this.#dispatch("getInputUser", id5);
  }
  async getMe() {
    return await this.#dispatch("getMe");
  }
  async showUsername(id5, username) {
    return await this.#dispatch("showUsername", id5, username);
  }
  async hideUsername(id5, username) {
    return await this.#dispatch("hideUsername", id5, username);
  }
  async reorderUsernames(id5, order) {
    return await this.#dispatch("reorderUsernames", id5, order);
  }
  async hideUsernames(id5) {
    return await this.#dispatch("hideUsernames", id5);
  }
  async getBusinessConnection(id5) {
    return await this.#dispatch("getBusinessConnection", id5);
  }
  async setOnline(online) {
    return await this.#dispatch("setOnline", online);
  }
  async setEmojiStatus(id5, params) {
    return await this.#dispatch(id5, params);
  }
  async setUserEmojiStatus(userId, id5, params) {
    return await this.#dispatch("setUserEmojiStatus", userId, id5, params);
  }
  async updateProfile(params) {
    return await this.#dispatch("updateProfile", params);
  }
  async setBirthday(params) {
    return await this.#dispatch("setBirthday", params);
  }
  async setPersonalChannel(params) {
    return await this.#dispatch("setPersonalChannel", params);
  }
  async setNameColor(color, params) {
    return await this.#dispatch("setNameColor", color, params);
  }
  async setProfileColor(color, params) {
    return await this.#dispatch("setProfileColor", color, params);
  }
  async setLocation(params) {
    return await this.#dispatch("setLocation", params);
  }
  async sendMessage(chatId, text, params) {
    return await this.#dispatch("sendMessage", chatId, text, params);
  }
  async sendPhoto(chatId, photo, params) {
    return await this.#dispatch("sendPhoto", chatId, photo, params);
  }
  async sendDocument(chatId, document, params) {
    return await this.#dispatch("sendDocument", chatId, document, params);
  }
  async sendSticker(chatId, sticker, params) {
    return await this.#dispatch("sendSticker", chatId, sticker, params);
  }
  async sendVideo(chatId, video, params) {
    return await this.#dispatch("sendVideo", chatId, video, params);
  }
  async sendAnimation(chatId, animation, params) {
    return await this.#dispatch("sendAnimation", chatId, animation, params);
  }
  async sendVoice(chatId, voice, params) {
    return await this.#dispatch("sendVoice", chatId, voice, params);
  }
  async sendAudio(chatId, audio, params) {
    return await this.#dispatch("sendAudio", chatId, audio, params);
  }
  async sendMediaGroup(chatId, media, params) {
    return await this.#dispatch("sendMediaGroup", chatId, media, params);
  }
  async sendVideoNote(chatId, videoNote, params) {
    return await this.#dispatch("sendVideoNote", chatId, videoNote, params);
  }
  async sendLocation(chatId, latitude, longitude, params) {
    return await this.#dispatch("sendLocation", chatId, latitude, longitude, params);
  }
  async sendContact(chatId, firstName, number, params) {
    return await this.#dispatch("sendContact", chatId, firstName, number, params);
  }
  async sendDice(chatId, params) {
    return await this.#dispatch("sendDice", chatId, params);
  }
  async sendVenue(chatId, latitude, longitude, title, address, params) {
    return await this.#dispatch("sendVenue", chatId, latitude, longitude, title, address, params);
  }
  async sendPoll(chatId, question, options, params) {
    return await this.#dispatch("sendPoll", chatId, question, options, params);
  }
  async sendInvoice(chatId, title, description, payload, currency, prices, params) {
    return await this.#dispatch("sendInvoice", chatId, title, description, payload, currency, prices, params);
  }
  async editMessageText(chatId, messageId, text, params) {
    return await this.#dispatch("editMessageText", chatId, messageId, text, params);
  }
  async editMessageCaption(chatId, messageId, params) {
    return await this.#dispatch("editMessageCaption", chatId, messageId, params);
  }
  async editMessageMedia(chatId, messageId, media, params) {
    return await this.#dispatch("editMessageMedia", chatId, messageId, media, params);
  }
  async editInlineMessageMedia(inlineMessageId, media, params) {
    return await this.#dispatch("editInlineMessageMedia", inlineMessageId, media, params);
  }
  async editInlineMessageText(inlineMessageId, text, params) {
    return await this.#dispatch("editInlineMessageText", inlineMessageId, text, params);
  }
  async editInlineMessageCaption(inlineMessageId, params) {
    return await this.#dispatch("editInlineMessageCaption", inlineMessageId, params);
  }
  async editMessageReplyMarkup(chatId, messageId, params) {
    return await this.#dispatch("editMessageReplyMarkup", chatId, messageId, params);
  }
  async editInlineMessageReplyMarkup(inlineMessageId, params) {
    return await this.#dispatch("editInlineMessageReplyMarkup", inlineMessageId, params);
  }
  async editMessageLiveLocation(chatId, messageId, latitude, longitude, params) {
    return await this.#dispatch("editMessageLiveLocation", chatId, messageId, latitude, longitude, params);
  }
  async editInlineMessageLiveLocation(inlineMessageId, latitude, longitude, params) {
    return await this.#dispatch("editInlineMessageLiveLocation", inlineMessageId, latitude, longitude, params);
  }
  async getMessages(chatId, messageIds) {
    return await this.#dispatch("getMessages", chatId, messageIds);
  }
  async getMessage(chatId, messageId) {
    return await this.#dispatch("getMessage", chatId, messageId);
  }
  async resolveMessageLink(link) {
    return await this.#dispatch("resolveMessageLink", link);
  }
  async deleteMessages(chatId, messageIds, params) {
    return await this.#dispatch("deleteMessages", chatId, messageIds, params);
  }
  async deleteMessage(chatId, messageId, params) {
    return await this.#dispatch("deleteMessage", chatId, messageId, params);
  }
  async deleteChatMemberMessages(chatId, memberId) {
    return await this.#dispatch("deleteChatMemberMessages", chatId, memberId);
  }
  async deleteScheduledMessages(chatId, messageIds) {
    return await this.#dispatch("deleteScheduledMessages", chatId, messageIds);
  }
  async deleteScheduledMessage(chatId, messageId) {
    return await this.#dispatch("deleteScheduledMessage", chatId, messageId);
  }
  async sendScheduledMessages(chatId, messageIds) {
    return await this.#dispatch("sendScheduledMessages", chatId, messageIds);
  }
  async sendScheduledMessage(chatId, messageId) {
    return await this.#dispatch("sendScheduledMessage", chatId, messageId);
  }
  async pinMessage(chatId, messageId, params) {
    return await this.#dispatch("pinMessage", chatId, messageId, params);
  }
  async unpinMessage(chatId, messageId, params) {
    return await this.#dispatch("unpinMessage", chatId, messageId, params);
  }
  async unpinMessages(chatId) {
    return await this.#dispatch("unpinMessages", chatId);
  }
  async forwardMessages(from, to, messageIds, params) {
    return await this.#dispatch("forwardMessages", from, to, messageIds, params);
  }
  async forwardMessage(from, to, messageId, params) {
    return await this.#dispatch("forwardMessage", from, to, messageId, params);
  }
  async stopPoll(chatId, messageId, params) {
    return await this.#dispatch("stopPoll", chatId, messageId, params);
  }
  async sendChatAction(chatId, action, params) {
    return await this.#dispatch("sendChatAction", chatId, action, params);
  }
  async searchMessages(params) {
    return await this.#dispatch("searchMessages", params);
  }
  async readMessages(chatId, untilMessageId) {
    return await this.#dispatch("readMessages", chatId, untilMessageId);
  }
  async startBot(botId, params) {
    return await this.#dispatch("startBot", botId, params);
  }
  async transcribeVoice(chatId, messageId) {
    return await this.#dispatch("transcribeVoice", chatId, messageId);
  }
  async getStickerSet(name) {
    return await this.#dispatch("getStickerSet", name);
  }
  async getLinkPreview(text, params) {
    return await this.#dispatch("getLinkPreview", text, params);
  }
  async openMiniApp(botId, chatId, params) {
    return await this.#dispatch("openMiniApp", botId, chatId, params);
  }
  async getProgressId() {
    return await this.#dispatch("getProgressId");
  }
  async getSavedMessages(chatId, params) {
    return await this.#dispatch("getSavedMessages", chatId, params);
  }
  async getSavedChats(params) {
    return await this.#dispatch("getSavedChats", params);
  }
  async getMessageReactions(chatId, messageId, params) {
    return await this.#dispatch("getMessageReactions", chatId, messageId, params);
  }
  async vote(chatId, messageId, optionIndexes) {
    return await this.#dispatch("vote", chatId, messageId, optionIndexes);
  }
  async retractVote(chatId, messageId) {
    return await this.#dispatch("retractVote", chatId, messageId);
  }
  async downloadChunk(fileId, params) {
    return await this.#dispatch("downloadChunk", fileId, params);
  }
  async *download(fileId, params) {
    let offset = 0;
    const chunkSize = params?.chunkSize ?? DOWNLOAD_MAX_CHUNK_SIZE;
    while (true) {
      const chunk = await this.downloadChunk(fileId, { chunkSize, offset });
      yield chunk;
      if (chunk.length < chunkSize) {
        break;
      } else {
        offset += chunk.length;
      }
    }
  }
  async getCustomEmojiStickers(id5) {
    return await this.#dispatch("getCustomEmojiStickers", id5);
  }
  async getChats(params) {
    return await this.#dispatch("getChats", params);
  }
  async getChat(chatId) {
    return await this.#dispatch("getChat", chatId);
  }
  async getHistory(chatId, params) {
    return await this.#dispatch("getHistory", chatId, params);
  }
  async setAvailableReactions(chatId, availableReactions) {
    return await this.#dispatch("setAvailableReactions", chatId, availableReactions);
  }
  async setChatPhoto(chatId, photo, params) {
    return await this.#dispatch("setChatPhoto", chatId, photo, params);
  }
  async deleteChatPhoto(chatId) {
    return await this.#dispatch("deleteChatPhoto", chatId);
  }
  async banChatMember(chatId, memberId, params) {
    return await this.#dispatch("banChatMember", chatId, memberId, params);
  }
  async unbanChatMember(chatId, memberId) {
    return await this.#dispatch("unbanChatMember", chatId, memberId);
  }
  async kickChatMember(chatId, memberId) {
    return await this.#dispatch("kickChatMember", chatId, memberId);
  }
  async setChatMemberRights(chatId, memberId, params) {
    return await this.#dispatch("setChatMemberRights", chatId, memberId, params);
  }
  async getChatAdministrators(chatId) {
    return await this.#dispatch("getChatAdministrators", chatId);
  }
  async enableJoinRequests(chatId) {
    return await this.#dispatch("enableJoinRequests", chatId);
  }
  async disableJoinRequests(chatId) {
    return await this.#dispatch("disableJoinRequests", chatId);
  }
  async getInactiveChats() {
    return await this.#dispatch("getInactiveChats");
  }
  async getCreatedInviteLinks(chatId, params) {
    return await this.#dispatch("getCreatedInviteLinks", chatId, params);
  }
  async joinChat(chatId) {
    return await this.#dispatch("joinChat", chatId);
  }
  async leaveChat(chatId) {
    return await this.#dispatch("leaveChat", chatId);
  }
  async getChatMember(chatId, userId) {
    return await this.#dispatch("getChatMember", chatId, userId);
  }
  async getChatMembers(chatId, params) {
    return await this.#dispatch("getChatMembers", chatId, params);
  }
  async setChatStickerSet(chatId, setName) {
    return await this.#dispatch("setChatStickerSet", chatId, setName);
  }
  async deleteChatStickerSet(chatId) {
    return await this.#dispatch("deleteChatStickerSet", chatId);
  }
  async setBoostsRequiredToCircumventRestrictions(chatId, boosts) {
    return await this.#dispatch("setBoostsRequiredToCircumventRestrictions", chatId, boosts);
  }
  async createInviteLink(chatId, params) {
    return await this.#dispatch("createInviteLink", chatId, params);
  }
  async approveJoinRequest(chatId, userId) {
    return await this.#dispatch("approveJoinRequest", chatId, userId);
  }
  async declineJoinRequest(chatId, userId) {
    return await this.#dispatch("declineJoinRequest", chatId, userId);
  }
  async approveJoinRequests(chatId, params) {
    return await this.#dispatch("approveJoinRequests", chatId, params);
  }
  async declineJoinRequests(chatId, params) {
    return await this.#dispatch("declineJoinRequests", chatId, params);
  }
  async getJoinRequests(chatId, params) {
    return await this.#dispatch("getJoinRequests", chatId, params);
  }
  async addChatMember(chatId, userId, params) {
    return await this.#dispatch("addChatMember", chatId, userId, params);
  }
  async addChatMembers(chatId, userIds) {
    return await this.#dispatch("addChatMembers", chatId, userIds);
  }
  async openChat(chatId, params) {
    return await this.#dispatch("openChat", chatId, params);
  }
  async closeChat(chatId) {
    return await this.#dispatch("closeChat", chatId);
  }
  async createGroup(title, params) {
    return await this.#dispatch("createGroup", title, params);
  }
  async createSupergroup(title, params) {
    return await this.#dispatch("createSupergroup", title, params);
  }
  async createChannel(title, params) {
    return await this.#dispatch("createChannel", title, params);
  }
  async setMessageTtl(chatId, messageTtl) {
    return await this.#dispatch("setMessageTtl", chatId, messageTtl);
  }
  async archiveChats(chatIds) {
    return await this.#dispatch("archiveChats", chatIds);
  }
  async archiveChat(chatId) {
    return await this.#dispatch("archiveChat", chatId);
  }
  async unarchiveChats(chatIds) {
    return await this.#dispatch("unarchiveChats", chatIds);
  }
  async unarchiveChat(chatId) {
    return await this.#dispatch("unarchiveChat", chatId);
  }
  async getCommonChats(userId, params) {
    return await this.#dispatch("getCommonChats", userId, params);
  }
  async getChatSettings(chatId) {
    return await this.#dispatch("getChatSettings", chatId);
  }
  async disableBusinessBots(chatId) {
    return await this.#dispatch("disableBusinessBots", chatId);
  }
  async enableBusinessBots(chatId) {
    return await this.#dispatch("enableBusinessBots", chatId);
  }
  async disableSlowMode(chatId) {
    return await this.#dispatch("disableSlowMode", chatId);
  }
  async setSlowMode(chatId, duration) {
    return await this.#dispatch("setSlowMode", chatId, duration);
  }
  async setChatTitle(chatId, title) {
    return await this.#dispatch("setChatTitle", chatId, title);
  }
  async setChatDescription(chatId, description) {
    return await this.#dispatch("setChatDescription", chatId, description);
  }
  async setMemberListVisibility(chatId, visible) {
    return await this.#dispatch("setMemberListVisibility", chatId, visible);
  }
  async setTopicsEnabled(chatId, enabled, tabs) {
    return await this.#dispatch("setTopicsEnabled", chatId, enabled, tabs);
  }
  async setAntispamEnabled(chatId, enabled) {
    return await this.#dispatch("setAntispamEnabled", chatId, enabled);
  }
  async setSignaturesEnabled(chatId, enabled, params) {
    return await this.#dispatch("setSignaturesEnabled", chatId, enabled, params);
  }
  async deleteChat(chatId) {
    return await this.#dispatch("deleteChat", chatId);
  }
  async getDiscussionChatSuggestions() {
    return await this.#dispatch("getDiscussionChatSuggestions");
  }
  async setDiscussionChat(chatId, discussionChatId) {
    return await this.#dispatch("setDiscussionChat", chatId, discussionChatId);
  }
  async transferChatOwnership(chatId, userId, password) {
    return await this.#dispatch("transferChatOwnership", chatId, userId, password);
  }
  async createTopic(chatId, title, params) {
    return await this.#dispatch("createTopic", chatId, title, params);
  }
  async editTopic(chatId, topicId, title, params) {
    return await this.#dispatch("editTopic", chatId, topicId, title, params);
  }
  async hideGeneralTopic(chatId) {
    return await this.#dispatch("hideGeneralTopic", chatId);
  }
  async showGeneralTopic(chatId) {
    return await this.#dispatch("showGeneralTopic", chatId);
  }
  async closeTopic(chatId, topicId) {
    return await this.#dispatch("closeTopic", chatId, topicId);
  }
  async reopenTopic(chatId, topicId) {
    return await this.#dispatch("reopenTopic", chatId, topicId);
  }
  async pinTopic(chatId, topicId) {
    return await this.#dispatch("pinTopic", chatId, topicId);
  }
  async unpinTopic(chatId, topicId) {
    return await this.#dispatch("unpinTopic", chatId, topicId);
  }
  async promoteChatMember(chatId, userId, params) {
    return await this.#dispatch("promoteChatMember", chatId, userId, params);
  }
  async sendCallbackQuery(botId, messageId, question) {
    return await this.#dispatch("sendCallbackQuery", botId, messageId, question);
  }
  async answerCallbackQuery(id5, params) {
    return await this.#dispatch("answerCallbackQuery", id5, params);
  }
  async sendInlineQuery(botId, chatId, params) {
    return await this.#dispatch("sendInlineQuery", botId, chatId, params);
  }
  async answerInlineQuery(id5, results, params) {
    return await this.#dispatch("answerInlineQuery", id5, results, params);
  }
  async setMyDescription(params) {
    return await this.#dispatch("setMyDescription", params);
  }
  async setMyName(params) {
    return await this.#dispatch("setMyName", params);
  }
  async setMyShortDescription(params) {
    return await this.#dispatch("setMyShortDescription", params);
  }
  async getMyDescription(params) {
    return await this.#dispatch("getMyDescription", params);
  }
  async getMyName(params) {
    return await this.#dispatch("getMyName", params);
  }
  async getMyShortDescription(params) {
    return await this.#dispatch("getMyShortDescription", params);
  }
  async setMyCommands(commands, params) {
    return await this.#dispatch("setMyCommands", commands, params);
  }
  async getMyCommands(params) {
    return await this.#dispatch("getMyCommands", params);
  }
  async setReactions(chatId, messageId, reactions, params) {
    return await this.#dispatch("setReactions", chatId, messageId, reactions, params);
  }
  async addReaction(chatId, messageId, reaction, params) {
    return await this.#dispatch("addReaction", chatId, messageId, reaction, params);
  }
  async removeReaction(chatId, messageId, reaction) {
    return await this.#dispatch("removeReaction", chatId, messageId, reaction);
  }
  async createStory(chatId, content, params) {
    return await this.#dispatch("createStory", chatId, content, params);
  }
  async getStories(chatId, storyIds) {
    return await this.#dispatch("getStories", chatId, storyIds);
  }
  async getStory(chatId, storyId) {
    return await this.#dispatch("getStory", chatId, storyId);
  }
  async deleteStories(chatId, storyIds) {
    return await this.#dispatch("deleteStories", chatId, storyIds);
  }
  async deleteStory(chatId, storyId) {
    return await this.#dispatch("deleteStory", chatId, storyId);
  }
  async addStoriesToHighlights(chatId, storyIds) {
    return await this.#dispatch("addStoriesToHighlights", chatId, storyIds);
  }
  async addStoryToHighlights(chatId, storyId) {
    return await this.#dispatch("addStoryToHighlights", chatId, storyId);
  }
  async removeStoriesFromHighlights(chatId, storyIds) {
    return await this.#dispatch("removeStoriesFromHighlights", chatId, storyIds);
  }
  async removeStoryFromHighlights(chatId, storyId) {
    return await this.#dispatch("removeStoryFromHighlights", chatId, storyId);
  }
  async getNetworkStatistics() {
    return await this.#dispatch("getNetworkStatistics");
  }
  async blockUser(userId) {
    return await this.#dispatch("blockUser", userId);
  }
  async unblockUser(userId) {
    return await this.#dispatch("unblockUser", userId);
  }
  async startVideoChat(chatId, params) {
    return await this.#dispatch("startVideoChat", chatId, params);
  }
  async scheduleVideoChat(chatId, startAt, params) {
    return await this.#dispatch("scheduleVideoChat", chatId, startAt, params);
  }
  async joinVideoChat(id5, params_, params) {
    return await this.#dispatch("joinVideoChat", id5, params_, params);
  }
  async leaveVideoChat(id5) {
    return await this.#dispatch("leaveVideoChat", id5);
  }
  async joinLiveStream(id5) {
    return await this.#dispatch("joinLiveStream", id5);
  }
  async getVideoChat(id5) {
    return await this.#dispatch("getVideoChat", id5);
  }
  async getLiveStreamChannels(id5) {
    return await this.#dispatch("getLiveStreamChannels", id5);
  }
  async downloadLiveStreamSegment(id5, channelId, scale, timestamp, params) {
    return await this.#dispatch("downloadLiveStreamSegment", id5, channelId, scale, timestamp, params);
  }
  async answerPreCheckoutQuery(preCheckoutQueryId, ok, params) {
    return await this.#dispatch("answerPreCheckoutQuery", preCheckoutQueryId, ok, params);
  }
  async refundStarPayment(userId, telegramPaymentChargeId) {
    return await this.#dispatch("refundStarPayment", userId, telegramPaymentChargeId);
  }
  async getContacts() {
    return await this.#dispatch("getContacts");
  }
  async deleteContacts(userIds) {
    return await this.#dispatch("deleteContacts", userIds);
  }
  async deleteContact(userId) {
    return await this.#dispatch("deleteContact", userId);
  }
  async addContact(userId, params) {
    return await this.#dispatch("addContact", userId, params);
  }
  async getTranslations(params) {
    return await this.#dispatch("getTranslations", params);
  }
  async getGifts() {
    return await this.#dispatch("getGifts");
  }
  async getClaimedGifts(chatId, params) {
    return await this.#dispatch("getClaimedGifts", chatId, params);
  }
  async sendGift(chatId, giftId, params) {
    return await this.#dispatch("sendGift", chatId, giftId, params);
  }
  async sellGift(userId, messageId) {
    return await this.#dispatch("sellGift", userId, messageId);
  }
  async getGift(slug) {
    return await this.#dispatch("getGift", slug);
  }
};

// client/6_client_worker.ts
var ClientWorker = class {
  #worker;
  #clients = /* @__PURE__ */ new Map();
  #L = getLogger("ClientWorker");
  constructor(specifier, options) {
    this.#worker = specifier instanceof Worker ? specifier : new Worker(specifier, options);
    this.#worker.addEventListener("message", async (e) => {
      this.#L.debug("received message from worker", e.data);
      const message = e.data;
      if (message.type === "response") {
        this.#clients.get(message.clientId)?.handleResponse(message);
      } else if (message.type === "request") {
        if (message.method === "handleInvokeError") {
          const client = this.#clients.get(message.clientId);
          if (client) {
            const result = await client.handleInvokeError(message);
            const response = {
              type: "response",
              clientId: message.clientId,
              id: message.id,
              isError: false,
              data: result
            };
            this.#worker.postMessage(response);
          }
        }
      }
    });
  }
  terminate() {
    this.#worker.terminate();
  }
  async createClient(id5, params) {
    if (this.#clients.has(id5)) {
      throw new InputError("Client already created");
    }
    const client = new ClientDispatcher(this.#worker, id5);
    this.#clients.set(id5, client);
    try {
      await client.init(params);
    } catch (err) {
      this.#clients.delete(id5);
      throw err;
    }
    return client;
  }
};
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {
  APP_VERSION,
  Api,
  BOOL_FALSE,
  BOOL_TRUE,
  Client,
  ClientDispatcher,
  ClientEncrypted,
  ClientPlain,
  ClientWorker,
  Composer,
  ConnectionWebSocket,
  DEVICE_MODEL,
  FileType,
  INITIAL_DC,
  LANG_CODE,
  LANG_PACK,
  MSG_CONTAINER_CONSTRUCTOR,
  Mtproto,
  PhotoSourceType,
  SYSTEM_LANG_CODE,
  SYSTEM_VERSION,
  StorageIndexedDB,
  StorageLocalStorage,
  StorageMemory,
  StorageSessionStorage,
  TLReader,
  TLWriter,
  Transport,
  TransportAbridged,
  TransportIntermediate,
  VECTOR,
  ValueType,
  X,
  analyzeOptionalParam,
  assertMessageType,
  birthdayToTlObject,
  botCommandScopeToTlObject,
  chatAdministratorRightsToTlObject,
  chatMemberRightsToTlObject,
  checkPassword,
  concat,
  constructAnimation,
  constructAudio,
  constructBirthday,
  constructBusinessConnection,
  constructCallbackQuery,
  constructCallbackQueryAnswer,
  constructChat,
  constructChatAdministratorRights,
  constructChatListItem,
  constructChatListItem2,
  constructChatListItem3,
  constructChatListItem4,
  constructChatMember,
  constructChatMemberRights,
  constructChatMemberUpdated,
  constructChatP,
  constructChatPhoto,
  constructChatSettings,
  constructChosenInlineResult,
  constructClaimedGift,
  constructClaimedGifts,
  constructContact,
  constructDice,
  constructDocument,
  constructFailedInvitation,
  constructForwardHeader,
  constructGame,
  constructGift,
  constructGiftNonUpgraded,
  constructGiftUpgraded,
  constructGiftUpgradedComponent,
  constructGiveaway,
  constructGiveawayParameters,
  constructInactiveChat,
  constructInlineKeyboardButton,
  constructInlineQuery,
  constructInlineQueryAnswer,
  constructInlineQueryResult,
  constructInviteLink,
  constructInvoice,
  constructJoinRequest,
  constructJoinRequest2,
  constructKeyboardButton,
  constructLinkPreview,
  constructLiveStreamChannel,
  constructLocation,
  constructMaskPosition,
  constructMessage,
  constructMessageEntity,
  constructMessageReaction,
  constructMessageReactionCount,
  constructMessageReactionList,
  constructMessageReactionListItem,
  constructMessageReactions,
  constructMiniAppButtonInfo,
  constructMiniAppInfo,
  constructOpeningHours,
  constructOrderInfo,
  constructPhoto,
  constructPoll,
  constructPollAnswer,
  constructPollOption,
  constructPreCheckoutQuery,
  constructReaction,
  constructReactionCount,
  constructRefundedPayment,
  constructReplyMarkup,
  constructReplyQuote,
  constructRestrictionReason,
  constructSavedChat,
  constructSavedChats,
  constructSelfDestructOption,
  constructShippingAddress,
  constructSticker,
  constructSticker2,
  constructStickerSet,
  constructStory,
  constructStoryContent,
  constructStoryInteractions,
  constructStoryInteractiveArea,
  constructStoryPrivacy,
  constructStoryReaction,
  constructSuccessfulPayment,
  constructThumbnail,
  constructTopic,
  constructTranslation,
  constructUser,
  constructUser2,
  constructVenue,
  constructVideo,
  constructVideoChat,
  constructVideoNote,
  constructVoice,
  constructVoiceTranscription,
  constructorIdToHex,
  deserializeFileId,
  deserializeInlineMessageId,
  deserializeMessage,
  deserializeMsgContainer,
  errors,
  fixKey,
  flatten,
  fromString,
  getChatListItemOrder,
  getColorFromPeerId,
  getColorName,
  getDc,
  getDcId,
  getDcIps,
  getOptionalParamInnerType,
  getPhotoFileId,
  getPhotoSizes,
  getPrefixKeyRange,
  getRandomId,
  getVectorItemType,
  handleMigrationError,
  inlineKeyboardButtonToTlObject,
  inlineQueryResultToTlObject,
  isChatPUser,
  isInRange,
  isMessageType,
  isOptionalParam,
  keyboardButtonToTlObject,
  messageEntityToTlObject,
  messageSearchFilterToTlObject,
  reactionEqual,
  reactionToTlObject,
  replyMarkupToTlObject,
  repr,
  restartAuth,
  restoreKey,
  selfDestructOptionToInt,
  serializeFileId,
  serializeMessage,
  serializeMsgContainer,
  setLogFilter,
  setLogVerbosity,
  setLoggingProvider,
  skip,
  slowModeDurationToSeconds,
  sortMessageEntities,
  storyInteractiveAreaToTlObject,
  storyPrivacyToTlObject,
  toJSON,
  toString,
  toUniqueFileId,
  transportProviderTcp,
  transportProviderWebSocket,
  validateCallbackQueryQuestion
});
